{"version":3,"file":"bundle.js","sources":["../../node_modules/piconuro/index.js","../../node_modules/base64-js/index.js","../../node_modules/ieee754/index.js","../../node_modules/buffer/index.js","../../node_modules/events/events.js","../../node_modules/process/browser.js","../../node_modules/get-intrinsic/index.js","../../node_modules/has-symbols/shams.js","../../node_modules/has-tostringtag/shams.js","../../node_modules/has-symbols/index.js","../../node_modules/function-bind/implementation.js","../../node_modules/function-bind/index.js","../../node_modules/has/src/index.js","../../node_modules/call-bind/index.js","../../node_modules/call-bind/callBound.js","../../node_modules/is-arguments/index.js","../../node_modules/is-generator-function/index.js","../../node_modules/foreach/index.js","../../node_modules/available-typed-arrays/index.js","../../node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","../../node_modules/is-typed-array/index.js","../../node_modules/which-typed-array/index.js","../../node_modules/util/support/types.js","../../node_modules/util/support/isBufferBrowser.js","../../node_modules/inherits/inherits_browser.js","../../node_modules/util/util.js","../../node_modules/level-supports/index.js","../../node_modules/catering/index.js","../../node_modules/queue-tick/queue-microtask.js","../../node_modules/queue-microtask/index.js","../../node_modules/abstract-leveldown/next-tick-browser.js","../../node_modules/abstract-leveldown/abstract-iterator.js","../../node_modules/abstract-leveldown/abstract-chained-batch.js","../../node_modules/abstract-leveldown/lib/common.js","../../node_modules/abstract-leveldown/abstract-leveldown.js","../../node_modules/is-buffer/index.js","../../node_modules/abstract-leveldown/index.js","../../node_modules/deferred-leveldown/util.js","../../node_modules/deferred-leveldown/deferred-iterator.js","../../node_modules/deferred-leveldown/deferred-chained-batch.js","../../node_modules/deferred-leveldown/deferred-leveldown.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/destroy.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/errors-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/state.js","../../node_modules/util-deprecate/browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex.js","../../node_modules/safe-buffer/index.js","../../node_modules/level-iterator-stream/node_modules/string_decoder/lib/string_decoder.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js","../../node_modules/level-iterator-stream/index.js","../../node_modules/level-errors/errors.js","../../node_modules/levelup/lib/common.js","../../node_modules/levelup/lib/batch.js","../../node_modules/levelup/lib/next-tick-browser.js","../../node_modules/levelup/lib/levelup.js","../../node_modules/run-parallel-limit/index.js","../../node_modules/ltgt/index.js","../../node_modules/level-js/util/key-range.js","../../node_modules/level-js/util/deserialize.js","../../node_modules/level-js/iterator.js","../../node_modules/level-js/util/serialize.js","../../node_modules/level-js/util/support.js","../../node_modules/level-js/index.js","../../node_modules/level-js/util/clear.js","../../node_modules/latlon-geohash/latlon-geohash.js","../../node_modules/sodium-javascript/memory.js","../../node_modules/nanoassert/index.js","../../node_modules/sodium-javascript/randombytes.js","../../node_modules/sodium-javascript/crypto_verify.js","../../node_modules/sodium-javascript/helpers.js","../../node_modules/b4a/lib/ascii.js","../../node_modules/b4a/lib/base64.js","../../node_modules/b4a/lib/hex.js","../../node_modules/b4a/lib/utf8.js","../../node_modules/b4a/lib/utf16le.js","../../node_modules/b4a/browser.js","../../node_modules/sha512-universal/sha512.js","../../node_modules/sha512-wasm/sha512.js","../../node_modules/sha512-wasm/index.js","../../node_modules/sha512-universal/index.js","../../node_modules/sodium-javascript/crypto_auth.js","../../node_modules/sodium-javascript/crypto_hash.js","../../node_modules/sodium-javascript/internal/ed25519.js","../../node_modules/sodium-javascript/crypto_scalarmult.js","../../node_modules/blake2b-wasm/blake2b.js","../../node_modules/blake2b-wasm/index.js","../../node_modules/blake2b/index.js","../../node_modules/sodium-javascript/crypto_generichash.js","../../node_modules/xsalsa20/xsalsa20.js","../../node_modules/xsalsa20/index.js","../../node_modules/sodium-javascript/internal/poly1305.js","../../node_modules/sodium-javascript/crypto_stream.js","../../node_modules/sodium-javascript/crypto_onetimeauth.js","../../node_modules/sodium-javascript/crypto_secretbox.js","../../node_modules/sodium-javascript/crypto_box.js","../../node_modules/sha256-universal/sha256.js","../../node_modules/sha256-wasm/sha256.js","../../node_modules/sha256-wasm/index.js","../../node_modules/sha256-universal/index.js","../../node_modules/sodium-javascript/crypto_hash_sha256.js","../../node_modules/sodium-javascript/crypto_kdf.js","../../node_modules/sodium-javascript/crypto_kx.js","../../node_modules/chacha20-universal/index.js","../../node_modules/sodium-javascript/crypto_stream_chacha20.js","../../node_modules/sodium-javascript/crypto_aead.js","../../node_modules/siphash24/siphash24.js","../../node_modules/siphash24/fallback.js","../../node_modules/siphash24/index.js","../../node_modules/sodium-javascript/crypto_shorthash.js","../../node_modules/sodium-javascript/crypto_sign.js","../../node_modules/sodium-javascript/index.js","../../node_modules/sodium-universal/index.js","../../node_modules/inspect-custom-symbol/browser.js","../../node_modules/picofeed/index.js","../../node_modules/picorepo/index.js","../../node_modules/msgpackr/unpack.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/global.js","../../node_modules/msgpackr/pack.js","../../node_modules/msgpackr/iterators.js","../../node_modules/msgpackr/index.js","../../node_modules/@telamon/picostore/index.js","../../node_modules/debug/node_modules/ms/index.js","../../node_modules/debug/src/common.js","../../node_modules/debug/src/browser.js","../../node_modules/piconet/index.js","../../node_modules/picostack/simple-rpc.js","../../node_modules/picostack/simple-kernel.js","../../node_modules/picostack/index.js","../../blockend/util.js","../../blockend/game.js","../../blockend/slices/peers.reg.js","../../config.js","../../blockend/slices/vibes.reg.js","../../blockend/slices/chats.reg.js","../../blockend/mod/chat.mod.js","../../blockend/mod/buffered-registry.mod.js","../../blockend/mod/gc.mod.js","../../blockend/mod/peers.mod.js","../../blockend/mod/vibes.mod.js","../../blockend/mod/monitor.mod.js","../../blockend/index.js","../../blockend/bits.js","../../blockend/keychain.js","../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../frontend/api.js","../../frontend/components/Dialog.svelte","../../frontend/components/Icon.svelte","../../node_modules/qrcode-generator/qrcode.js","../../frontend/components/QRCode.svelte","../../frontend/views/Keygen.svelte","../../node_modules/dayjs/dayjs.min.js","../../frontend/components/Timer.svelte","../../node_modules/geolib/es/constants.js","../../node_modules/geolib/es/getCoordinateKey.js","../../node_modules/geolib/es/isDecimal.js","../../node_modules/geolib/es/isSexagesimal.js","../../node_modules/geolib/es/sexagesimalToDecimal.js","../../node_modules/geolib/es/getCoordinateKeys.js","../../node_modules/geolib/es/isValidLatitude.js","../../node_modules/geolib/es/isValidLongitude.js","../../node_modules/geolib/es/isValidCoordinate.js","../../node_modules/geolib/es/toDecimal.js","../../node_modules/geolib/es/getLatitude.js","../../node_modules/geolib/es/getLongitude.js","../../node_modules/geolib/es/toRad.js","../../node_modules/geolib/es/toDeg.js","../../node_modules/geolib/es/computeDestinationPoint.js","../../node_modules/geolib/es/convertArea.js","../../node_modules/geolib/es/convertDistance.js","../../node_modules/geolib/es/convertSpeed.js","../../node_modules/geolib/es/decimalToSexagesimal.js","../../node_modules/geolib/es/robustAcos.js","../../node_modules/geolib/es/getDistance.js","../../node_modules/geolib/es/orderByDistance.js","../../node_modules/geolib/es/findNearest.js","../../node_modules/geolib/es/getAreaOfPolygon.js","../../node_modules/geolib/es/getBounds.js","../../node_modules/geolib/es/getBoundsOfDistance.js","../../node_modules/geolib/es/getCenter.js","../../node_modules/geolib/es/getCenterOfBounds.js","../../node_modules/geolib/es/getRhumbLineBearing.js","../../node_modules/geolib/es/getCompassDirection.js","../../node_modules/geolib/es/getDistanceFromLine.js","../../node_modules/geolib/es/getGreatCircleBearing.js","../../node_modules/geolib/es/getPathLength.js","../../node_modules/geolib/es/getPreciseDistance.js","../../node_modules/geolib/es/getRoughCompassDirection.js","../../node_modules/geolib/es/getSpeed.js","../../node_modules/geolib/es/isPointInLine.js","../../node_modules/geolib/es/isPointInPolygon.js","../../node_modules/geolib/es/isPointNearLine.js","../../node_modules/geolib/es/isPointWithinRadius.js","../../node_modules/geolib/es/wktToPolygon.js","../../frontend/components/BinaryImage.svelte","../../node_modules/geolib/es/index.js","../../frontend/components/PeerPortrait.svelte","../../frontend/views/Pub.svelte","../../node_modules/svelte-easy-crop/src/helpers.js","../../node_modules/svelte-easy-crop/src/index.svelte","../../frontend/components/ImageLoader.svelte","../../frontend/views/Profile.svelte","../../frontend/views/Shop.svelte","../../frontend/components/PendingVibe.svelte","../../frontend/views/Messages.svelte","../../frontend/views/Chat.svelte","../../frontend/views/About.svelte","../../frontend/router.js","../../frontend/components/DebugSelector.svelte","../../frontend/App.svelte","../../node_modules/dayjs/plugin/duration.js","../../frontend/main.js"],"sourcesContent":["// SPDX-License-Identifier: AGPL-3.0-or-later\n/***\n * Pico::NeUROn\n *\n * A functional approach to the reactive-store pattern\n * delivering indiscriminate minimalism.\n * Easily bridged into any other framework of choice.\n*/\n\nconst ERROR = Symbol.for('piconeuro:Error')\nmodule.exports = {\n  ERROR,\n  get,\n  next,\n  until,\n  write: writable,\n  writable,\n  notEqual,\n  notEqualDeep,\n  memo,\n  mute,\n  init,\n  when,\n  combine,\n  isSync,\n  _isSync,\n  gate,\n  settle,\n  iter,\n  nfo\n}\n\n// One to many neuron (opposite of combine)\nfunction memo (neuron) {\n  let value\n  const synapses = new Set()\n  let disconnect = null\n  return function NeuronMemory (syn) {\n    synapses.add(syn)\n    // console.log('instant memo', !!disconnect, value)\n    if (disconnect) syn(value)\n    else disconnect = neuron(spreadForward)\n    return () => {\n      synapses.delete(syn)\n      if (synapses.length) return\n      if (disconnect) disconnect()\n      disconnect = null\n    }\n  }\n  function spreadForward (v) {\n    value = v\n    for (const syn of synapses) syn(v)\n  }\n}\n\n// Neuron that fires initial value once synchroneously.\n//  init(v, $n) => Fire1:  $n.sync || v; Fire2: $n.async\nfunction init (value, neuron) {\n  return function InitialValue (syn) {\n    let disconnected = false\n    let unsub = function noop () {}\n    let fired = false\n    if (typeof neuron === 'function') {\n      unsub = neuron(v => {\n        fired = true\n        if (!disconnected) syn(v)\n      })\n    }\n    if (!fired) syn(clone(value)) // Note: disconnected is always false here\n    return () => {\n      disconnected = true\n      unsub()\n    }\n  }\n}\n\n/**\n * Experimental promise to async neuron converter.\n * Fires once\n */\nfunction when (promise) {\n  if (!promise || typeof promise.then !== 'function') throw new Error('Expected a Promise')\n  return function WhenResolved (syn) {\n    promise.then(syn)\n      .catch(err => {\n        console.error('n:when() failed: ', err)\n        syn(ERROR, err)\n      })\n    return function NOOPunsub () {}\n  }\n}\n\n/*\n * Debug neuron, logs all signals\n */\nlet __nfoCtr = 0\n// const __pal = Array.from(new Array(8)).map((_, bg) => Array.from(new Array(8)).map((_, fg) => `\\x1b[0;${30 + fg};${40 + bg}m`))\nmodule.exports.V = 1 // VERBOSITY level\nfunction nfo (neuron, name) {\n  if (!module.exports.V) return neuron // Completely bypass NFO when V is zero\n  const ni = __nfoCtr++\n  if (!name) name = `NFO${pn(ni)}`\n  const nlog = console.info.bind(null, c(name, 0, ni))\n  let s = 0\n  return syn => {\n    let i = 0\n    const log = nlog.bind(null, c(`SYN${pn(s++)}`, 0, ni))\n    log(`>>${pn(i)}>> connected`)\n    const unsub = neuron(v => {\n      log(`!!${pn(i++)}!! `, v)\n      syn(v)\n    })\n    return () => {\n      unsub()\n      log(`<<${pn(i)}<< disconnected`)\n    }\n  }\n  function pn (n, p = 2) { return (n + '').padStart(p, '0') }\n  function c (s) { return s }\n  // function c (s, b = 0, f = 0) { return `${__pal[b % 8][f % 8]}${s}\\x1b[0m` }\n}\n\nfunction gate (neuron, shallow = false) {\n  const check = typeof shallow === 'function'\n    ? shallow\n    : !shallow\n        ? notEqualDeep\n        : notEqual\n\n  return function NoiseGate (syn) {\n    let value\n    let first = true\n    return neuron(v => {\n      const dirty = check(v, value)\n      // console.info(`nuro:gate() ${dirty ? '>>PASS>>' : '||HOLD||'}\\n>>> NEXT\\n`, v, '\\n===\\n', value, '\\n<<< PREV')\n      if (first || dirty) {\n        first = false\n        value = clone(v)\n        syn(v)\n      }\n    })\n  }\n}\n\n// Buffers a signal and outputs last value\n// !WARNING!\n// Use with care, this neuron introduces unchecked asyncronity into\n// your path causing racing conditions along the way.\n// Only use is for buffering final outputs to silly frameworks such as react\n// that render with a built-in rising-edge buffer\nfunction settle (neuron, debounceMs = 10, risingEdge = false) {\n  return function DebouncedSignal (syn) {\n    let value\n    let tid\n    let first = true\n    const unsub = neuron(v => {\n      value = v\n      if (risingEdge && first) {\n        first = false\n        syn(value)\n      }\n      if (tid) clearTimeout(tid)\n      tid = setTimeout(() => {\n        tid = null\n        syn(value)\n      }, debounceMs)\n    })\n    return () => {\n      if (unsub) unsub()\n      if (tid) clearTimeout(tid)\n    }\n  }\n}\n\n/**\n * Produces a shallow clone of objects and arrays\n */\nfunction clone (o) {\n  if (Array.isArray(o)) return [...o]\n  if (typeof o === 'object' && o !== null) return { ...o }\n  return o\n}\n\n/*\n * Possibly async neuron.\n * fires on immediate or async result.\n * Does not fire placeholders, prepend with init() a sync initialValue is needed:\n * use:\n *\n *  $peersUrl => init(\n *    [], // Empty array as placeholder\n *    mute($data, async u => fetch(u))\n *  )\n */\nfunction mute (neuron, fn) {\n  if (typeof fn !== 'function') throw new Error('expected a mutation function')\n  return function Mutate (syn) {\n    let prev = Promise.resolve(0)\n    return neuron(input => {\n      const output = fn(input)\n      if (\n        output &&\n        typeof output.then === 'function' &&\n        typeof output.catch === 'function'\n      ) {\n        prev = prev.then(() =>\n          output\n            .then(syn)\n            .catch(err => {\n              console.error('n:mute() failed: ', err)\n              syn(ERROR, err)\n            })\n        )\n      } else syn(output)\n    })\n  }\n}\n/**\n * Utility method that tests a neuron for synchronity.\n * returns true if and only if the neuron fired once immediately\n * throws error if the neuron did not fire within the grace period.\n */\nasync function isSync (neuron, ms = 100) {\n  let fired = false\n  let aFired = false\n  let set = () => { fired = true }\n  neuron(() => set())()\n  let unlock = null\n  const mutex = new Promise((resolve) => { unlock = resolve })\n  set = () => { aFired = true; unlock() } // rewrite set\n  let tid = setTimeout(() => { tid = null; unlock() }, ms) // 100ms plenty of time to resolve\n  await mutex\n  if (tid) clearTimeout(tid)\n  else if (!fired && !aFired) throw new Error('Neuron did not fire during grace period')\n  return fired && !aFired\n}\n\n/**\n * Synchronized version of isSync that throws errors\n * when async behaviour is detected.\n */\nfunction _isSync (neuron) {\n  let ii = false\n  let set = () => { ii = true }\n  neuron(() => set())()\n  set = () => { throw new Error('NeuronNotSync, subscription invoked after unsubscribe()') }\n  return ii\n}\n\n/**\n * A neuron that combines the output of multiple neurons into a single output.\n * The first output is held until all neurons have fired once.\n */\nfunction combine (...neurons) {\n  if (!Array.isArray(neurons) || !neurons.length) throw new Error('A list of neurons is required')\n  const props = []\n  // Assume combine was called with map: combine({ a: synapse1, b: synapse2 })  // => 'synapse': function\n  if (neurons.length === 1 && typeof neurons[0] !== 'function') {\n    const m = neurons[0]\n    neurons = []\n    for (const prop in m) {\n      neurons.push(m[prop])\n      props.push(prop)\n    }\n    // console.log('Combine[ObjMode]', props)\n  }\n\n  return function NeuronCombine (syn) {\n    if (typeof syn !== 'function') throw new Error('Derivation function required')\n    const loaded = []\n    const values = []\n    let remaining = neurons.length\n\n    const synapses = []\n    for (let i = 0; i < neurons.length; i++) {\n      synapses.push(neurons[i](handler.bind(null, i)))\n    }\n\n    return () => {\n      // for (const unsub of synapses) unsub()\n      for (const unsub of synapses) unsub()\n    }\n\n    function handler (i, val) {\n      if (!loaded[i]) {\n        loaded[i] = true\n        remaining--\n      }\n      values[i] = val\n      // console.log(`CombineHandler[${i}] ${neurons.map((n, i) => !!loaded[i])}`)\n      if (!remaining) {\n        props.length\n          ? syn(values.reduce((m, v, i) => (((m[props[i]] = v), m)), {}))\n          : syn(values)\n      }\n    }\n  }\n}\n\n/**\n * Shallow compares two values targeting computationally efficient\n * in-memory comparision with minimal recursion.\n * Quick returns true if a difference is detected.\n * if array, compare lengths and elements identities\n * if object, compare props count and reference identities\n * properties of object are expected to be enumerable.\n */\nfunction notEqual (a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return b.length !== a.length ||\n      !!a.find((o, i) => b[i] !== o)\n  }\n  if (\n    typeof a === 'object' &&\n    typeof b === 'object' &&\n    a !== null &&\n    b !== null\n  ) {\n    return !!((kA, kBl) => kA.length !== kBl ||\n      kA.find(p => a[p] !== b[p])\n    )(Object.keys(a), Object.keys(b).length)\n  }\n  return a !== b\n}\n\nfunction notEqualDeep (a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return b.length !== a.length ||\n      !!a.find((o, i) => notEqualDeep(b[i], o))\n  }\n  if (\n    typeof a === 'object' &&\n    typeof b === 'object' &&\n    a !== null &&\n    b !== null\n  ) {\n    return !!((kA, kBl) => kA.length !== kBl ||\n      kA.find(p => notEqualDeep(a[p], b[p]))\n    )(Object.keys(a), Object.keys(b).length)\n  }\n  return a !== b\n}\n\n/**\n * A neuron that provides a set method:\n *\n * const [$name, setName] = writable('placeholder')\n */\nfunction writable (value) {\n  const subs = new Set()\n  return [\n    function WritableSubscribe (notify) {\n      subs.add(notify)\n      notify(value)\n      return () => { subs.delete(notify) }\n    },\n    function WritableSet (val) {\n      if (notEqual(value, val)) {\n        value = val\n        for (const subcriber of subs) subcriber(val)\n      }\n      return val\n    }\n  ]\n}\n\n/**\n * Gets the synchroneous value of a neuron\n */\nfunction get (neuron) {\n  let value = null\n  neuron(v => { value = v })()\n  return value\n}\n\n/**\n * async version of get()\n * n: number of values to skip,\n * Imagine a neuron value stream to be an array:\n * ['a', 'b', 'c']\n * setting `n` to 0 will return 'a', set it to 2 to get 'c'\n*/\nasync function next (neuron, n = 1, inspect = false) {\n  let value = null\n  if (inspect) neuron = nfo(neuron, inspect)\n  for await (const v of iter(neuron, n + 1)) value = v\n  return value\n}\n\n/**\n * Converts a neuron into an iterator\n * - {neuron} Neuron to generate from\n * - {nValues} Number of values to generate, 1 will yield 1 value.\n */\nasync function * iter (neuron, nValues = 5) { // set max to -1 for eternal loop\n  const rQue = []\n  const pQue = []\n  oneMore()\n  let i = 0\n  const handler = v => {\n    if (nValues === -1 || ++i < nValues) oneMore()\n    const r = rQue.shift()\n    if (r) r(v)\n  }\n  const unsub = neuron(handler)\n  while (pQue.length) {\n    const p = pQue.shift()\n    const value = await p\n    yield value\n  }\n  unsub()\n  function oneMore () {\n    let r = null\n    const p = new Promise(resolve => { r = resolve })\n    rQue.push(r)\n    pQue.push(p)\n  }\n}\n\n/**\n * Sibling of next(), an async utility getter that\n * resolves value when 'condition' function returns truthy.\n *\n * const hiFive = await until($clock, time => t > 5)\n */\nasync function until (neuron, condition, timeout = -1) {\n  let set, setErr\n  const result = new Promise((resolve, reject) => { set = resolve; setErr = reject })\n  let timerId = null\n  if (timeout > 0) {\n    timerId = setTimeout(() => {\n      setErr(new Error('until($n) timed out'))\n    }, timeout)\n  }\n  const unsub = neuron(value => {\n    if (condition(value)) {\n      if (timerId) clearTimeout(timerId)\n      set(value)\n    }\n  })\n  result.finally(unsub)\n  return result\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict'\n\nmodule.exports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  return Object.assign(manifest, {\n    // Features of abstract-leveldown\n    bufferKeys: manifest.bufferKeys || false,\n    snapshots: manifest.snapshots || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    clear: manifest.clear || false,\n    getMany: manifest.getMany || false,\n    keyIterator: manifest.keyIterator || false,\n    valueIterator: manifest.valueIterator || false,\n    iteratorNextv: manifest.iteratorNextv || false,\n    iteratorAll: manifest.iteratorAll || false,\n\n    // Features of abstract-leveldown that levelup doesn't have\n    status: manifest.status || false,\n    idempotentOpen: manifest.idempotentOpen || false,\n    passiveOpen: manifest.passiveOpen || false,\n    serialize: manifest.serialize || false,\n\n    // Features of disk-based implementations\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n\n    // Features of level(up) that abstract-leveldown doesn't have yet\n    deferredOpen: manifest.deferredOpen || false,\n    openCallback: manifest.openCallback || false,\n    promises: manifest.promises || false,\n    streams: manifest.streams || false,\n    encodings: maybeObject(manifest.encodings),\n    events: maybeObject(manifest.events),\n\n    // Methods that are not part of abstract-leveldown or levelup\n    additionalMethods: Object.assign({}, manifest.additionalMethods)\n  })\n}\n\nfunction maybeObject (value) {\n  return !value ? false : Object.assign({}, value)\n}\n","'use strict'\n\nvar queueTick = require('queue-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { queueTick(() => callback(null, res)) })\n    .catch(function (err) { queueTick(() => callback(err)) })\n}\n","module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","'use strict'\n\nfunction AbstractIterator (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  // In callback mode, we return `this`\n  let ret = this\n\n  if (callback === undefined) {\n    ret = new Promise(function (resolve, reject) {\n      callback = function (err, key, value) {\n        if (err) reject(err)\n        else if (key === undefined && value === undefined) resolve()\n        else resolve([key, value])\n      }\n    })\n  } else if (typeof callback !== 'function') {\n    throw new Error('next() requires a callback argument')\n  }\n\n  if (this._ended) {\n    this._nextTick(callback, new Error('cannot call next() after end()'))\n    return ret\n  }\n\n  if (this._nexting) {\n    this._nextTick(callback, new Error('cannot call next() before previous next() has completed'))\n    return ret\n  }\n\n  this._nexting = true\n  this._next((err, ...rest) => {\n    this._nexting = false\n    callback(err, ...rest)\n  })\n\n  return ret\n}\n\nAbstractIterator.prototype._next = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractIterator.prototype.seek = function (target) {\n  if (this._ended) {\n    throw new Error('cannot call seek() after end()')\n  }\n  if (this._nexting) {\n    throw new Error('cannot call seek() before next() has completed')\n  }\n\n  target = this.db._serializeKey(target)\n  this._seek(target)\n}\n\nAbstractIterator.prototype._seek = function (target) {}\n\nAbstractIterator.prototype.end = function (callback) {\n  let promise\n\n  if (callback === undefined) {\n    promise = new Promise(function (resolve, reject) {\n      callback = function (err) {\n        if (err) reject(err)\n        else resolve()\n      }\n    })\n  } else if (typeof callback !== 'function') {\n    throw new Error('end() requires a callback argument')\n  }\n\n  if (this._ended) {\n    this._nextTick(callback, new Error('end() already called on iterator'))\n    return promise\n  }\n\n  this._ended = true\n  this._end(callback)\n\n  return promise\n}\n\nAbstractIterator.prototype._end = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractIterator.prototype[Symbol.asyncIterator] = async function * () {\n  try {\n    let kv\n\n    while ((kv = (await this.next())) !== undefined) {\n      yield kv\n    }\n  } finally {\n    if (!this._ended) await this.end()\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractIterator.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractIterator\n","'use strict'\n\nconst emptyOptions = Object.freeze({})\n\nfunction AbstractChainedBatch (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key) || this.db._checkValue(value)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  value = this.db._serializeValue(value)\n\n  this._put(key, value, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value, options) {\n  this._operations.push({ ...options, type: 'put', key, value })\n}\n\nAbstractChainedBatch.prototype.del = function (key, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  this._del(key, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key, options) {\n  this._operations.push({ ...options, type: 'del', key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = []\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') {\n    callback = options\n  }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {}\n  }\n\n  this._written = true\n  this._write(options, callback)\n}\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback)\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractChainedBatch.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractChainedBatch\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","'use strict'\n\nconst supports = require('level-supports')\nconst isBuffer = require('is-buffer')\nconst catering = require('catering')\nconst AbstractIterator = require('./abstract-iterator')\nconst AbstractChainedBatch = require('./abstract-chained-batch')\nconst getCallback = require('./lib/common').getCallback\nconst getOptions = require('./lib/common').getOptions\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = ['lt', 'lte', 'gt', 'gte']\n\nfunction AbstractLevelDOWN (manifest) {\n  this.status = 'new'\n\n  // TODO (next major): make this mandatory\n  this.supports = supports(manifest, {\n    status: true\n  })\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  const oldStatus = this.status\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('open() requires a callback argument')\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.createIfMissing = options.createIfMissing !== false\n  options.errorIfExists = !!options.errorIfExists\n\n  this.status = 'opening'\n  this._open(options, (err) => {\n    if (err) {\n      this.status = oldStatus\n      return callback(err)\n    }\n    this.status = 'open'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._open = function (options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  const oldStatus = this.status\n\n  if (typeof callback !== 'function') {\n    throw new Error('close() requires a callback argument')\n  }\n\n  this.status = 'closing'\n  this._close((err) => {\n    if (err) {\n      this.status = oldStatus\n      return callback(err)\n    }\n    this.status = 'closed'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._close = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('get() requires a callback argument')\n  }\n\n  const err = this._checkKey(key)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.asBuffer = options.asBuffer !== false\n\n  this._get(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._get = function (key, options, callback) {\n  this._nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.getMany = function (keys, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n  options = getOptions(options)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  if (!Array.isArray(keys)) {\n    this._nextTick(callback, new Error('getMany() requires an array argument'))\n    return callback.promise\n  }\n\n  if (keys.length === 0) {\n    this._nextTick(callback, null, [])\n    return callback.promise\n  }\n\n  if (typeof options.asBuffer !== 'boolean') {\n    options = { ...options, asBuffer: true }\n  }\n\n  const serialized = new Array(keys.length)\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i]\n    const err = this._checkKey(key)\n\n    if (err) {\n      this._nextTick(callback, err)\n      return callback.promise\n    }\n\n    serialized[i] = this._serializeKey(key)\n  }\n\n  this._getMany(serialized, options, callback)\n  return callback.promise\n}\n\nAbstractLevelDOWN.prototype._getMany = function (keys, options, callback) {\n  this._nextTick(callback, null, new Array(keys.length).fill(undefined))\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('put() requires a callback argument')\n  }\n\n  const err = this._checkKey(key) || this._checkValue(value)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._put(key, value, options, callback)\n}\n\nAbstractLevelDOWN.prototype._put = function (key, value, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('del() requires a callback argument')\n  }\n\n  const err = this._checkKey(key)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._del(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._del = function (key, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length) return this._chainedBatch()\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof array === 'function') callback = array\n\n  if (typeof callback !== 'function') {\n    throw new Error('batch(array) requires a callback argument')\n  }\n\n  if (!Array.isArray(array)) {\n    return this._nextTick(callback, new Error('batch(array) requires an array argument'))\n  }\n\n  if (array.length === 0) {\n    return this._nextTick(callback)\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  const serialized = new Array(array.length)\n\n  for (let i = 0; i < array.length; i++) {\n    if (typeof array[i] !== 'object' || array[i] === null) {\n      return this._nextTick(callback, new Error('batch(array) element must be an object and not `null`'))\n    }\n\n    const e = Object.assign({}, array[i])\n\n    if (e.type !== 'put' && e.type !== 'del') {\n      return this._nextTick(callback, new Error(\"`type` must be 'put' or 'del'\"))\n    }\n\n    const err = this._checkKey(e.key)\n    if (err) return this._nextTick(callback, err)\n\n    e.key = this._serializeKey(e.key)\n\n    if (e.type === 'put') {\n      const valueErr = this._checkValue(e.value)\n      if (valueErr) return this._nextTick(callback, valueErr)\n\n      e.value = this._serializeValue(e.value)\n    }\n\n    serialized[i] = e\n  }\n\n  this._batch(serialized, options, callback)\n}\n\nAbstractLevelDOWN.prototype._batch = function (array, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.clear = function (options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n  } else if (typeof callback !== 'function') {\n    throw new Error('clear() requires a callback argument')\n  }\n\n  options = cleanRangeOptions(this, options)\n  options.reverse = !!options.reverse\n  options.limit = 'limit' in options ? options.limit : -1\n\n  this._clear(options, callback)\n}\n\nAbstractLevelDOWN.prototype._clear = function (options, callback) {\n  // Avoid setupIteratorOptions, would serialize range options a second time.\n  options.keys = true\n  options.values = false\n  options.keyAsBuffer = true\n  options.valueAsBuffer = true\n\n  const iterator = this._iterator(options)\n  const emptyOptions = {}\n\n  const next = (err) => {\n    if (err) {\n      return iterator.end(function () {\n        callback(err)\n      })\n    }\n\n    iterator.next((err, key) => {\n      if (err) return next(err)\n      if (key === undefined) return iterator.end(callback)\n\n      // This could be optimized by using a batch, but the default _clear\n      // is not meant to be fast. Implementations have more room to optimize\n      // if they override _clear. Note: using _del bypasses key serialization.\n      this._del(key, emptyOptions, next)\n    })\n  }\n\n  next()\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  options = cleanRangeOptions(this, options)\n\n  options.reverse = !!options.reverse\n  options.keys = options.keys !== false\n  options.values = options.values !== false\n  options.limit = 'limit' in options ? options.limit : -1\n  options.keyAsBuffer = options.keyAsBuffer !== false\n  options.valueAsBuffer = options.valueAsBuffer !== false\n\n  return options\n}\n\nfunction cleanRangeOptions (db, options) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n\n    if (k === 'start' || k === 'end') {\n      throw new Error('Legacy range options (\"start\" and \"end\") have been removed')\n    }\n\n    let opt = options[k]\n\n    if (isRangeOption(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      opt = db._serializeKey(opt)\n    }\n\n    result[k] = opt\n  }\n\n  return result\n}\n\nfunction isRangeOption (k) {\n  return rangeOptions.indexOf(k) !== -1\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options !== 'object' || options === null) options = {}\n  options = this._setupIteratorOptions(options)\n  return this._iterator(options)\n}\n\nAbstractLevelDOWN.prototype._iterator = function (options) {\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._serializeKey = function (key) {\n  return key\n}\n\nAbstractLevelDOWN.prototype._serializeValue = function (value) {\n  return value\n}\n\nAbstractLevelDOWN.prototype._checkKey = function (key) {\n  if (key === null || key === undefined) {\n    return new Error('key cannot be `null` or `undefined`')\n  } else if (isBuffer(key) && key.length === 0) { // TODO: replace with typed array check\n    return new Error('key cannot be an empty Buffer')\n  } else if (key === '') {\n    return new Error('key cannot be an empty String')\n  } else if (Array.isArray(key) && key.length === 0) {\n    return new Error('key cannot be an empty Array')\n  }\n}\n\nAbstractLevelDOWN.prototype._checkValue = function (value) {\n  if (value === null || value === undefined) {\n    return new Error('value cannot be `null` or `undefined`')\n  }\n}\n\n// TODO: docs and tests\nAbstractLevelDOWN.prototype.isOperational = function () {\n  return this.status === 'open' || this._isOperational()\n}\n\n// Implementation may accept operations in other states too\nAbstractLevelDOWN.prototype._isOperational = function () {\n  return false\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: rename _nextTick to _queueMicrotask\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevelDOWN.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractLevelDOWN\n\nfunction maybeError (db, callback) {\n  if (!db.isOperational()) {\n    db._nextTick(callback, new Error('Database is not open'))\n    return true\n  }\n\n  return false\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nexports.AbstractLevelDOWN = require('./abstract-leveldown')\nexports.AbstractIterator = require('./abstract-iterator')\nexports.AbstractChainedBatch = require('./abstract-chained-batch')\n","'use strict'\n\nexports.getCallback = function (args, symbol, map) {\n  let callback = args[args.length - 1]\n\n  if (typeof callback !== 'function') {\n    const promise = new Promise((resolve, reject) => {\n      args.push(callback = function (err, ...results) {\n        if (err) reject(err)\n        else resolve(map ? map(...results) : results[0])\n      })\n    })\n\n    callback[symbol] = promise\n  }\n\n  return callback\n}\n","'use strict'\n\nconst { AbstractIterator } = require('abstract-leveldown')\nconst inherits = require('inherits')\nconst getCallback = require('./util').getCallback\n\nconst kOptions = Symbol('options')\nconst kIterator = Symbol('iterator')\nconst kOperations = Symbol('operations')\nconst kPromise = Symbol('promise')\n\nfunction DeferredIterator (db, options) {\n  AbstractIterator.call(this, db)\n\n  this[kOptions] = options\n  this[kIterator] = null\n  this[kOperations] = []\n}\n\ninherits(DeferredIterator, AbstractIterator)\n\nDeferredIterator.prototype.setDb = function (db) {\n  this[kIterator] = db.iterator(this[kOptions])\n\n  for (const op of this[kOperations].splice(0, this[kOperations].length)) {\n    this[kIterator][op.method](...op.args)\n  }\n}\n\nDeferredIterator.prototype.next = function (...args) {\n  if (this.db.status === 'open') {\n    return this[kIterator].next(...args)\n  }\n\n  const callback = getCallback(args, kPromise, function map (key, value) {\n    if (key === undefined && value === undefined) {\n      return undefined\n    } else {\n      return [key, value]\n    }\n  })\n\n  if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'next', args })\n  } else {\n    this._nextTick(callback, new Error('Database is not open'))\n  }\n\n  return callback[kPromise] || this\n}\n\nDeferredIterator.prototype.seek = function (...args) {\n  if (this.db.status === 'open') {\n    this[kIterator].seek(...args)\n  } else if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'seek', args })\n  } else {\n    throw new Error('Database is not open')\n  }\n}\n\nDeferredIterator.prototype.end = function (...args) {\n  if (this.db.status === 'open') {\n    return this[kIterator].end(...args)\n  }\n\n  const callback = getCallback(args, kPromise)\n\n  if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'end', args })\n  } else {\n    this._nextTick(callback, new Error('Database is not open'))\n  }\n\n  return callback[kPromise] || this\n}\n\nfor (const method of ['next', 'seek', 'end']) {\n  DeferredIterator.prototype['_' + method] = function () {\n    /* istanbul ignore next: assertion */\n    throw new Error('Did not expect private method to be called: ' + method)\n  }\n}\n\nmodule.exports = DeferredIterator\n","'use strict'\n\nconst { AbstractChainedBatch } = require('abstract-leveldown')\nconst kOperations = Symbol('operations')\n\nmodule.exports = class DeferredChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kOperations] = []\n  }\n\n  _put (key, value, options) {\n    this[kOperations].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kOperations].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kOperations] = []\n  }\n\n  _write (options, callback) {\n    // AbstractChainedBatch would call _batch(), we call batch()\n    this.db.batch(this[kOperations], options, callback)\n  }\n}\n","'use strict'\n\nconst { AbstractLevelDOWN } = require('abstract-leveldown')\nconst inherits = require('inherits')\nconst DeferredIterator = require('./deferred-iterator')\nconst DeferredChainedBatch = require('./deferred-chained-batch')\nconst getCallback = require('./util').getCallback\n\nconst deferrables = ['put', 'get', 'getMany', 'del', 'batch', 'clear']\nconst optionalDeferrables = ['approximateSize', 'compactRange']\n\nconst kInnerDb = Symbol('innerDb')\nconst kOperations = Symbol('operations')\nconst kPromise = Symbol('promise')\n\nfunction DeferredLevelDOWN (db) {\n  AbstractLevelDOWN.call(this, db.supports || {})\n\n  // TODO (future major): remove this fallback; db must have manifest that\n  // declares approximateSize and compactRange in additionalMethods.\n  for (const m of optionalDeferrables) {\n    if (typeof db[m] === 'function' && !this.supports.additionalMethods[m]) {\n      this.supports.additionalMethods[m] = true\n    }\n  }\n\n  this[kInnerDb] = db\n  this[kOperations] = []\n\n  implement(this)\n}\n\ninherits(DeferredLevelDOWN, AbstractLevelDOWN)\n\nDeferredLevelDOWN.prototype.type = 'deferred-leveldown'\n\n// Backwards compatibility for reachdown and subleveldown\nObject.defineProperty(DeferredLevelDOWN.prototype, '_db', {\n  enumerable: true,\n  get () {\n    return this[kInnerDb]\n  }\n})\n\nDeferredLevelDOWN.prototype._open = function (options, callback) {\n  const onopen = (err) => {\n    if (err || this[kInnerDb].status !== 'open') {\n      // TODO: reject scheduled operations\n      return callback(err || new Error('Database is not open'))\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      if (op.iterator) {\n        op.iterator.setDb(this[kInnerDb])\n      } else {\n        this[kInnerDb][op.method](...op.args)\n      }\n    }\n\n    /* istanbul ignore if: assertion */\n    if (this[kOperations].length > 0) {\n      throw new Error('Did not expect further operations')\n    }\n\n    callback()\n  }\n\n  if (this[kInnerDb].status === 'new' || this[kInnerDb].status === 'closed') {\n    this[kInnerDb].open(options, onopen)\n  } else {\n    this._nextTick(onopen)\n  }\n}\n\nDeferredLevelDOWN.prototype._close = function (callback) {\n  this[kInnerDb].close(callback)\n}\n\nDeferredLevelDOWN.prototype._isOperational = function () {\n  return this.status === 'opening'\n}\n\nfunction implement (self) {\n  const additionalMethods = Object.keys(self.supports.additionalMethods)\n\n  for (const method of deferrables.concat(additionalMethods)) {\n    // Override the public rather than private methods to cover cases where abstract-leveldown\n    // has a fast-path like on db.batch([]) which bypasses _batch() because the array is empty.\n    self[method] = function (...args) {\n      if (method === 'batch' && args.length === 0) {\n        return new DeferredChainedBatch(this)\n      } else if (this.status === 'open') {\n        return this[kInnerDb][method](...args)\n      }\n\n      const callback = getCallback(args, kPromise)\n\n      if (this.status === 'opening') {\n        this[kOperations].push({ method, args })\n      } else {\n        this._nextTick(callback, new Error('Database is not open'))\n      }\n\n      return callback[kPromise]\n    }\n  }\n\n  self.iterator = function (options) {\n    if (this.status === 'open') {\n      return this[kInnerDb].iterator(options)\n    } else if (this.status === 'opening') {\n      const iterator = new DeferredIterator(this, options)\n      this[kOperations].push({ iterator })\n      return iterator\n    } else {\n      throw new Error('Database is not open')\n    }\n  }\n\n  for (const method of deferrables.concat(['iterator'])) {\n    self['_' + method] = function () {\n      /* istanbul ignore next: assertion */\n      throw new Error('Did not expect private method to be called: ' + method)\n    }\n  }\n}\n\nmodule.exports = DeferredLevelDOWN\nmodule.exports.DeferredIterator = DeferredIterator\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","'use strict'\n\nconst inherits = require('inherits')\nconst { Readable } = require('readable-stream')\n\nmodule.exports = ReadStream\ninherits(ReadStream, Readable)\n\nfunction ReadStream (iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options)\n  options = options || {}\n  Readable.call(this, Object.assign({}, options, {\n    objectMode: true\n  }))\n  this._iterator = iterator\n  this._options = options\n  this.on('end', this.destroy.bind(this, null, null))\n}\n\nReadStream.prototype._read = function () {\n  if (this.destroyed) return\n\n  this._iterator.next((err, key, value) => {\n    if (this.destroyed) return\n    if (err) return this.destroy(err)\n\n    if (key === undefined && value === undefined) {\n      this.push(null)\n    } else if (this._options.keys !== false && this._options.values === false) {\n      this.push(key)\n    } else if (this._options.keys === false && this._options.values !== false) {\n      this.push(value)\n    } else {\n      this.push({ key, value })\n    }\n  })\n}\n\nReadStream.prototype._destroy = function (err, callback) {\n  this._iterator.end(function (err2) {\n    callback(err || err2)\n  })\n}\n","'use strict'\n\nfunction createError (type, Proto) {\n  const Err = function (message, cause) {\n    if (typeof message === 'object' && message !== null) {\n      // Can be passed just a cause\n      cause = cause || message\n      message = message.message || message.name\n    }\n\n    message = message || ''\n    cause = cause || undefined\n\n    // If input is already of type, return as-is to keep its stack trace.\n    // Avoid instanceof, for when node_modules has multiple copies of level-errors.\n    if (typeof cause === 'object' && cause.type === type && cause.message === message) {\n      return cause\n    }\n\n    Object.defineProperty(this, 'type', { value: type, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'name', { value: type, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'cause', { value: cause, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'message', { value: message, enumerable: false, writable: true, configurable: true })\n\n    Error.call(this)\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, Err)\n    }\n  }\n\n  Err.prototype = new Proto()\n  return Err\n}\n\nconst LevelUPError = createError('LevelUPError', Error)\n\nmodule.exports = {\n  LevelUPError: LevelUPError,\n  InitializationError: createError('InitializationError', LevelUPError),\n  OpenError: createError('OpenError', LevelUPError),\n  ReadError: createError('ReadError', LevelUPError),\n  WriteError: createError('WriteError', LevelUPError),\n  NotFoundError: createError('NotFoundError', LevelUPError),\n  EncodingError: createError('EncodingError', LevelUPError)\n}\n\nmodule.exports.NotFoundError.prototype.notFound = true\nmodule.exports.NotFoundError.prototype.status = 404\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","'use strict'\n\nconst WriteError = require('level-errors').WriteError\nconst catering = require('catering')\nconst getCallback = require('./common').getCallback\nconst getOptions = require('./common').getOptions\n\nfunction Batch (levelup) {\n  this.db = levelup\n  this.batch = levelup.db.batch()\n  this.ops = []\n  this.length = 0\n}\n\nBatch.prototype.put = function (key, value, options) {\n  try {\n    this.batch.put(key, value, options)\n  } catch (e) {\n    throw new WriteError(e)\n  }\n\n  this.ops.push({ ...options, type: 'put', key, value })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.del = function (key, options) {\n  try {\n    this.batch.del(key, options)\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops.push({ ...options, type: 'del', key })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.clear = function () {\n  try {\n    this.batch.clear()\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops = []\n  this.length = 0\n\n  return this\n}\n\nBatch.prototype.write = function (options, callback) {\n  const levelup = this.db\n  const ops = this.ops\n\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n  options = getOptions(options)\n\n  try {\n    this.batch.write(options, function (err) {\n      if (err) { return callback(new WriteError(err)) }\n      levelup.emit('batch', ops)\n      callback()\n    })\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  return callback.promise\n}\n\nmodule.exports = Batch\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst DeferredLevelDOWN = require('deferred-leveldown')\nconst IteratorStream = require('level-iterator-stream')\nconst Batch = require('./batch')\nconst errors = require('level-errors')\nconst supports = require('level-supports')\nconst catering = require('catering')\nconst getCallback = require('./common').getCallback\nconst getOptions = require('./common').getOptions\n\n// TODO: after we drop node 10, also use queueMicrotask() in node\nconst nextTick = require('./next-tick')\n\nconst WriteError = errors.WriteError\nconst ReadError = errors.ReadError\nconst NotFoundError = errors.NotFoundError\nconst OpenError = errors.OpenError\nconst InitializationError = errors.InitializationError\n\nfunction LevelUP (db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback)\n  }\n\n  let error\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  options = options || {}\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store')\n    if (typeof callback === 'function') {\n      return nextTick(callback, error)\n    }\n    throw error\n  }\n\n  if (typeof db.status !== 'string') {\n    throw new Error('.status required, old abstract-leveldown')\n  }\n\n  this.options = getOptions(options)\n  this._db = db\n  this.db = null\n  this.open(callback || ((err) => {\n    if (err) this.emit('error', err)\n  }))\n\n  // Create manifest based on deferred-leveldown's\n  this.supports = supports(this.db.supports, {\n    status: true,\n    deferredOpen: true,\n    openCallback: true,\n    promises: true,\n    streams: true\n  })\n\n  // Experimental: enrich levelup interface\n  for (const method of Object.keys(this.supports.additionalMethods)) {\n    if (this[method] != null) continue\n\n    // Don't do this.db[method].bind() because this.db is dynamic.\n    this[method] = function (...args) {\n      return this.db[method](...args)\n    }\n  }\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit\nLevelUP.prototype.once = EventEmitter.prototype.once\ninherits(LevelUP, EventEmitter)\n\n// TODO: tests\nObject.defineProperty(LevelUP.prototype, 'status', {\n  enumerable: true,\n  get () {\n    return this.db.status\n  }\n})\n\n// TODO: tests\nLevelUP.prototype.isOperational = function () {\n  return this.db.status === 'open' || this.db.status === 'opening'\n}\n\nLevelUP.prototype.open = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = null\n  }\n\n  callback = catering.fromCallback(callback)\n\n  if (!opts) {\n    opts = this.options\n  }\n\n  // 1) Don't check db.status until levelup has opened,\n  // in order for levelup events to be consistent\n  if (this.db && this.isOpen()) {\n    nextTick(callback, null, this)\n    return callback.promise\n  }\n\n  if (this.db && this._isOpening()) {\n    this.once('open', () => { callback(null, this) })\n    return callback.promise\n  }\n\n  // 2) Instead let deferred-leveldown handle already-open cases.\n  // TODO: ideally though, levelup would have its own status\n  this.db = new DeferredLevelDOWN(this._db)\n  this.emit('opening')\n\n  this.db.open(opts, (err) => {\n    if (err) {\n      return callback(new OpenError(err))\n    }\n    this.db = this._db\n    callback(null, this)\n    this.emit('open')\n    this.emit('ready')\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.close = function (callback) {\n  callback = catering.fromCallback(callback)\n\n  if (this.isOpen()) {\n    this.db.close((err, ...rest) => {\n      this.emit('closed')\n      callback(err, ...rest)\n    })\n    this.emit('closing')\n  } else if (this.isClosed()) {\n    nextTick(callback)\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', () => {\n      this.close(callback)\n    })\n  }\n\n  return callback.promise\n}\n\n// TODO: remove in future major\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open'\n}\n\n// TODO: remove in future major\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening'\n}\n\n// TODO: remove in future major\nLevelUP.prototype.isClosed = function () {\n  return (/^clos|new/).test(this.db.status)\n}\n\nLevelUP.prototype.get = function (key, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return callback(err)\n    }\n    callback(null, value)\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.getMany = function (keys, options, callback) {\n  return this.db.getMany(keys, options, callback)\n}\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.put(key, value, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('put', key, value)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.del = function (key, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.del(key, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('del', key)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this)\n  }\n\n  if (typeof arr === 'function') callback = arr\n  else callback = getCallback(options, callback)\n\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.batch(arr, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('batch', arr)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options)\n}\n\nLevelUP.prototype.clear = function (options, callback) {\n  callback = getCallback(options, callback)\n  options = getOptions(options)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  this.db.clear(options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('clear', options)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  options = Object.assign({ keys: true, values: true }, options)\n  if (typeof options.limit !== 'number') { options.limit = -1 }\n  return new IteratorStream(this.db.iterator(options), options)\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(Object.assign({}, options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(Object.assign({}, options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nLevelUP.prototype.type = 'levelup'\n\n// Expose nextTick for API parity with abstract-leveldown\nLevelUP.prototype._nextTick = nextTick\n\nfunction maybeError (db, callback) {\n  if (!db.isOperational()) {\n    nextTick(callback, new ReadError('Database is not open'))\n    return true\n  }\n\n  return false\n}\n\nLevelUP.errors = errors\nmodule.exports = LevelUP\n","/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallelLimit\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallelLimit (tasks, limit, cb) {\n  if (typeof limit !== 'number') throw new Error('second argument must be a Number')\n  let results, len, pending, keys, isErrored\n  let isSync = true\n  let next\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = len = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = len = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (err) isErrored = true\n    if (--pending === 0 || err) {\n      done(err)\n    } else if (!isErrored && next < len) {\n      let key\n      if (keys) {\n        key = keys[next]\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      } else {\n        key = next\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      }\n    }\n  }\n\n  next = limit\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.some(function (key, i) {\n      tasks[key](function (err, result) { each(key, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  } else {\n    // array\n    tasks.some(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  }\n\n  isSync = false\n}\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range, def) {\n  var k = lowerBoundKey(range)\n  return k ? range[k] : def\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range, def) {\n  var k = upperBoundKey(range)\n  return k ? range[k] : def\n}\n\nexports.start = function (range, def) {\n  return range.reverse ? upperBound(range, def) : lowerBound(range, def)\n}\nexports.end = function (range, def) {\n  return range.reverse ? lowerBound(range, def) : upperBound(range, def)\n}\nexports.startInclusive = function (range) {\n  return (\n    range.reverse\n  ? upperBoundInclusive(range)\n  : lowerBoundInclusive(range)\n  )\n}\nexports.endInclusive = function (range) {\n  return (\n    range.reverse\n  ? lowerBoundInclusive(range)\n  : upperBoundInclusive(range)\n  )\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n","/* global IDBKeyRange */\n\n'use strict'\n\nconst ltgt = require('ltgt')\nconst NONE = Symbol('none')\n\nmodule.exports = function createKeyRange (options) {\n  const lower = ltgt.lowerBound(options, NONE)\n  const upper = ltgt.upperBound(options, NONE)\n  const lowerOpen = ltgt.lowerBoundExclusive(options, NONE)\n  const upperOpen = ltgt.upperBoundExclusive(options, NONE)\n\n  if (lower !== NONE && upper !== NONE) {\n    return IDBKeyRange.bound(lower, upper, lowerOpen, upperOpen)\n  } else if (lower !== NONE) {\n    return IDBKeyRange.lowerBound(lower, lowerOpen)\n  } else if (upper !== NONE) {\n    return IDBKeyRange.upperBound(upper, upperOpen)\n  } else {\n    return null\n  }\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\nconst ta2str = (function () {\n  if (global.TextDecoder) {\n    const decoder = new TextDecoder('utf-8')\n    return decoder.decode.bind(decoder)\n  } else {\n    return function ta2str (ta) {\n      return ta2buf(ta).toString()\n    }\n  }\n})()\n\nconst ab2str = (function () {\n  if (global.TextDecoder) {\n    const decoder = new TextDecoder('utf-8')\n    return decoder.decode.bind(decoder)\n  } else {\n    return function ab2str (ab) {\n      return Buffer.from(ab).toString()\n    }\n  }\n})()\n\nfunction ta2buf (ta) {\n  const buf = Buffer.from(ta.buffer)\n\n  if (ta.byteLength === ta.buffer.byteLength) {\n    return buf\n  } else {\n    return buf.slice(ta.byteOffset, ta.byteOffset + ta.byteLength)\n  }\n}\n\nmodule.exports = function (data, asBuffer) {\n  if (data instanceof Uint8Array) {\n    return asBuffer ? ta2buf(data) : ta2str(data)\n  } else if (data instanceof ArrayBuffer) {\n    return asBuffer ? Buffer.from(data) : ab2str(data)\n  } else {\n    return asBuffer ? Buffer.from(String(data)) : String(data)\n  }\n}\n","'use strict'\n\nconst inherits = require('inherits')\nconst AbstractIterator = require('abstract-leveldown').AbstractIterator\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\nconst noop = function () {}\n\nmodule.exports = Iterator\n\nfunction Iterator (db, location, options) {\n  AbstractIterator.call(this, db)\n\n  this._limit = options.limit\n  this._count = 0\n  this._callback = null\n  this._cache = []\n  this._completed = false\n  this._aborted = false\n  this._error = null\n  this._transaction = null\n\n  this._keys = options.keys\n  this._values = options.values\n  this._keyAsBuffer = options.keyAsBuffer\n  this._valueAsBuffer = options.valueAsBuffer\n\n  if (this._limit === 0) {\n    this._completed = true\n    return\n  }\n\n  let keyRange\n\n  try {\n    keyRange = createKeyRange(options)\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just return 0 results.\n    this._completed = true\n    return\n  }\n\n  this.createIterator(location, keyRange, options.reverse)\n}\n\ninherits(Iterator, AbstractIterator)\n\nIterator.prototype.createIterator = function (location, keyRange, reverse) {\n  const transaction = this.db.db.transaction([location], 'readonly')\n  const store = transaction.objectStore(location)\n  const req = store.openCursor(keyRange, reverse ? 'prev' : 'next')\n\n  req.onsuccess = (ev) => {\n    const cursor = ev.target.result\n    if (cursor) this.onItem(cursor)\n  }\n\n  this._transaction = transaction\n\n  // If an error occurs (on the request), the transaction will abort.\n  transaction.onabort = () => {\n    this.onAbort(this._transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = () => {\n    this.onComplete()\n  }\n}\n\nIterator.prototype.onItem = function (cursor) {\n  this._cache.push(cursor.key, cursor.value)\n\n  if (this._limit <= 0 || ++this._count < this._limit) {\n    cursor.continue()\n  }\n\n  this.maybeNext()\n}\n\nIterator.prototype.onAbort = function (err) {\n  this._aborted = true\n  this._error = err\n  this.maybeNext()\n}\n\nIterator.prototype.onComplete = function () {\n  this._completed = true\n  this.maybeNext()\n}\n\nIterator.prototype.maybeNext = function () {\n  if (this._callback) {\n    this._next(this._callback)\n    this._callback = null\n  }\n}\n\nIterator.prototype._next = function (callback) {\n  if (this._aborted) {\n    // The error should be picked up by either next() or end().\n    const err = this._error\n    this._error = null\n    this._nextTick(callback, err)\n  } else if (this._cache.length > 0) {\n    let key = this._cache.shift()\n    let value = this._cache.shift()\n\n    if (this._keys && key !== undefined) {\n      key = this._deserializeKey(key, this._keyAsBuffer)\n    } else {\n      key = undefined\n    }\n\n    if (this._values && value !== undefined) {\n      value = this._deserializeValue(value, this._valueAsBuffer)\n    } else {\n      value = undefined\n    }\n\n    this._nextTick(callback, null, key, value)\n  } else if (this._completed) {\n    this._nextTick(callback)\n  } else {\n    this._callback = callback\n  }\n}\n\n// Exposed for the v4 to v5 upgrade utility\nIterator.prototype._deserializeKey = deserialize\nIterator.prototype._deserializeValue = deserialize\n\nIterator.prototype._end = function (callback) {\n  if (this._aborted || this._completed) {\n    return this._nextTick(callback, this._error)\n  }\n\n  // Don't advance the cursor anymore, and the transaction will complete\n  // on its own in the next tick. This approach is much cleaner than calling\n  // transaction.abort() with its unpredictable event order.\n  this.onItem = noop\n  this.onAbort = callback\n  this.onComplete = callback\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\n// Returns either a Uint8Array or Buffer (doesn't matter to\n// IndexedDB, because Buffer is a subclass of Uint8Array)\nconst str2bin = (function () {\n  if (global.TextEncoder) {\n    const encoder = new TextEncoder('utf-8')\n    return encoder.encode.bind(encoder)\n  } else {\n    return Buffer.from\n  }\n})()\n\nmodule.exports = function (data, asBuffer) {\n  if (asBuffer) {\n    return Buffer.isBuffer(data) ? data : str2bin(String(data))\n  } else {\n    return String(data)\n  }\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\n\nexports.test = function (key) {\n  return function test (impl) {\n    try {\n      impl.cmp(key, 0)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n}\n\n// Detect binary key support (IndexedDB Second Edition)\nexports.bufferKeys = exports.test(Buffer.alloc(0))\n","/* global indexedDB */\n\n'use strict'\n\nmodule.exports = Level\n\nconst AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nconst inherits = require('inherits')\nconst parallel = require('run-parallel-limit')\nconst Iterator = require('./iterator')\nconst serialize = require('./util/serialize')\nconst deserialize = require('./util/deserialize')\nconst support = require('./util/support')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\nconst DEFAULT_PREFIX = 'level-js-'\n\nfunction Level (location, opts) {\n  if (!(this instanceof Level)) return new Level(location, opts)\n\n  AbstractLevelDOWN.call(this, {\n    bufferKeys: support.bufferKeys(indexedDB),\n    snapshots: true,\n    permanence: true,\n    clear: true,\n    getMany: true\n  })\n\n  opts = opts || {}\n\n  if (typeof location !== 'string') {\n    throw new Error('constructor requires a location string argument')\n  }\n\n  this.location = location\n  this.prefix = opts.prefix == null ? DEFAULT_PREFIX : opts.prefix\n  this.version = parseInt(opts.version || 1, 10)\n}\n\ninherits(Level, AbstractLevelDOWN)\n\nLevel.prototype.type = 'level-js'\n\nLevel.prototype._open = function (options, callback) {\n  const req = indexedDB.open(this.prefix + this.location, this.version)\n\n  req.onerror = function () {\n    callback(req.error || new Error('unknown error'))\n  }\n\n  req.onsuccess = () => {\n    this.db = req.result\n    callback()\n  }\n\n  req.onupgradeneeded = (ev) => {\n    const db = ev.target.result\n\n    if (!db.objectStoreNames.contains(this.location)) {\n      db.createObjectStore(this.location)\n    }\n  }\n}\n\nLevel.prototype.store = function (mode) {\n  const transaction = this.db.transaction([this.location], mode)\n  return transaction.objectStore(this.location)\n}\n\nLevel.prototype.await = function (request, callback) {\n  const transaction = request.transaction\n\n  // Take advantage of the fact that a non-canceled request error aborts\n  // the transaction. I.e. no need to listen for \"request.onerror\".\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback(null, request.result)\n  }\n}\n\nLevel.prototype._get = function (key, options, callback) {\n  const store = this.store('readonly')\n  let req\n\n  try {\n    req = store.get(key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, function (err, value) {\n    if (err) return callback(err)\n\n    if (value === undefined) {\n      // 'NotFound' error, consistent with LevelDOWN API\n      return callback(new Error('NotFound'))\n    }\n\n    callback(null, deserialize(value, options.asBuffer))\n  })\n}\n\nLevel.prototype._getMany = function (keys, options, callback) {\n  const asBuffer = options.asBuffer\n  const store = this.store('readonly')\n  const tasks = keys.map((key) => (next) => {\n    let request\n\n    try {\n      request = store.get(key)\n    } catch (err) {\n      return next(err)\n    }\n\n    request.onsuccess = () => {\n      const value = request.result\n      next(null, value === undefined ? value : deserialize(value, asBuffer))\n    }\n\n    request.onerror = (ev) => {\n      ev.stopPropagation()\n      next(request.error)\n    }\n  })\n\n  parallel(tasks, 16, callback)\n}\n\nLevel.prototype._del = function (key, options, callback) {\n  const store = this.store('readwrite')\n  let req\n\n  try {\n    req = store.delete(key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._put = function (key, value, options, callback) {\n  const store = this.store('readwrite')\n  let req\n\n  try {\n    // Will throw a DataError or DataCloneError if the environment\n    // does not support serializing the key or value respectively.\n    req = store.put(value, key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._serializeKey = function (key) {\n  return serialize(key, this.supports.bufferKeys)\n}\n\nLevel.prototype._serializeValue = function (value) {\n  return serialize(value, true)\n}\n\nLevel.prototype._iterator = function (options) {\n  return new Iterator(this, this.location, options)\n}\n\nLevel.prototype._batch = function (operations, options, callback) {\n  if (operations.length === 0) return this._nextTick(callback)\n\n  const store = this.store('readwrite')\n  const transaction = store.transaction\n  let index = 0\n  let error\n\n  transaction.onabort = function () {\n    callback(error || transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  // Wait for a request to complete before making the next, saving CPU.\n  function loop () {\n    const op = operations[index++]\n    const key = op.key\n\n    let req\n\n    try {\n      req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n    } catch (err) {\n      error = err\n      transaction.abort()\n      return\n    }\n\n    if (index < operations.length) {\n      req.onsuccess = loop\n    }\n  }\n\n  loop()\n}\n\nLevel.prototype._clear = function (options, callback) {\n  let keyRange\n  let req\n\n  try {\n    keyRange = createKeyRange(options)\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just do nothing.\n    return this._nextTick(callback)\n  }\n\n  if (options.limit >= 0) {\n    // IDBObjectStore#delete(range) doesn't have such an option.\n    // Fall back to cursor-based implementation.\n    return clear(this, this.location, keyRange, options, callback)\n  }\n\n  try {\n    const store = this.store('readwrite')\n    req = keyRange ? store.delete(keyRange) : store.clear()\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._close = function (callback) {\n  this.db.close()\n  this._nextTick(callback)\n}\n\n// NOTE: remove in a next major release\nLevel.prototype.upgrade = function (callback) {\n  if (this.status !== 'open') {\n    return this._nextTick(callback, new Error('cannot upgrade() before open()'))\n  }\n\n  const it = this.iterator()\n  const batchOptions = {}\n  const self = this\n\n  it._deserializeKey = it._deserializeValue = identity\n  next()\n\n  function next (err) {\n    if (err) return finish(err)\n    it.next(each)\n  }\n\n  function each (err, key, value) {\n    if (err || key === undefined) {\n      return finish(err)\n    }\n\n    const newKey = self._serializeKey(deserialize(key, true))\n    const newValue = self._serializeValue(deserialize(value, true))\n\n    // To bypass serialization on the old key, use _batch() instead of batch().\n    // NOTE: if we disable snapshotting (#86) this could lead to a loop of\n    // inserting and then iterating those same entries, because the new keys\n    // possibly sort after the old keys.\n    self._batch([\n      { type: 'del', key: key },\n      { type: 'put', key: newKey, value: newValue }\n    ], batchOptions, next)\n  }\n\n  function finish (err) {\n    it.end(function (err2) {\n      callback(err || err2)\n    })\n  }\n\n  function identity (data) {\n    return data\n  }\n}\n\nLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n  const request = indexedDB.deleteDatabase(prefix + location)\n  request.onsuccess = function () {\n    callback()\n  }\n  request.onerror = function (err) {\n    callback(err)\n  }\n}\n","'use strict'\n\nmodule.exports = function clear (db, location, keyRange, options, callback) {\n  if (options.limit === 0) return db._nextTick(callback)\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n  let count = 0\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n}\n","/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n/* Geohash encoding/decoding and associated functions   (c) Chris Veness 2014-2019 / MIT Licence  */\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\nconst base32 = '0123456789bcdefghjkmnpqrstuvwxyz'; // (geohash-specific) Base32 map\n\n\n/**\n * Geohash: Gustavo Niemeyers geocoding system.\n */\nclass Geohash {\n\n    /**\n     * Encodes latitude/longitude to geohash, either to specified precision or to automatically\n     * evaluated precision.\n     *\n     * @param   {number} lat - Latitude in degrees.\n     * @param   {number} lon - Longitude in degrees.\n     * @param   {number} [precision] - Number of characters in resulting geohash.\n     * @returns {string} Geohash of supplied latitude/longitude.\n     * @throws  Invalid geohash.\n     *\n     * @example\n     *     const geohash = Geohash.encode(52.205, 0.119, 7); // => 'u120fxw'\n     */\n    static encode(lat, lon, precision) {\n        // infer precision?\n        if (typeof precision == 'undefined') {\n            // refine geohash until it matches precision of supplied lat/lon\n            for (let p=1; p<=12; p++) {\n                const hash = Geohash.encode(lat, lon, p);\n                const posn = Geohash.decode(hash);\n                if (posn.lat==lat && posn.lon==lon) return hash;\n            }\n            precision = 12; // set to maximum\n        }\n\n        lat = Number(lat);\n        lon = Number(lon);\n        precision = Number(precision);\n\n        if (isNaN(lat) || isNaN(lon) || isNaN(precision)) throw new Error('Invalid geohash');\n\n        let idx = 0; // index into base32 map\n        let bit = 0; // each char holds 5 bits\n        let evenBit = true;\n        let geohash = '';\n\n        let latMin =  -90, latMax =  90;\n        let lonMin = -180, lonMax = 180;\n\n        while (geohash.length < precision) {\n            if (evenBit) {\n                // bisect E-W longitude\n                const lonMid = (lonMin + lonMax) / 2;\n                if (lon >= lonMid) {\n                    idx = idx*2 + 1;\n                    lonMin = lonMid;\n                } else {\n                    idx = idx*2;\n                    lonMax = lonMid;\n                }\n            } else {\n                // bisect N-S latitude\n                const latMid = (latMin + latMax) / 2;\n                if (lat >= latMid) {\n                    idx = idx*2 + 1;\n                    latMin = latMid;\n                } else {\n                    idx = idx*2;\n                    latMax = latMid;\n                }\n            }\n            evenBit = !evenBit;\n\n            if (++bit == 5) {\n                // 5 bits gives us a character: append it and start over\n                geohash += base32.charAt(idx);\n                bit = 0;\n                idx = 0;\n            }\n        }\n\n        return geohash;\n    }\n\n\n    /**\n     * Decode geohash to latitude/longitude (location is approximate centre of geohash cell,\n     *     to reasonable precision).\n     *\n     * @param   {string} geohash - Geohash string to be converted to latitude/longitude.\n     * @returns {{lat:number, lon:number}} (Center of) geohashed location.\n     * @throws  Invalid geohash.\n     *\n     * @example\n     *     const latlon = Geohash.decode('u120fxw'); // => { lat: 52.205, lon: 0.1188 }\n     */\n    static decode(geohash) {\n\n        const bounds = Geohash.bounds(geohash); // <-- the hard work\n        // now just determine the centre of the cell...\n\n        const latMin = bounds.sw.lat, lonMin = bounds.sw.lon;\n        const latMax = bounds.ne.lat, lonMax = bounds.ne.lon;\n\n        // cell centre\n        let lat = (latMin + latMax)/2;\n        let lon = (lonMin + lonMax)/2;\n\n        // round to close to centre without excessive precision: 2-log10() decimal places\n        lat = lat.toFixed(Math.floor(2-Math.log(latMax-latMin)/Math.LN10));\n        lon = lon.toFixed(Math.floor(2-Math.log(lonMax-lonMin)/Math.LN10));\n\n        return { lat: Number(lat), lon: Number(lon) };\n    }\n\n\n    /**\n     * Returns SW/NE latitude/longitude bounds of specified geohash.\n     *\n     * @param   {string} geohash - Cell that bounds are required of.\n     * @returns {{sw: {lat: number, lon: number}, ne: {lat: number, lon: number}}}\n     * @throws  Invalid geohash.\n     */\n    static bounds(geohash) {\n        if (geohash.length == 0) throw new Error('Invalid geohash');\n\n        geohash = geohash.toLowerCase();\n\n        let evenBit = true;\n        let latMin =  -90, latMax =  90;\n        let lonMin = -180, lonMax = 180;\n\n        for (let i=0; i<geohash.length; i++) {\n            const chr = geohash.charAt(i);\n            const idx = base32.indexOf(chr);\n            if (idx == -1) throw new Error('Invalid geohash');\n\n            for (let n=4; n>=0; n--) {\n                const bitN = idx >> n & 1;\n                if (evenBit) {\n                    // longitude\n                    const lonMid = (lonMin+lonMax) / 2;\n                    if (bitN == 1) {\n                        lonMin = lonMid;\n                    } else {\n                        lonMax = lonMid;\n                    }\n                } else {\n                    // latitude\n                    const latMid = (latMin+latMax) / 2;\n                    if (bitN == 1) {\n                        latMin = latMid;\n                    } else {\n                        latMax = latMid;\n                    }\n                }\n                evenBit = !evenBit;\n            }\n        }\n\n        const bounds = {\n            sw: { lat: latMin, lon: lonMin },\n            ne: { lat: latMax, lon: lonMax },\n        };\n\n        return bounds;\n    }\n\n\n    /**\n     * Determines adjacent cell in given direction.\n     *\n     * @param   geohash - Cell to which adjacent cell is required.\n     * @param   direction - Direction from geohash (N/S/E/W).\n     * @returns {string} Geocode of adjacent cell.\n     * @throws  Invalid geohash.\n     */\n    static adjacent(geohash, direction) {\n        // based on github.com/davetroy/geohash-js\n\n        geohash = geohash.toLowerCase();\n        direction = direction.toLowerCase();\n\n        if (geohash.length == 0) throw new Error('Invalid geohash');\n        if ('nsew'.indexOf(direction) == -1) throw new Error('Invalid direction');\n\n        const neighbour = {\n            n: [ 'p0r21436x8zb9dcf5h7kjnmqesgutwvy', 'bc01fg45238967deuvhjyznpkmstqrwx' ],\n            s: [ '14365h7k9dcfesgujnmqp0r2twvyx8zb', '238967debc01fg45kmstqrwxuvhjyznp' ],\n            e: [ 'bc01fg45238967deuvhjyznpkmstqrwx', 'p0r21436x8zb9dcf5h7kjnmqesgutwvy' ],\n            w: [ '238967debc01fg45kmstqrwxuvhjyznp', '14365h7k9dcfesgujnmqp0r2twvyx8zb' ],\n        };\n        const border = {\n            n: [ 'prxz',     'bcfguvyz' ],\n            s: [ '028b',     '0145hjnp' ],\n            e: [ 'bcfguvyz', 'prxz'     ],\n            w: [ '0145hjnp', '028b'     ],\n        };\n\n        const lastCh = geohash.slice(-1);    // last character of hash\n        let parent = geohash.slice(0, -1); // hash without last character\n\n        const type = geohash.length % 2;\n\n        // check for edge-cases which don't share common prefix\n        if (border[direction][type].indexOf(lastCh) != -1 && parent != '') {\n            parent = Geohash.adjacent(parent, direction);\n        }\n\n        // append letter for direction to parent\n        return parent + base32.charAt(neighbour[direction][type].indexOf(lastCh));\n    }\n\n\n    /**\n     * Returns all 8 adjacent cells to specified geohash.\n     *\n     * @param   {string} geohash - Geohash neighbours are required of.\n     * @returns {{n,ne,e,se,s,sw,w,nw: string}}\n     * @throws  Invalid geohash.\n     */\n    static neighbours(geohash) {\n        return {\n            'n':  Geohash.adjacent(geohash, 'n'),\n            'ne': Geohash.adjacent(Geohash.adjacent(geohash, 'n'), 'e'),\n            'e':  Geohash.adjacent(geohash, 'e'),\n            'se': Geohash.adjacent(Geohash.adjacent(geohash, 's'), 'e'),\n            's':  Geohash.adjacent(geohash, 's'),\n            'sw': Geohash.adjacent(Geohash.adjacent(geohash, 's'), 'w'),\n            'w':  Geohash.adjacent(geohash, 'w'),\n            'nw': Geohash.adjacent(Geohash.adjacent(geohash, 'n'), 'w'),\n        };\n    }\n\n}\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\nexport default Geohash;\n","/* eslint-disable camelcase */\n\nfunction sodium_malloc (n) {\n  return new Uint8Array(n)\n}\n\nfunction sodium_free (n) {\n  sodium_memzero(n)\n  loadSink().port1.postMessage(n.buffer, [n.buffer])\n}\n\nfunction sodium_memzero (arr) {\n  arr.fill(0)\n}\n\nvar sink\n\nfunction loadSink () {\n  if (sink) return sink\n  var MessageChannel = globalThis.MessageChannel\n  if (MessageChannel == null) ({ MessageChannel } = require('worker' + '_threads'))\n  sink = new MessageChannel()\n  return sink\n}\n\nmodule.exports = {\n  sodium_malloc,\n  sodium_free,\n  sodium_memzero\n}\n","module.exports = assert\n\nclass AssertionError extends Error {}\nAssertionError.prototype.name = 'AssertionError'\n\n/**\n * Minimal assert function\n * @param  {any} t Value to check if falsy\n * @param  {string=} m Optional assertion error message\n * @throws {AssertionError}\n */\nfunction assert (t, m) {\n  if (!t) {\n    var err = new AssertionError(m)\n    if (Error.captureStackTrace) Error.captureStackTrace(err, assert)\n    throw err\n  }\n}\n","var assert = require('nanoassert')\n\nvar randombytes = (function () {\n  var QUOTA = 65536 // limit for QuotaExceededException\n  var crypto = globalThis.crypto || globalThis.msCrypto\n\n  function browserBytes (out, n) {\n    for (let i = 0; i < n; i += QUOTA) {\n      crypto.getRandomValues(new Uint8Array(out.buffer, i + out.byteOffset, Math.min(n - i, QUOTA)))\n    }\n  }\n\n  function nodeBytes (out, n) {\n    new Uint8Array(out.buffer, out.byteOffset, n).set(crypto.randomBytes(n))\n  }\n\n  function noImpl () {\n    throw new Error('No secure random number generator available')\n  }\n\n  if (crypto && crypto.getRandomValues) return browserBytes\n\n  if (require != null) {\n    // Node.js. Bust Browserify\n    crypto = require('cry' + 'pto')\n    if (crypto && crypto.randomBytes) return nodeBytes\n  }\n\n  return noImpl\n})()\n\n// Make non enumerable as this is an internal function\nObject.defineProperty(module.exports, 'randombytes', {\n  value: randombytes\n})\n\nmodule.exports.randombytes_buf = function (out) {\n  assert(out, 'out must be given')\n  randombytes(out, out.byteLength)\n}\n","/* eslint-disable camelcase */\nmodule.exports = {\n  crypto_verify_16,\n  crypto_verify_32,\n  crypto_verify_64\n}\n\nfunction vn (x, xi, y, yi, n) {\n  var d = 0\n  for (let i = 0; i < n; i++) d |= x[xi + i] ^ y[yi + i]\n  return (1 & ((d - 1) >>> 8)) - 1\n}\n\n// Make non enumerable as this is an internal function\nObject.defineProperty(module.exports, 'vn', {\n  value: vn\n})\n\nfunction crypto_verify_16 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 16) === 0\n}\n\nfunction crypto_verify_32 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 32) === 0\n}\n\nfunction crypto_verify_64 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 64) === 0\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst { vn } = require('./crypto_verify')\n\nfunction sodium_increment (n) {\n  const nlen = n.byteLength\n  var c = 1\n  for (var i = 0; i < nlen; i++) {\n    c += n[i]\n    n[i] = c\n    c >>= 8\n  }\n}\n\nfunction sodium_memcmp (a, b) {\n  assert(a.byteLength === b.byteLength, 'buffers must be the same size')\n\n  return vn(a, 0, b, 0, a.byteLength) === 0\n}\n\nfunction sodium_is_zero (arr) {\n  var d = 0\n  for (let i = 0; i < arr.length; i++) d |= arr[i]\n  return d === 0\n}\n\nmodule.exports = {\n  sodium_increment,\n  sodium_memcmp,\n  sodium_is_zero\n}\n","function byteLength (string) {\n  return string.length\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len; i++) {\n    result += String.fromCharCode(buffer[i])\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0; i < len; i++) {\n    buffer[offset + i] = string.charCodeAt(i)\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\nconst codes = new Uint8Array(256)\n\nfor (let i = 0; i < alphabet.length; i++) {\n  codes[alphabet.charCodeAt(i)] = i\n}\n\ncodes[/* - */ 0x2d] = 62\ncodes[/* _ */ 0x5f] = 63\n\nfunction byteLength (string) {\n  let len = string.length\n\n  if (string.charCodeAt(len - 1) === 0x3d) len--\n  if (len > 1 && string.charCodeAt(len - 1) === 0x3d) len--\n\n  return (len * 3) >>> 2\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len; i += 3) {\n    result += (\n      alphabet[buffer[i] >> 2] +\n      alphabet[((buffer[i] & 3) << 4) | (buffer[i + 1] >> 4)] +\n      alphabet[((buffer[i + 1] & 15) << 2) | (buffer[i + 2] >> 6)] +\n      alphabet[buffer[i + 2] & 63]\n    )\n  }\n\n  if (len % 3 === 2) {\n    result = result.substring(0, result.length - 1) + '='\n  } else if (len % 3 === 1) {\n    result = result.substring(0, result.length - 2) + '=='\n  }\n\n  return result\n};\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0, j = 0; i < len; i += 4) {\n    const a = codes[string.charCodeAt(i)]\n    const b = codes[string.charCodeAt(i + 1)]\n    const c = codes[string.charCodeAt(i + 2)]\n    const d = codes[string.charCodeAt(i + 3)]\n\n    buffer[j++] = (a << 2) | (b >> 4)\n    buffer[j++] = ((b & 15) << 4) | (c >> 2)\n    buffer[j++] = ((c & 3) << 6) | (d & 63)\n  }\n\n  return len\n};\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","function byteLength (string) {\n  return string.length >>> 1\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  buffer = new DataView(buffer.buffer, buffer.byteOffset, len)\n\n  let result = ''\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    result += buffer.getUint32(i).toString(16).padStart(8, '0')\n  }\n\n  for (; i < len; i++) {\n    result += buffer.getUint8(i).toString(16).padStart(2, '0')\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0; i < len; i++) {\n    const a = hexValue(string.charCodeAt(i * 2))\n    const b = hexValue(string.charCodeAt(i * 2 + 1))\n\n    if (a === undefined || b === undefined) {\n      return buffer.subarray(0, i)\n    }\n\n    buffer[offset + i] = (a << 4) | b\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n\nfunction hexValue (char) {\n  if (char >= 0x30 && char <= 0x39) return char - 0x30\n  if (char >= 0x41 && char <= 0x46) return char - 0x41 + 10\n  if (char >= 0x61 && char <= 0x66) return char - 0x61 + 10\n}\n","function byteLength (string) {\n  let length = 0\n\n  for (let i = 0, n = string.length; i < n; i++) {\n    const code = string.charCodeAt(i)\n\n    if (code >= 0xd800 && code <= 0xdbff && i + 1 < n) {\n      const code = string.charCodeAt(i + 1)\n\n      if (code >= 0xdc00 && code <= 0xdfff) {\n        length += 4\n        i++\n        continue\n      }\n    }\n\n    if (code <= 0x7f) length += 1\n    else if (code <= 0x7ff) length += 2\n    else length += 3\n  }\n\n  return length\n}\n\nlet toString\n\nif (typeof TextDecoder !== 'undefined') {\n  const decoder = new TextDecoder()\n\n  toString = function toString (buffer) {\n    return decoder.decode(buffer)\n  }\n} else {\n  toString = function toString (buffer) {\n    const len = buffer.byteLength\n\n    let output = ''\n    let i = 0\n\n    while (i < len) {\n      let byte = buffer[i]\n\n      if (byte <= 0x7f) {\n        output += String.fromCharCode(byte)\n        i++\n        continue\n      }\n\n      let bytesNeeded = 0\n      let codePoint = 0\n\n      if (byte <= 0xdf) {\n        bytesNeeded = 1\n        codePoint = byte & 0x1f\n      } else if (byte <= 0xef) {\n        bytesNeeded = 2\n        codePoint = byte & 0x0f\n      } else if (byte <= 0xf4) {\n        bytesNeeded = 3\n        codePoint = byte & 0x07\n      }\n\n      if (len - i - bytesNeeded > 0) {\n        let k = 0\n\n        while (k < bytesNeeded) {\n          byte = buffer[i + k + 1]\n          codePoint = (codePoint << 6) | (byte & 0x3f)\n          k += 1\n        }\n      } else {\n        codePoint = 0xfffd\n        bytesNeeded = len - i\n      }\n\n      output += String.fromCodePoint(codePoint)\n      i += bytesNeeded + 1\n    }\n\n    return output\n  }\n}\n\nlet write\n\nif (typeof TextEncoder !== 'undefined') {\n  const encoder = new TextEncoder()\n\n  write = function write (buffer, string, offset = 0, length = byteLength(string)) {\n    const len = Math.min(length, buffer.byteLength - offset)\n    encoder.encodeInto(string, buffer.subarray(offset, offset + len))\n    return len\n  }\n} else {\n  write = function write (buffer, string, offset = 0, length = byteLength(string)) {\n    const len = Math.min(length, buffer.byteLength - offset)\n\n    buffer = buffer.subarray(offset, offset + len)\n\n    let i = 0\n    let j = 0\n\n    while (i < string.length) {\n      const code = string.codePointAt(i)\n\n      if (code <= 0x7f) {\n        buffer[j++] = code\n        i++\n        continue\n      }\n\n      let count = 0\n      let bits = 0\n\n      if (code <= 0x7ff) {\n        count = 6\n        bits = 0xc0\n      } else if (code <= 0xffff) {\n        count = 12\n        bits = 0xe0\n      } else if (code <= 0x1fffff) {\n        count = 18\n        bits = 0xf0\n      }\n\n      buffer[j++] = bits | (code >> count)\n      count -= 6\n\n      while (count >= 0) {\n        buffer[j++] = 0x80 | ((code >> count) & 0x3f)\n        count -= 6\n      }\n\n      i += code >= 0x10000 ? 2 : 1\n    }\n\n    return len\n  }\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","function byteLength (string) {\n  return string.length * 2\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len - 1; i += 2) {\n    result += String.fromCharCode(buffer[i] + (buffer[i + 1] * 256))\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  let units = len\n\n  for (let i = 0; i < string.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    const c = string.charCodeAt(i)\n    const hi = c >> 8\n    const lo = c % 256\n\n    buffer[offset + i * 2] = lo\n    buffer[offset + i * 2 + 1] = hi\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","const ascii = require('./lib/ascii')\nconst base64 = require('./lib/base64')\nconst hex = require('./lib/hex')\nconst utf8 = require('./lib/utf8')\nconst utf16le = require('./lib/utf16le')\n\nfunction codecFor (encoding) {\n  switch (encoding) {\n    case 'ascii':\n      return ascii\n    case 'base64':\n      return base64\n    case 'hex':\n      return hex\n    case 'utf8':\n    case 'utf-8':\n    case undefined:\n      return utf8\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return utf16le\n    default:\n      throw new Error(`Unknown encoding: ${encoding}`)\n  }\n}\n\nfunction isBuffer (value) {\n  return value instanceof Uint8Array\n}\n\nfunction alloc (size, fill, encoding) {\n  const buffer = new Uint8Array(size)\n  if (fill !== undefined) fill(buffer, fill, 0, buffer.byteLength, encoding)\n  return buffer\n}\n\nfunction allocUnsafe (size) {\n  return new Uint8Array(size)\n}\n\nfunction allocUnsafeSlow (size) {\n  return new Uint8Array(size)\n}\n\nfunction byteLength (string, encoding) {\n  return codecFor(encoding).byteLength(string)\n}\n\nfunction compare (a, b) {\n  if (a === b) return 0\n\n  const len = Math.min(a.byteLength, b.byteLength)\n\n  a = new DataView(a.buffer, a.byteOffset, a.byteLength)\n  b = new DataView(b.buffer, b.byteOffset, b.byteLength)\n\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    const x = a.getUint32(i)\n    const y = b.getUint32(i)\n    if (x < y) return -1\n    if (x > y) return 1\n  }\n\n  for (; i < len; i++) {\n    const x = a.getUint8(i)\n    const y = b.getUint8(i)\n    if (x < y) return -1\n    if (x > y) return 1\n  }\n\n  return a.byteLength > b.byteLength ? 1 : a.byteLength < b.byteLength ? -1 : 0\n}\n\nfunction concat (buffers, totalLength) {\n  if (totalLength === undefined) {\n    totalLength = buffers.reduce((len, buffer) => len + buffer.byteLength, 0)\n  }\n\n  const result = new Uint8Array(totalLength)\n\n  buffers.reduce(\n    (offset, buffer) => {\n      result.set(buffer, offset)\n      return offset + buffer.byteLength\n    },\n    0\n  )\n\n  return result\n}\n\nfunction copy (source, target, targetStart = 0, start = 0, end = source.byteLength) {\n  if (end > 0 && end < start) return 0\n  if (end === start) return 0\n  if (source.byteLength === 0 || target.byteLength === 0) return 0\n\n  if (targetStart < 0) throw new RangeError('targetStart is out of range')\n  if (start < 0 || start >= source.byteLength) throw new RangeError('sourceStart is out of range')\n  if (end < 0) throw new RangeError('sourceEnd is out of range')\n\n  if (targetStart >= target.byteLength) targetStart = target.byteLength\n  if (end > source.byteLength) end = source.byteLength\n  if (target.byteLength - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (source === target) {\n    target.copyWithin(targetStart, start, end)\n  } else {\n    target.set(source.subarray(start, end), targetStart)\n  }\n\n  return len\n}\n\nfunction equals (a, b) {\n  if (a === b) return true\n  if (a.byteLength !== b.byteLength) return false\n\n  const len = a.byteLength\n\n  a = new DataView(a.buffer, a.byteOffset, a.byteLength)\n  b = new DataView(b.buffer, b.byteOffset, b.byteLength)\n\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    if (a.getUint32(i) !== b.getUint32(i)) return false\n  }\n\n  for (; i < len; i++) {\n    if (a.getUint8(i) !== b.getUint8(i)) return false\n  }\n\n  return true\n}\n\nfunction fill (buffer, value, offset, end, encoding) {\n  if (typeof value === 'string') {\n    // fill(buffer, string, encoding)\n    if (typeof offset === 'string') {\n      encoding = offset\n      offset = 0\n      end = buffer.byteLength\n\n    // fill(buffer, string, offset, encoding)\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = buffer.byteLength\n    }\n  } else if (typeof val === 'number') {\n    value = value & 255\n  } else if (typeof val === 'boolean') {\n    value = +value\n  }\n\n  if (offset < 0 || buffer.byteLength < offset || buffer.byteLength < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (offset === undefined) offset = 0\n  if (end === undefined) end = buffer.byteLength\n\n  if (end <= offset) return buffer\n\n  if (!value) value = 0\n\n  if (typeof value === 'number') {\n    for (let i = offset; i < end; ++i) {\n      buffer[i] = value\n    }\n  } else {\n    value = isBuffer(value) ? value : from(value, encoding)\n\n    const len = value.byteLength\n\n    for (let i = 0; i < end - offset; ++i) {\n      buffer[i + offset] = value[i % len]\n    }\n  }\n\n  return buffer\n}\n\nfunction from (value, encodingOrOffset, length) {\n  // from(string, encoding)\n  if (typeof value === 'string') return fromString(value, encodingOrOffset)\n\n  // from(array)\n  if (Array.isArray(value)) return fromArray(value)\n\n  // from(buffer)\n  if (ArrayBuffer.isView(value)) return fromBuffer(value)\n\n  // from(arrayBuffer[, byteOffset[, length]])\n  return fromArrayBuffer(value, encodingOrOffset, length)\n}\n\nfunction fromString (string, encoding) {\n  const codec = codecFor(encoding)\n  const buffer = new Uint8Array(codec.byteLength(string))\n  codec.write(buffer, string, 0, buffer.byteLength)\n  return buffer\n}\n\nfunction fromArray (array) {\n  const buffer = new Uint8Array(array.length)\n  buffer.set(array)\n  return buffer\n}\n\nfunction fromBuffer (buffer) {\n  const copy = new Uint8Array(buffer.byteLength)\n  copy.set(buffer)\n  return copy\n}\n\nfunction fromArrayBuffer (arrayBuffer, byteOffset, length) {\n  return new Uint8Array(arrayBuffer, byteOffset, length)\n}\n\nfunction swap (buffer, n, m) {\n  const i = buffer[n]\n  buffer[n] = buffer[m]\n  buffer[m] = i\n}\n\nfunction swap16 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 2 !== 0) throw new RangeError('Buffer size must be a multiple of 16-bits')\n\n  for (let i = 0; i < len; i += 2) swap(buffer, i, i + 1)\n\n  return buffer\n}\n\nfunction swap32 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 4 !== 0) throw new RangeError('Buffer size must be a multiple of 32-bits')\n\n  for (let i = 0; i < len; i += 4) {\n    swap(buffer, i, i + 3)\n    swap(buffer, i + 1, i + 2)\n  }\n\n  return buffer\n}\n\nfunction swap64 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 8 !== 0) throw new RangeError('Buffer size must be a multiple of 64-bits')\n\n  for (let i = 0; i < len; i += 8) {\n    swap(buffer, i, i + 7)\n    swap(buffer, i + 1, i + 6)\n    swap(buffer, i + 2, i + 5)\n    swap(buffer, i + 3, i + 4)\n  }\n\n  return buffer\n}\n\nfunction toBuffer (buffer) {\n  return buffer\n}\n\nfunction toString (buffer, encoding, start = 0, end = buffer.byteLength) {\n  const len = buffer.byteLength\n\n  if (start >= len) return ''\n  if (end <= start) return ''\n  if (start < 0) start = 0\n  if (end > len) end = len\n\n  if (start !== 0 || end < len) buffer = buffer.subarray(start, end)\n\n  return codecFor(encoding).toString(buffer)\n}\n\nfunction write (buffer, string, offset, length, encoding) {\n  // write(buffer, string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n\n  // write(buffer, string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n\n  // write(buffer, string, offset, encoding)\n  } else if (encoding === undefined && typeof length === 'string') {\n    encoding = length\n    length = undefined\n  }\n\n  return codecFor(encoding).write(buffer, string, offset, length)\n}\n\nmodule.exports = {\n  isBuffer,\n  alloc,\n  allocUnsafe,\n  allocUnsafeSlow,\n  byteLength,\n  compare,\n  concat,\n  copy,\n  equals,\n  fill,\n  from,\n  swap16,\n  swap32,\n  swap64,\n  toBuffer,\n  toString,\n  write\n}\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nmodule.exports = Sha512\n\nconst BLOCKSIZE = 128\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]\n\nfunction Sha512 () {\n  if (!(this instanceof Sha512)) return new Sha512()\n\n  this.hh = new Int32Array(8)\n  this.hl = new Int32Array(8)\n  this.buffer = new Uint8Array(128)\n  this.finalised = false\n  this.bytesRead = 0\n  this.pos = 0\n\n  this.hh[0] = 0x6a09e667\n  this.hh[1] = 0xbb67ae85\n  this.hh[2] = 0x3c6ef372\n  this.hh[3] = 0xa54ff53a\n  this.hh[4] = 0x510e527f\n  this.hh[5] = 0x9b05688c\n  this.hh[6] = 0x1f83d9ab\n  this.hh[7] = 0x5be0cd19\n\n  this.hl[0] = 0xf3bcc908\n  this.hl[1] = 0x84caa73b\n  this.hl[2] = 0xfe94f82b\n  this.hl[3] = 0x5f1d36f1\n  this.hl[4] = 0xade682d1\n  this.hl[5] = 0x2b3e6c1f\n  this.hl[6] = 0xfb41bd6b\n  this.hl[7] = 0x137e2179\n\n  return this\n}\n\nSha512.prototype.update = function (input, enc) {\n  assert(this.finalised === false, 'Hash instance finalised')\n\n  var [inputBuf, len] = formatInput(input, enc)\n  this.bytesRead += len\n\n  const full = (len + this.pos) & -128\n\n  this.buffer.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pos)\n  const pos = this.pos\n  len -= BLOCKSIZE - this.pos\n\n  if (len >= 0) {\n    compress(this.hh, this.hl, this.buffer, 128)\n    this.pos = 0\n  }\n\n  if (len > 127) {\n    compress(this.hh, this.hl, inputBuf.subarray(BLOCKSIZE - pos, full - pos), full - BLOCKSIZE)\n    len %= 128\n  }\n\n  this.buffer.set(inputBuf.subarray(inputBuf.byteLength - len))\n  this.pos = this.bytesRead & 0x7f\n  this.buffer.fill(0, this.pos)\n\n  return this\n}\n\nSha512.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalised === false, 'Hash instance finalised')\n  this.finalised = true\n\n  this.buffer.fill(0, this.pos)\n  this.buffer[this.pos] = 128\n\n  if (this.pos > 111) {\n    compress(this.hh, this.hl, this.buffer, 128)\n\n    this.buffer.fill(0)\n    this.pos = 0\n  }\n\n  ts64(this.buffer, 120, (this.bytesRead / 0x20000000) | 0, this.bytesRead << 3)\n  compress(this.hh, this.hl, this.buffer, 128)\n\n  if (enc instanceof Uint8Array && enc.byteLength > 63) {\n    for (let i = 0; i < 8; i++) ts64(enc, 8 * i + offset, this.hh[i], this.hl[i])\n    return enc\n  }\n\n  const resultBuf = new Uint8Array(64)\n  for (let i = 0; i < 8; i++) ts64(resultBuf, 8 * i, this.hh[i], this.hl[i])\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  return resultBuf\n}\n\nfunction ts64 (x, i, h, l) {\n  x[i] = (h >> 24) & 0xff\n  x[i + 1] = (h >> 16) & 0xff\n  x[i + 2] = (h >> 8) & 0xff\n  x[i + 3] = h & 0xff\n  x[i + 4] = (l >> 24) & 0xff\n  x[i + 5] = (l >> 16) & 0xff\n  x[i + 6] = (l >> 8) & 0xff\n  x[i + 7] = l & 0xff\n}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\nfunction compress(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n}\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(128)\n  this.inner = Sha512()\n  this.outer = Sha512()\n\n  const keyhash = b4a.alloc(64)\n  if (key.byteLength > 128) {\n    Sha512().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha512.HMAC = HMAC\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./sha512.wat\nvar require_sha512 = __commonJS({\n  \"wasm-binary:./sha512.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./sha512.wat\nvar bytes = require_sha512();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nconst wasm = require('./sha512.js')({\n  imports: {\n    debug: {\n      log (...args) {\n        console.log(...args.map(int => (int >>> 0).toString(16).padStart(8, '0')))\n      },\n      log_tee (arg) {\n        console.log((arg >>> 0).toString(16).padStart(8, '0'))\n        return arg\n      }\n    }\n  }\n})\n\nlet head = 0\n// assetrt head % 8 === 0 to guarantee alignment\nconst freeList = []\n\nmodule.exports = Sha512\nconst SHA512_BYTES = module.exports.SHA512_BYTES = 64\nconst INPUT_OFFSET = 80\nconst STATEBYTES = 216\nconst BLOCKSIZE = 128\n\nfunction Sha512 () {\n  if (!(this instanceof Sha512)) return new Sha512()\n  if (!(wasm)) throw new Error('WASM not loaded. Wait for Sha512.ready(cb)')\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += STATEBYTES\n  }\n\n  this.finalized = false\n  this.digestLength = SHA512_BYTES\n  this.pointer = freeList.pop()\n  this.pos = 0\n  this.wasm = wasm\n\n  this._memory = new Uint8Array(wasm.memory.buffer)\n  this._memory.fill(0, this.pointer, this.pointer + STATEBYTES)\n\n  if (this.pointer + this.digestLength > this._memory.length) this._realloc(this.pointer + STATEBYTES)\n}\n\nSha512.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nSha512.prototype.update = function (input, enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  if (head % 8 !== 0) head += 8 - head % 8\n  assert(head % 8 === 0, 'input should be aligned for int64')\n\n  const [inputBuf, length] = formatInput(input, enc)\n\n  assert(inputBuf instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + input.length > this._memory.length) this._realloc(head + input.length)\n\n  this._memory.fill(0, head, head + roundUp(length, BLOCKSIZE) - BLOCKSIZE)\n  this._memory.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pointer + INPUT_OFFSET + this.pos)\n  this._memory.set(inputBuf.subarray(BLOCKSIZE - this.pos), head)\n\n  this.pos = (this.pos + length) & 0x7f\n  wasm.sha512(this.pointer, head, length, 0)\n\n  return this\n}\n\nSha512.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  this.finalized = true\n  freeList.push(this.pointer)\n\n  const paddingStart = this.pointer + INPUT_OFFSET + this.pos\n  this._memory.fill(0, paddingStart, this.pointer + INPUT_OFFSET + BLOCKSIZE)\n  wasm.sha512(this.pointer, head, 0, 1)\n\n  const resultBuf = this._memory.subarray(this.pointer, this.pointer + this.digestLength)\n\n  if (!enc) {\n    return resultBuf\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'output must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset,\n    \"output must have at least 'SHA512_BYTES' bytes remaining\")\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nSha512.WASM = wasm\nSha512.WASM_SUPPORTED = typeof WebAssembly !== 'undefined'\n\nSha512.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasm) return cb(new Error('WebAssembly not supported'))\n  cb()\n  return Promise.resolve()\n}\n\nSha512.prototype.ready = Sha512.ready\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(128)\n  this.inner = Sha512()\n  this.outer = Sha512()\n\n  const keyhash = b4a.alloc(64)\n  if (key.byteLength > 128) {\n    Sha512().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha512.HMAC = HMAC\n\nfunction noop () {}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\n// only works for base that is power of 2\nfunction roundUp (n, base) {\n  return (n + base - 1) & -base\n}\n","const js = require('./sha512.js')\nconst wasm = require('sha512-wasm')\n\nvar Proto = js\n\nmodule.exports = function () {\n  return new Proto()\n}\n\nmodule.exports.ready = function (cb) {\n  wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = wasm.SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar SHA512_BYTES = module.exports.SHA512_BYTES = 64\n\nwasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = Proto = wasm\n  }\n})\n","/* eslint-disable camelcase */\nconst { crypto_verify_32 } = require('./crypto_verify')\nconst Sha512 = require('sha512-universal')\nconst assert = require('nanoassert')\n\nconst crypto_auth_BYTES = 32\nconst crypto_auth_KEYBYTES = 32\n\nfunction crypto_auth (out, input, k) {\n  assert(out.byteLength === crypto_auth_BYTES, \"out should be 'crypto_auth_BYTES' in length\")\n  assert(k.byteLength === crypto_auth_KEYBYTES, \"key should be 'crypto_auth_KEYBYTES' in length\")\n\n  const out0 = new Uint8Array(64)\n  const hmac = Sha512.HMAC(k)\n  hmac.update(input)\n  hmac.digest(out0)\n\n  out.set(out0.subarray(0, 32))\n}\n\nfunction crypto_auth_verify (h, input, k) {\n  assert(h.byteLength === crypto_auth_BYTES, \"h should be 'crypto_auth_BYTES' in length\")\n  assert(k.byteLength === crypto_auth_KEYBYTES, \"key should be 'crypto_auth_KEYBYTES' in length\")\n\n  const correct = Sha512.HMAC(k).update(input).digest()\n\n  return crypto_verify_32(h, 0, correct, 0)\n}\n\nmodule.exports = {\n  crypto_auth_BYTES,\n  crypto_auth_KEYBYTES,\n  crypto_auth,\n  crypto_auth_verify\n}\n","/* eslint-disable camelcase */\nconst sha512 = require('sha512-universal')\nconst assert = require('nanoassert')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nconst crypto_hash_sha512_BYTES = 64\nconst crypto_hash_BYTES = crypto_hash_sha512_BYTES\n\nfunction crypto_hash_sha512 (out, m, n) {\n  assert(out.byteLength === crypto_hash_sha512_BYTES, \"out must be 'crypto_hash_sha512_BYTES' bytes long\")\n\n  sha512().update(m.subarray(0, n)).digest(out)\n  return 0\n}\n\nfunction crypto_hash (out, m, n) {\n  return crypto_hash_sha512(out, m, n)\n}\n\nmodule.exports = {\n  crypto_hash,\n  crypto_hash_sha512,\n  crypto_hash_sha512_BYTES,\n  crypto_hash_BYTES\n}\n","if (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n}\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n    t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n    t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nmodule.exports = {\n  gf,\n  A,\n  Z,\n  M,\n  S,\n  sel25519,\n  pack25519,\n  unpack25519,\n  inv25519,\n  gf0,\n  gf1,\n  _9,\n  _121665,\n  D,\n  D2,\n  X,\n  Y,\n  I\n}\n","/* eslint-disable camelcase, one-var */\nconst { _9, _121665, gf, inv25519, pack25519, unpack25519, sel25519, A, M, Z, S } = require('./internal/ed25519')\n\nconst crypto_scalarmult_BYTES = 32\nconst crypto_scalarmult_SCALARBYTES = 32\n\nmodule.exports = {\n  crypto_scalarmult,\n  crypto_scalarmult_base,\n  crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES\n}\n\nfunction crypto_scalarmult (q, n, p) {\n  check(q, crypto_scalarmult_BYTES)\n  check(n, crypto_scalarmult_SCALARBYTES)\n  check(p, crypto_scalarmult_BYTES)\n  var z = new Uint8Array(32)\n  var x = new Float64Array(80), r, i\n  var a = gf(), b = gf(), c = gf(),\n    d = gf(), e = gf(), f = gf()\n  for (i = 0; i < 31; i++) z[i] = n[i]\n  z[31] = (n[31] & 127) | 64\n  z[0] &= 248\n  unpack25519(x, p)\n  for (i = 0; i < 16; i++) {\n    b[i] = x[i]\n    d[i] = a[i] = c[i] = 0\n  }\n  a[0] = d[0] = 1\n  for (i = 254; i >= 0; --i) {\n    r = (z[i >>> 3] >>> (i & 7)) & 1\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n    A(e, a, c)\n    Z(a, a, c)\n    A(c, b, d)\n    Z(b, b, d)\n    S(d, e)\n    S(f, a)\n    M(a, c, a)\n    M(c, b, e)\n    A(e, a, c)\n    Z(a, a, c)\n    S(b, a)\n    Z(c, d, f)\n    M(a, c, _121665)\n    A(a, a, d)\n    M(c, c, a)\n    M(a, d, f)\n    M(d, b, x)\n    S(b, e)\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n  }\n  for (i = 0; i < 16; i++) {\n    x[i + 16] = a[i]\n    x[i + 32] = c[i]\n    x[i + 48] = b[i]\n    x[i + 64] = d[i]\n  }\n  var x32 = x.subarray(32)\n  var x16 = x.subarray(16)\n  inv25519(x32, x32)\n  M(x16, x16, x32)\n  pack25519(q, x16)\n  return 0\n}\n\nfunction crypto_scalarmult_base (q, n) {\n  return crypto_scalarmult(q, n, _9)\n}\n\nfunction check (buf, len) {\n  if (!buf || (len && buf.length < len)) throw new Error('Argument must be a buffer' + (len ? ' of length ' + len : ''))\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./blake2b.wat\nvar require_blake2b = __commonJS({\n  \"wasm-binary:./blake2b.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./blake2b.wat\nvar bytes = require_blake2b();\nvar compiled = WebAssembly.compile(bytes);\nmodule.exports = async (imports) => {\n  const instance = await WebAssembly.instantiate(await compiled, imports);\n  return instance.exports;\n};\n","var assert = require('nanoassert')\nvar b4a = require('b4a')\n\nvar wasm = null\nvar wasmPromise = typeof WebAssembly !== \"undefined\" && require('./blake2b')().then(mod => {\n  wasm = mod\n})\n\nvar head = 64\nvar freeList = []\n\nmodule.exports = Blake2b\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nfunction Blake2b (digestLength, key, salt, personal, noAssert) {\n  if (!(this instanceof Blake2b)) return new Blake2b(digestLength, key, salt, personal, noAssert)\n  if (!wasm) throw new Error('WASM not loaded. Wait for Blake2b.ready(cb)')\n  if (!digestLength) digestLength = 32\n\n  if (noAssert !== true) {\n    assert(digestLength >= BYTES_MIN, 'digestLength must be at least ' + BYTES_MIN + ', was given ' + digestLength)\n    assert(digestLength <= BYTES_MAX, 'digestLength must be at most ' + BYTES_MAX + ', was given ' + digestLength)\n    if (key != null) {\n      assert(key instanceof Uint8Array, 'key must be Uint8Array or Buffer')\n      assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n      assert(key.length <= KEYBYTES_MAX, 'key must be at least ' + KEYBYTES_MAX + ', was given ' + key.length)\n    }\n    if (salt != null) {\n      assert(salt instanceof Uint8Array, 'salt must be Uint8Array or Buffer')\n      assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    }\n    if (personal != null) {\n      assert(personal instanceof Uint8Array, 'personal must be Uint8Array or Buffer')\n      assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n    }\n  }\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += 216\n  }\n\n  this.digestLength = digestLength\n  this.finalized = false\n  this.pointer = freeList.pop()\n  this._memory = new Uint8Array(wasm.memory.buffer)\n\n  this._memory.fill(0, 0, 64)\n  this._memory[0] = this.digestLength\n  this._memory[1] = key ? key.length : 0\n  this._memory[2] = 1 // fanout\n  this._memory[3] = 1 // depth\n\n  if (salt) this._memory.set(salt, 32)\n  if (personal) this._memory.set(personal, 48)\n\n  if (this.pointer + 216 > this._memory.length) this._realloc(this.pointer + 216) // we need 216 bytes for the state\n  wasm.blake2b_init(this.pointer, this.digestLength)\n\n  if (key) {\n    this.update(key)\n    this._memory.fill(0, head, head + key.length) // whiteout key\n    this._memory[this.pointer + 200] = 128\n  }\n}\n\nBlake2b.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nBlake2b.prototype.update = function (input) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  assert(input instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + input.length > this._memory.length) this._realloc(head + input.length)\n  this._memory.set(input, head)\n  wasm.blake2b_update(this.pointer, head, head + input.length)\n  return this\n}\n\nBlake2b.prototype.digest = function (enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  this.finalized = true\n\n  freeList.push(this.pointer)\n  wasm.blake2b_final(this.pointer)\n\n  if (!enc || enc === 'binary') {\n    return this._memory.slice(this.pointer + 128, this.pointer + 128 + this.digestLength)\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(this._memory, enc, this.pointer + 128, this.pointer + 128 + this.digestLength)\n  }\n\n  assert(enc instanceof Uint8Array && enc.length >= this.digestLength, 'input must be Uint8Array or Buffer')\n  for (var i = 0; i < this.digestLength; i++) {\n    enc[i] = this._memory[this.pointer + 128 + i]\n  }\n\n  return enc\n}\n\n// libsodium compat\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.WASM = wasm\nBlake2b.SUPPORTED = typeof WebAssembly !== 'undefined'\n\nBlake2b.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasmPromise) return cb(new Error('WebAssembly not supported'))\n  return wasmPromise.then(() => cb(), cb)\n}\n\nBlake2b.prototype.ready = Blake2b.ready\n\nBlake2b.prototype.getPartialHash = function () {\n  return this._memory.slice(this.pointer, this.pointer + 216);\n}\n\nBlake2b.prototype.setPartialHash = function (ph) {\n  this._memory.set(ph, this.pointer);\n}\n\nfunction noop () {}\n","var assert = require('nanoassert')\nvar b2wasm = require('blake2b-wasm')\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += v[b,b+1]\n// v should be a Uint32Array\nfunction ADD64AA (v, a, b) {\n  var o0 = v[a] + v[b]\n  var o1 = v[a + 1] + v[b + 1]\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += b\n// b0 is the low 32 bits of b, b1 represents the high 32 bits\nfunction ADD64AC (v, a, b0, b1) {\n  var o0 = v[a] + b0\n  if (b0 < 0) {\n    o0 += 0x100000000\n  }\n  var o1 = v[a + 1] + b1\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// Little-endian byte access\nfunction B2B_GET32 (arr, i) {\n  return (arr[i] ^\n  (arr[i + 1] << 8) ^\n  (arr[i + 2] << 16) ^\n  (arr[i + 3] << 24))\n}\n\n// G Mixing function\n// The ROTRs are inlined for speed\nfunction B2B_G (a, b, c, d, ix, iy) {\n  var x0 = m[ix]\n  var x1 = m[ix + 1]\n  var y0 = m[iy]\n  var y1 = m[iy + 1]\n\n  ADD64AA(v, a, b) // v[a,a+1] += v[b,b+1] ... in JS we must store a uint64 as two uint32s\n  ADD64AC(v, a, x0, x1) // v[a, a+1] += x ... x0 is the low 32 bits of x, x1 is the high 32 bits\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated to the right by 32 bits\n  var xor0 = v[d] ^ v[a]\n  var xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = xor1\n  v[d + 1] = xor0\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 24 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor0 >>> 24) ^ (xor1 << 8)\n  v[b + 1] = (xor1 >>> 24) ^ (xor0 << 8)\n\n  ADD64AA(v, a, b)\n  ADD64AC(v, a, y0, y1)\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated right by 16 bits\n  xor0 = v[d] ^ v[a]\n  xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = (xor0 >>> 16) ^ (xor1 << 16)\n  v[d + 1] = (xor1 >>> 16) ^ (xor0 << 16)\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 63 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor1 >>> 31) ^ (xor0 << 1)\n  v[b + 1] = (xor0 >>> 31) ^ (xor1 << 1)\n}\n\n// Initialization Vector\nvar BLAKE2B_IV32 = new Uint32Array([\n  0xF3BCC908, 0x6A09E667, 0x84CAA73B, 0xBB67AE85,\n  0xFE94F82B, 0x3C6EF372, 0x5F1D36F1, 0xA54FF53A,\n  0xADE682D1, 0x510E527F, 0x2B3E6C1F, 0x9B05688C,\n  0xFB41BD6B, 0x1F83D9AB, 0x137E2179, 0x5BE0CD19\n])\n\nvar SIGMA8 = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n  11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n  7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n  9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n  2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n  12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n  13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n  6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n  10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3\n]\n\n// These are offsets into a uint64 buffer.\n// Multiply them all by 2 to make them offsets into a uint32 buffer,\n// because this is Javascript and we don't have uint64s\nvar SIGMA82 = new Uint8Array(SIGMA8.map(function (x) { return x * 2 }))\n\n// Compression function. 'last' flag indicates last block.\n// Note we're representing 16 uint64s as 32 uint32s\nvar v = new Uint32Array(32)\nvar m = new Uint32Array(32)\nfunction blake2bCompress (ctx, last) {\n  var i = 0\n\n  // init work variables\n  for (i = 0; i < 16; i++) {\n    v[i] = ctx.h[i]\n    v[i + 16] = BLAKE2B_IV32[i]\n  }\n\n  // low 64 bits of offset\n  v[24] = v[24] ^ ctx.t\n  v[25] = v[25] ^ (ctx.t / 0x100000000)\n  // high 64 bits not supported, offset may not be higher than 2**53-1\n\n  // last block flag set ?\n  if (last) {\n    v[28] = ~v[28]\n    v[29] = ~v[29]\n  }\n\n  // get little-endian words\n  for (i = 0; i < 32; i++) {\n    m[i] = B2B_GET32(ctx.b, 4 * i)\n  }\n\n  // twelve rounds of mixing\n  for (i = 0; i < 12; i++) {\n    B2B_G(0, 8, 16, 24, SIGMA82[i * 16 + 0], SIGMA82[i * 16 + 1])\n    B2B_G(2, 10, 18, 26, SIGMA82[i * 16 + 2], SIGMA82[i * 16 + 3])\n    B2B_G(4, 12, 20, 28, SIGMA82[i * 16 + 4], SIGMA82[i * 16 + 5])\n    B2B_G(6, 14, 22, 30, SIGMA82[i * 16 + 6], SIGMA82[i * 16 + 7])\n    B2B_G(0, 10, 20, 30, SIGMA82[i * 16 + 8], SIGMA82[i * 16 + 9])\n    B2B_G(2, 12, 22, 24, SIGMA82[i * 16 + 10], SIGMA82[i * 16 + 11])\n    B2B_G(4, 14, 16, 26, SIGMA82[i * 16 + 12], SIGMA82[i * 16 + 13])\n    B2B_G(6, 8, 18, 28, SIGMA82[i * 16 + 14], SIGMA82[i * 16 + 15])\n  }\n\n  for (i = 0; i < 16; i++) {\n    ctx.h[i] = ctx.h[i] ^ v[i] ^ v[i + 16]\n  }\n}\n\n// reusable parameter_block\nvar parameter_block = new Uint8Array([\n  0, 0, 0, 0,      //  0: outlen, keylen, fanout, depth\n  0, 0, 0, 0,      //  4: leaf length, sequential mode\n  0, 0, 0, 0,      //  8: node offset\n  0, 0, 0, 0,      // 12: node offset\n  0, 0, 0, 0,      // 16: node depth, inner length, rfu\n  0, 0, 0, 0,      // 20: rfu\n  0, 0, 0, 0,      // 24: rfu\n  0, 0, 0, 0,      // 28: rfu\n  0, 0, 0, 0,      // 32: salt\n  0, 0, 0, 0,      // 36: salt\n  0, 0, 0, 0,      // 40: salt\n  0, 0, 0, 0,      // 44: salt\n  0, 0, 0, 0,      // 48: personal\n  0, 0, 0, 0,      // 52: personal\n  0, 0, 0, 0,      // 56: personal\n  0, 0, 0, 0       // 60: personal\n])\n\n// Creates a BLAKE2b hashing context\n// Requires an output length between 1 and 64 bytes\n// Takes an optional Uint8Array key\nfunction Blake2b (outlen, key, salt, personal) {\n  // zero out parameter_block before usage\n  parameter_block.fill(0)\n  // state, 'param block'\n\n  this.b = new Uint8Array(128)\n  this.h = new Uint32Array(16)\n  this.t = 0 // input count\n  this.c = 0 // pointer within buffer\n  this.outlen = outlen // output length in bytes\n\n  parameter_block[0] = outlen\n  if (key) parameter_block[1] = key.length\n  parameter_block[2] = 1 // fanout\n  parameter_block[3] = 1 // depth\n\n  if (salt) parameter_block.set(salt, 32)\n  if (personal) parameter_block.set(personal, 48)\n\n  // initialize hash state\n  for (var i = 0; i < 16; i++) {\n    this.h[i] = BLAKE2B_IV32[i] ^ B2B_GET32(parameter_block, i * 4)\n  }\n\n  // key the hash, if applicable\n  if (key) {\n    blake2bUpdate(this, key)\n    // at the end\n    this.c = 128\n  }\n}\n\nBlake2b.prototype.update = function (input) {\n  assert(input instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n  blake2bUpdate(this, input)\n  return this\n}\n\nBlake2b.prototype.digest = function (out) {\n  var buf = (!out || out === 'binary' || out === 'hex') ? new Uint8Array(this.outlen) : out\n  assert(buf instanceof Uint8Array, 'out must be \"binary\", \"hex\", Uint8Array, or Buffer')\n  assert(buf.length >= this.outlen, 'out must have at least outlen bytes of space')\n  blake2bFinal(this, buf)\n  if (out === 'hex') return hexSlice(buf)\n  return buf\n}\n\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.ready = function (cb) {\n  b2wasm.ready(function () {\n    cb() // ignore the error\n  })\n}\n\n// Updates a BLAKE2b streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2bUpdate (ctx, input) {\n  for (var i = 0; i < input.length; i++) {\n    if (ctx.c === 128) { // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2bCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2b streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2bFinal (ctx, out) {\n  ctx.t += ctx.c // mark last block offset\n\n  while (ctx.c < 128) { // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2bCompress(ctx, true) // final block flag = 1\n\n  for (var i = 0; i < ctx.outlen; i++) {\n    out[i] = ctx.h[i >> 2] >> (8 * (i & 3))\n  }\n  return out\n}\n\nfunction hexSlice (buf) {\n  var str = ''\n  for (var i = 0; i < buf.length; i++) str += toHex(buf[i])\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nvar Proto = Blake2b\n\nmodule.exports = function createHash (outlen, key, salt, personal, noAssert) {\n  if (noAssert !== true) {\n    assert(outlen >= BYTES_MIN, 'outlen must be at least ' + BYTES_MIN + ', was given ' + outlen)\n    assert(outlen <= BYTES_MAX, 'outlen must be at most ' + BYTES_MAX + ', was given ' + outlen)\n    if (key != null) {\n      assert(key instanceof Uint8Array, 'key must be Uint8Array or Buffer')\n      assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n      assert(key.length <= KEYBYTES_MAX, 'key must be at most ' + KEYBYTES_MAX + ', was given ' + key.length)\n    }\n    if (salt != null) {\n      assert(salt instanceof Uint8Array, 'salt must be Uint8Array or Buffer')\n      assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    }\n    if (personal != null) {\n      assert(personal instanceof Uint8Array, 'personal must be Uint8Array or Buffer')\n      assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n    }\n  }\n\n  return new Proto(outlen, key, salt, personal)\n}\n\nmodule.exports.ready = function (cb) {\n  b2wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = b2wasm.SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nb2wasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = b2wasm\n  }\n})\n","var blake2b = require('blake2b')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nmodule.exports.crypto_generichash_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_generichash_BYTES_MIN = blake2b.BYTES_MIN\nmodule.exports.crypto_generichash_BYTES_MAX = blake2b.BYTES_MAX\nmodule.exports.crypto_generichash_BYTES = blake2b.BYTES\nmodule.exports.crypto_generichash_KEYBYTES_MIN = blake2b.KEYBYTES_MIN\nmodule.exports.crypto_generichash_KEYBYTES_MAX = blake2b.KEYBYTES_MAX\nmodule.exports.crypto_generichash_KEYBYTES = blake2b.KEYBYTES\nmodule.exports.crypto_generichash_WASM_SUPPORTED = blake2b.WASM_SUPPORTED\nmodule.exports.crypto_generichash_WASM_LOADED = false\n\nmodule.exports.crypto_generichash = function (output, input, key) {\n  blake2b(output.length, key).update(input).final(output)\n}\n\nmodule.exports.crypto_generichash_ready = blake2b.ready\n\nmodule.exports.crypto_generichash_batch = function (output, inputArray, key) {\n  var ctx = blake2b(output.length, key)\n  for (var i = 0; i < inputArray.length; i++) {\n    ctx.update(inputArray[i])\n  }\n  ctx.final(output)\n}\n\nmodule.exports.crypto_generichash_instance = function (key, outlen) {\n  if (outlen == null) outlen = module.exports.crypto_generichash_BYTES\n  return blake2b(outlen, key)\n}\n\nblake2b.ready(function (_) {\n  module.exports.crypto_generichash_WASM_LOADED = blake2b.WASM_LOADED\n})\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./xsalsa20.wat\nvar require_xsalsa20 = __commonJS({\n  \"wasm-binary:./xsalsa20.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL\");\n  }\n});\n\n// wasm-module:./xsalsa20.wat\nvar bytes = require_xsalsa20();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","var xsalsa20 = typeof WebAssembly !== \"undefined\" && require('./xsalsa20')()\n\nvar SIGMA = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107])\nvar head = 144\nvar top = head\nvar free = []\n\nmodule.exports = XSalsa20\n\nXSalsa20.NONCEBYTES = 24\nXSalsa20.KEYBYTES = 32\n\nXSalsa20.core_hsalsa20 = core_hsalsa20\nXSalsa20.SIGMA = SIGMA\n\nfunction XSalsa20 (nonce, key) {\n  if (!(this instanceof XSalsa20)) return new XSalsa20(nonce, key)\n  if (!nonce || nonce.length < 24) throw new Error('nonce must be at least 24 bytes')\n  if (!key || key.length < 32) throw new Error('key must be at least 32 bytes')\n  this._xor = xsalsa20 ? new WASM(nonce, key) : new Fallback(nonce, key)\n}\n\nXSalsa20.prototype.update = function (input, output) {\n  if (!input) throw new Error('input must be Uint8Array or Buffer')\n  if (!output) output = new Uint8Array(input.length)\n  if (input.length) this._xor.update(input, output)\n  return output\n}\n\nXSalsa20.prototype.final =\nXSalsa20.prototype.finalize = function () {\n  this._xor.finalize()\n  this._xor = null\n}\n\nfunction WASM (nonce, key) {\n  if (!free.length) {\n    free.push(head)\n    head += 64\n  }\n\n  this._pointer = free.pop()\n  this._nonce = this._pointer + 8\n  this._key = this._nonce + 24\n  this._overflow = 0\n  this._memory = new Uint8Array(xsalsa20.memory.buffer)\n\n  this._memory.fill(0, this._pointer, this._pointer + 8)\n  this._memory.set(nonce, this._nonce)\n  this._memory.set(key, this._key)\n}\n\nWASM.prototype.realloc = function (size) {\n  xsalsa20.memory.grow(Math.ceil(Math.abs(size - this._memory.length) / 65536))\n  this._memory = new Uint8Array(xsalsa20.memory.buffer)\n}\n\nWASM.prototype.update = function (input, output) {\n  var len = this._overflow + input.length\n  var start = head + this._overflow\n\n  top = head + len\n  if (top >= this._memory.length) this.realloc(top)\n\n  this._memory.set(input, start)\n  xsalsa20.xsalsa20_xor(this._pointer, head, head, len, this._nonce, this._key)\n  output.set(this._memory.subarray(start, head + len))\n\n  this._overflow = len & 63\n}\n\nWASM.prototype.finalize = function () {\n  this._memory.fill(0, this._pointer, this._key + 32)\n  if (top > head) {\n    this._memory.fill(0, head, top)\n    top = 0\n  }\n  free.push(this._pointer)\n}\n\nfunction Fallback (nonce, key) {\n  this._s = new Uint8Array(32)\n  this._z = new Uint8Array(16)\n  this._overflow = 0\n  core_hsalsa20(this._s, nonce, key, SIGMA)\n  for (var i = 0; i < 8; i++) this._z[i] = nonce[i + 16]\n}\n\nFallback.prototype.update = function (input, output) {\n  var x = new Uint8Array(64)\n  var u = 0\n  var i = this._overflow\n  var b = input.length + this._overflow\n  var z = this._z\n  var mpos = -this._overflow\n  var cpos = -this._overflow\n\n  while (b >= 64) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < 64; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n    u = 1\n    for (i = 8; i < 16; i++) {\n      u += (z[i] & 0xff) | 0\n      z[i] = u & 0xff\n      u >>>= 8\n    }\n    b -= 64\n    cpos += 64\n    mpos += 64\n    i = 0\n  }\n  if (b > 0) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < b; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n  }\n\n  this._overflow = b & 63\n}\n\nFallback.prototype.finalize = function () {\n  this._s.fill(0)\n  this._z.fill(0)\n}\n\n// below methods are ported from tweet nacl\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n   x0 =  x0 +  j0 | 0\n   x1 =  x1 +  j1 | 0\n   x2 =  x2 +  j2 | 0\n   x3 =  x3 +  j3 | 0\n   x4 =  x4 +  j4 | 0\n   x5 =  x5 +  j5 | 0\n   x6 =  x6 +  j6 | 0\n   x7 =  x7 +  j7 | 0\n   x8 =  x8 +  j8 | 0\n   x9 =  x9 +  j9 | 0\n  x10 = x10 + j10 | 0\n  x11 = x11 + j11 | 0\n  x12 = x12 + j12 | 0\n  x13 = x13 + j13 | 0\n  x14 = x14 + j14 | 0\n  x15 = x15 + j15 | 0\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x1 >>>  0 & 0xff\n  o[ 5] = x1 >>>  8 & 0xff\n  o[ 6] = x1 >>> 16 & 0xff\n  o[ 7] = x1 >>> 24 & 0xff\n\n  o[ 8] = x2 >>>  0 & 0xff\n  o[ 9] = x2 >>>  8 & 0xff\n  o[10] = x2 >>> 16 & 0xff\n  o[11] = x2 >>> 24 & 0xff\n\n  o[12] = x3 >>>  0 & 0xff\n  o[13] = x3 >>>  8 & 0xff\n  o[14] = x3 >>> 16 & 0xff\n  o[15] = x3 >>> 24 & 0xff\n\n  o[16] = x4 >>>  0 & 0xff\n  o[17] = x4 >>>  8 & 0xff\n  o[18] = x4 >>> 16 & 0xff\n  o[19] = x4 >>> 24 & 0xff\n\n  o[20] = x5 >>>  0 & 0xff\n  o[21] = x5 >>>  8 & 0xff\n  o[22] = x5 >>> 16 & 0xff\n  o[23] = x5 >>> 24 & 0xff\n\n  o[24] = x6 >>>  0 & 0xff\n  o[25] = x6 >>>  8 & 0xff\n  o[26] = x6 >>> 16 & 0xff\n  o[27] = x6 >>> 24 & 0xff\n\n  o[28] = x7 >>>  0 & 0xff\n  o[29] = x7 >>>  8 & 0xff\n  o[30] = x7 >>> 16 & 0xff\n  o[31] = x7 >>> 24 & 0xff\n\n  o[32] = x8 >>>  0 & 0xff\n  o[33] = x8 >>>  8 & 0xff\n  o[34] = x8 >>> 16 & 0xff\n  o[35] = x8 >>> 24 & 0xff\n\n  o[36] = x9 >>>  0 & 0xff\n  o[37] = x9 >>>  8 & 0xff\n  o[38] = x9 >>> 16 & 0xff\n  o[39] = x9 >>> 24 & 0xff\n\n  o[40] = x10 >>>  0 & 0xff\n  o[41] = x10 >>>  8 & 0xff\n  o[42] = x10 >>> 16 & 0xff\n  o[43] = x10 >>> 24 & 0xff\n\n  o[44] = x11 >>>  0 & 0xff\n  o[45] = x11 >>>  8 & 0xff\n  o[46] = x11 >>> 16 & 0xff\n  o[47] = x11 >>> 24 & 0xff\n\n  o[48] = x12 >>>  0 & 0xff\n  o[49] = x12 >>>  8 & 0xff\n  o[50] = x12 >>> 16 & 0xff\n  o[51] = x12 >>> 24 & 0xff\n\n  o[52] = x13 >>>  0 & 0xff\n  o[53] = x13 >>>  8 & 0xff\n  o[54] = x13 >>> 16 & 0xff\n  o[55] = x13 >>> 24 & 0xff\n\n  o[56] = x14 >>>  0 & 0xff\n  o[57] = x14 >>>  8 & 0xff\n  o[58] = x14 >>> 16 & 0xff\n  o[59] = x14 >>> 24 & 0xff\n\n  o[60] = x15 >>>  0 & 0xff\n  o[61] = x15 >>>  8 & 0xff\n  o[62] = x15 >>> 16 & 0xff\n  o[63] = x15 >>> 24 & 0xff\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x5 >>>  0 & 0xff\n  o[ 5] = x5 >>>  8 & 0xff\n  o[ 6] = x5 >>> 16 & 0xff\n  o[ 7] = x5 >>> 24 & 0xff\n\n  o[ 8] = x10 >>>  0 & 0xff\n  o[ 9] = x10 >>>  8 & 0xff\n  o[10] = x10 >>> 16 & 0xff\n  o[11] = x10 >>> 24 & 0xff\n\n  o[12] = x15 >>>  0 & 0xff\n  o[13] = x15 >>>  8 & 0xff\n  o[14] = x15 >>> 16 & 0xff\n  o[15] = x15 >>> 24 & 0xff\n\n  o[16] = x6 >>>  0 & 0xff\n  o[17] = x6 >>>  8 & 0xff\n  o[18] = x6 >>> 16 & 0xff\n  o[19] = x6 >>> 24 & 0xff\n\n  o[20] = x7 >>>  0 & 0xff\n  o[21] = x7 >>>  8 & 0xff\n  o[22] = x7 >>> 16 & 0xff\n  o[23] = x7 >>> 24 & 0xff\n\n  o[24] = x8 >>>  0 & 0xff\n  o[25] = x8 >>>  8 & 0xff\n  o[26] = x8 >>> 16 & 0xff\n  o[27] = x8 >>> 24 & 0xff\n\n  o[28] = x9 >>>  0 & 0xff\n  o[29] = x9 >>>  8 & 0xff\n  o[30] = x9 >>> 16 & 0xff\n  o[31] = x9 >>> 24 & 0xff\n}\n","/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nmodule.exports = poly1305\n","/* eslint-disable camelcase */\nconst xsalsa20 = require('xsalsa20')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_stream_KEYBYTES = 32\nexports.crypto_stream_NONCEBYTES = 24\nexports.crypto_stream_PRIMITIVE = 'xsalsa20'\nexports.crypto_stream_xsalsa20_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nexports.crypto_stream = function (c, nonce, key) {\n  c.fill(0)\n  exports.crypto_stream_xor(c, c, nonce, key)\n}\n\nexports.crypto_stream_xor = function (c, m, nonce, key) {\n  const xor = xsalsa20(nonce, key)\n\n  xor.update(m, c)\n  xor.final()\n}\n\nexports.crypto_stream_xor_instance = function (nonce, key) {\n  return new XOR(nonce, key)\n}\n\nfunction XOR (nonce, key) {\n  this._instance = xsalsa20(nonce, key)\n}\n\nXOR.prototype.update = function (out, inp) {\n  this._instance.update(inp, out)\n}\n\nXOR.prototype.final = function () {\n  this._instance.finalize()\n  this._instance = null\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst Poly1305 = require('./internal/poly1305')\nconst { crypto_verify_16 } = require('./crypto_verify')\n\nconst crypto_onetimeauth_BYTES = 16\nconst crypto_onetimeauth_KEYBYTES = 32\nconst crypto_onetimeauth_PRIMITIVE = 'poly1305'\n\nmodule.exports = {\n  crypto_onetimeauth,\n  crypto_onetimeauth_verify,\n  crypto_onetimeauth_BYTES,\n  crypto_onetimeauth_KEYBYTES,\n  crypto_onetimeauth_PRIMITIVE\n}\n\nfunction crypto_onetimeauth (mac, msg, key) {\n  assert(mac.byteLength === crypto_onetimeauth_BYTES, \"mac must be 'crypto_onetimeauth_BYTES' bytes\")\n  assert(msg.byteLength != null, 'msg must be buffer')\n  assert(key.byteLength === crypto_onetimeauth_KEYBYTES, \"key must be 'crypto_onetimeauth_KEYBYTES' bytes\")\n\n  var s = new Poly1305(key)\n  s.update(msg, 0, msg.byteLength)\n  s.finish(mac, 0)\n}\n\nfunction crypto_onetimeauth_verify (mac, msg, key) {\n  assert(mac.byteLength === crypto_onetimeauth_BYTES, \"mac must be 'crypto_onetimeauth_BYTES' bytes\")\n  assert(msg.byteLength != null, 'msg must be buffer')\n  assert(key.byteLength === crypto_onetimeauth_KEYBYTES, \"key must be 'crypto_onetimeauth_KEYBYTES' bytes\")\n\n  var tmp = new Uint8Array(16)\n  crypto_onetimeauth(tmp, msg, key)\n  return crypto_verify_16(mac, 0, tmp, 0)\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst { crypto_stream, crypto_stream_xor } = require('./crypto_stream')\nconst { crypto_onetimeauth, crypto_onetimeauth_verify, crypto_onetimeauth_BYTES, crypto_onetimeauth_KEYBYTES } = require('./crypto_onetimeauth')\n\nconst crypto_secretbox_KEYBYTES = 32\nconst crypto_secretbox_NONCEBYTES = 24\nconst crypto_secretbox_ZEROBYTES = 32\nconst crypto_secretbox_BOXZEROBYTES = 16\nconst crypto_secretbox_MACBYTES = 16\n\nmodule.exports = {\n  crypto_secretbox,\n  crypto_secretbox_open,\n  crypto_secretbox_detached,\n  crypto_secretbox_open_detached,\n  crypto_secretbox_easy,\n  crypto_secretbox_open_easy,\n  crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES,\n  crypto_secretbox_MACBYTES\n}\n\nfunction crypto_secretbox (c, m, n, k) {\n  assert(c.byteLength === m.byteLength, \"c must be 'm.byteLength' bytes\")\n  const mlen = m.byteLength\n  assert(mlen >= crypto_secretbox_ZEROBYTES, \"mlen must be at least 'crypto_secretbox_ZEROBYTES'\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  crypto_stream_xor(c, m, n, k)\n  crypto_onetimeauth(\n    c.subarray(crypto_secretbox_BOXZEROBYTES, crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES),\n    c.subarray(crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES, c.byteLength),\n    c.subarray(0, crypto_onetimeauth_KEYBYTES)\n  )\n  c.fill(0, 0, crypto_secretbox_BOXZEROBYTES)\n}\n\nfunction crypto_secretbox_open (m, c, n, k) {\n  assert(c.byteLength === m.byteLength, \"c must be 'm.byteLength' bytes\")\n  const mlen = m.byteLength\n  assert(mlen >= crypto_secretbox_ZEROBYTES, \"mlen must be at least 'crypto_secretbox_ZEROBYTES'\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const x = new Uint8Array(crypto_onetimeauth_KEYBYTES)\n  crypto_stream(x, n, k)\n  const validMac = crypto_onetimeauth_verify(\n    c.subarray(crypto_secretbox_BOXZEROBYTES, crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES),\n    c.subarray(crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES, c.byteLength),\n    x\n  )\n\n  if (validMac === false) return false\n  crypto_stream_xor(m, c, n, k)\n  m.fill(0, 0, 32)\n  return true\n}\n\nfunction crypto_secretbox_detached (o, mac, msg, n, k) {\n  assert(o.byteLength === msg.byteLength, \"o must be 'msg.byteLength' bytes\")\n  assert(mac.byteLength === crypto_secretbox_MACBYTES, \"mac must be 'crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const tmp = new Uint8Array(msg.byteLength + mac.byteLength)\n  crypto_secretbox_easy(tmp, msg, n, k)\n  mac.set(tmp.subarray(0, mac.byteLength))\n  o.set(tmp.subarray(mac.byteLength))\n  return true\n}\n\nfunction crypto_secretbox_open_detached (msg, o, mac, n, k) {\n  assert(o.byteLength === msg.byteLength, \"o must be 'msg.byteLength' bytes\")\n  assert(mac.byteLength === crypto_secretbox_MACBYTES, \"mac must be 'crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const tmp = new Uint8Array(o.byteLength + mac.byteLength)\n  tmp.set(mac)\n  tmp.set(o, mac.byteLength)\n  return crypto_secretbox_open_easy(msg, tmp, n, k)\n}\n\nfunction crypto_secretbox_easy (o, msg, n, k) {\n  assert(o.byteLength === msg.byteLength + crypto_secretbox_MACBYTES, \"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.byteLength)\n  const c = new Uint8Array(m.byteLength)\n  m.set(msg, crypto_secretbox_ZEROBYTES)\n  crypto_secretbox(c, m, n, k)\n  o.set(c.subarray(crypto_secretbox_BOXZEROBYTES))\n}\n\nfunction crypto_secretbox_open_easy (msg, box, n, k) {\n  assert(box.byteLength === msg.byteLength + crypto_secretbox_MACBYTES, \"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.byteLength)\n  const m = new Uint8Array(c.byteLength)\n  c.set(box, crypto_secretbox_BOXZEROBYTES)\n  if (crypto_secretbox_open(m, c, n, k) === false) return false\n  msg.set(m.subarray(crypto_secretbox_ZEROBYTES))\n  return true\n}\n","/* eslint-disable camelcase */\nconst { crypto_hash_sha512 } = require('./crypto_hash')\nconst { crypto_scalarmult, crypto_scalarmult_base } = require('./crypto_scalarmult')\nconst { randombytes } = require('./randombytes')\nconst { crypto_generichash_batch } = require('./crypto_generichash')\nconst { crypto_stream_xsalsa20_MESSAGEBYTES_MAX } = require('./crypto_stream')\nconst {\n  crypto_secretbox_open_easy,\n  crypto_secretbox_easy,\n  crypto_secretbox_detached,\n  crypto_secretbox_open_detached\n} = require('./crypto_secretbox')\nconst xsalsa20 = require('xsalsa20')\nconst assert = require('nanoassert')\n\nconst crypto_box_PUBLICKEYBYTES = 32\nconst crypto_box_SECRETKEYBYTES = 32\nconst crypto_box_NONCEBYTES = 24\nconst crypto_box_ZEROBYTES = 32\nconst crypto_box_BOXZEROBYTES = 16\nconst crypto_box_SEALBYTES = 48\nconst crypto_box_SEEDBYTES = 32\nconst crypto_box_BEFORENMBYTES = 32\nconst crypto_box_MACBYTES = 16\n\nconst crypto_box_curve25519xsalsa20poly1305_MACBYTES = 16\n\nconst crypto_box_MESSAGEBYTES_MAX =\n  crypto_stream_xsalsa20_MESSAGEBYTES_MAX -\n  crypto_box_curve25519xsalsa20poly1305_MACBYTES\n\nmodule.exports = {\n  crypto_box_easy,\n  crypto_box_open_easy,\n  crypto_box_keypair,\n  crypto_box_seed_keypair,\n  crypto_box_seal,\n  crypto_box_seal_open,\n  crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES,\n  crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES,\n  crypto_box_SEALBYTES,\n  crypto_box_SEEDBYTES,\n  crypto_box_BEFORENMBYTES,\n  crypto_box_MACBYTES\n}\n\nfunction crypto_box_keypair (pk, sk) {\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n  randombytes(sk, 32)\n  return crypto_scalarmult_base(pk, sk)\n}\nfunction crypto_box_seed_keypair (pk, sk, seed) {\n  assert(pk.byteLength === crypto_box_PUBLICKEYBYTES, \"pk should be 'crypto_box_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_box_SECRETKEYBYTES, \"sk should be 'crypto_box_SECRETKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_box_SEEDBYTES, \"sk should be 'crypto_box_SEEDBYTES' bytes\")\n\n  const hash = new Uint8Array(64)\n  crypto_hash_sha512(hash, seed, 32)\n  sk.set(hash.subarray(0, 32))\n  hash.fill(0)\n\n  return crypto_scalarmult_base(pk, sk)\n}\n\nfunction crypto_box_seal (c, m, pk) {\n  check(c, crypto_box_SEALBYTES + m.length)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n\n  var epk = c.subarray(0, crypto_box_PUBLICKEYBYTES)\n  var esk = new Uint8Array(crypto_box_SECRETKEYBYTES)\n  crypto_box_keypair(epk, esk)\n\n  var n = new Uint8Array(crypto_box_NONCEBYTES)\n  crypto_generichash_batch(n, [epk, pk])\n\n  var s = new Uint8Array(crypto_box_PUBLICKEYBYTES)\n  crypto_scalarmult(s, esk, pk)\n\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  var zero = new Uint8Array(16)\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  crypto_secretbox_easy(c.subarray(epk.length), m, n, k)\n\n  cleanup(esk)\n}\n\nfunction crypto_box_seal_open (m, c, pk, sk) {\n  check(c, crypto_box_SEALBYTES)\n  check(m, c.length - crypto_box_SEALBYTES)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n\n  var epk = c.subarray(0, crypto_box_PUBLICKEYBYTES)\n\n  var n = new Uint8Array(crypto_box_NONCEBYTES)\n  crypto_generichash_batch(n, [epk, pk])\n\n  var s = new Uint8Array(crypto_box_PUBLICKEYBYTES)\n  crypto_scalarmult(s, sk, epk)\n\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  var zero = new Uint8Array(16)\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  return crypto_secretbox_open_easy(m, c.subarray(epk.length), n, k)\n}\n\nfunction crypto_box_beforenm (k, pk, sk) {\n  const zero = new Uint8Array(16)\n  const s = new Uint8Array(32)\n\n  assert(crypto_scalarmult(s, sk, pk) === 0)\n\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  return true\n}\n\nfunction crypto_box_detached_afternm (c, mac, m, n, k) {\n  return crypto_secretbox_detached(c, mac, m, n, k)\n}\n\nfunction crypto_box_detached (c, mac, m, n, pk, sk) {\n  check(mac, crypto_box_MACBYTES)\n  check(n, crypto_box_NONCEBYTES)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n\n  const k = new Uint8Array(crypto_box_BEFORENMBYTES)\n\n  assert(crypto_box_beforenm(k, pk, sk))\n\n  const ret = crypto_box_detached_afternm(c, mac, m, n, k)\n  cleanup(k)\n\n  return ret\n}\n\nfunction crypto_box_easy (c, m, n, pk, sk) {\n  assert(\n    c.length >= m.length + crypto_box_MACBYTES,\n    \"c should be at least 'm.length + crypto_box_MACBYTES' bytes\"\n  )\n  assert(\n    m.length <= crypto_box_MESSAGEBYTES_MAX,\n    \"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes\"\n  )\n\n  return crypto_box_detached(\n    c.subarray(crypto_box_MACBYTES, m.length + crypto_box_MACBYTES),\n    c.subarray(0, crypto_box_MACBYTES),\n    m,\n    n,\n    pk,\n    sk\n  )\n}\n\nfunction crypto_box_open_detached_afternm (m, c, mac, n, k) {\n  return crypto_secretbox_open_detached(m, c, mac, n, k)\n}\n\nfunction crypto_box_open_detached (m, c, mac, n, pk, sk) {\n  const k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  assert(crypto_box_beforenm(k, pk, sk))\n\n  const ret = crypto_box_open_detached_afternm(m, c, mac, n, k)\n  cleanup(k)\n\n  return ret\n}\n\nfunction crypto_box_open_easy (m, c, n, pk, sk) {\n  assert(\n    c.length >= m.length + crypto_box_MACBYTES,\n    \"c should be at least 'm.length + crypto_box_MACBYTES' bytes\"\n  )\n\n  return crypto_box_open_detached(\n    m,\n    c.subarray(crypto_box_MACBYTES, m.length + crypto_box_MACBYTES),\n    c.subarray(0, crypto_box_MACBYTES),\n    n,\n    pk,\n    sk\n  )\n}\n\nfunction check (buf, len) {\n  if (!buf || (len && buf.length < len)) throw new Error('Argument must be a buffer' + (len ? ' of length ' + len : ''))\n}\n\nfunction cleanup (arr) {\n  for (let i = 0; i < arr.length; i++) arr[i] = 0\n}\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nmodule.exports = Sha256\nconst SHA256_BYTES = module.exports.SHA256_BYTES = 32\nconst BLOCKSIZE = 64\n\nconst K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]\n\nfunction expand (a, b, c, d) {\n  var b_ = (((a >>> 17) | (a << 15)) ^ ((a >>> 19) | (a << 13)) ^ (a >>> 10)) + b\n  var d_ = (((c >>> 7) | (c << 25)) ^ ((c >>> 18) | (c << 14)) ^ (c >>> 3)) + d\n\n  return (b_ + d_) << 0\n}\n\nfunction compress (state, words) {\n  // initialise registers\n  var ch, maj, s0, s1, T1, T2\n  var [a, b, c, d, e, f, g, h] = state\n\n  // expand message schedule\n  const w = new Uint32Array(64)\n  for (let i = 0; i < 16; i++) w[i] = bswap(words[i])\n  for (let i = 16; i < 64; i++) w[i] = expand(w[i - 2], w[i - 7], w[i - 15], w[i - 16])\n  for (let i = 0; i < 64; i += 4) round(i)\n\n  state[0] = state[0] + a\n  state[1] = state[1] + b\n  state[2] = state[2] + c\n  state[3] = state[3] + d\n  state[4] = state[4] + e\n  state[5] = state[5] + f\n  state[6] = state[6] + g\n  state[7] = state[7] + h\n\n  function round (n) {\n    ch = (e & f) ^ (~e & g)\n    maj = (a & b) ^ (a & c) ^ (b & c)\n    s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10))\n    s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7))\n    T1 = h + ch + s1 + w[n] + K[n]\n    T2 = s0 + maj\n    h = d + T1\n    d = T1 + T2\n\n    ch = (h & e) ^ (~h & f)\n    maj = (d & a) ^ (d & b) ^ (a & b)\n    s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10))\n    s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7))\n    T1 = g + ch + s1 + w[n + 1] + K[n + 1]\n    T2 = s0 + maj\n    g = c + T1\n    c = T1 + T2\n\n    ch = (g & h) ^ (~g & e)\n    maj = (c & d) ^ (c & a) ^ (d & a)\n    s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10))\n    s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7))\n    T1 = f + ch + s1 + w[n + 2] + K[n + 2]\n    T2 = s0 + maj\n    f = b + T1\n    b = T1 + T2\n\n    ch = (f & g) ^ (~f & h)\n    maj = (b & c) ^ (b & d) ^ (c & d)\n    s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10))\n    s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7))\n    T1 = e + ch + s1 + w[n + 3] + K[n + 3]\n    T2 = s0 + maj\n    e = a + T1\n    a = T1 + T2\n  }\n}\n\nfunction Sha256 () {\n  if (!(this instanceof Sha256)) return new Sha256()\n\n  this.buffer = new ArrayBuffer(64)\n  this.bytesRead = 0\n  this.pos = 0\n  this.digestLength = SHA256_BYTES\n  this.finalised = false\n\n  this.load = new Uint8Array(this.buffer)\n  this.words = new Uint32Array(this.buffer)\n\n  this.state = new Uint32Array([\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n  ])\n\n  return this\n}\n\nSha256.prototype.update = function (input, enc) {\n  assert(this.finalised === false, 'Hash instance finalised')\n\n  var [inputBuf, len] = formatInput(input, enc)\n  var i = 0\n  this.bytesRead += len\n\n  while (len > 0) {\n    this.load.set(inputBuf.subarray(i, i + BLOCKSIZE - this.pos), this.pos)\n    i += BLOCKSIZE - this.pos\n    len -= BLOCKSIZE - this.pos\n\n    if (len < 0) break\n\n    this.pos = 0\n    compress(this.state, this.words)\n  }\n\n  this.pos = this.bytesRead & 0x3f\n  this.load.fill(0, this.pos)\n\n  return this\n}\n\nSha256.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalised === false, 'Hash instance finalised')\n  this.finalised = true\n\n  this.load.fill(0, this.pos)\n  this.load[this.pos] = 0x80\n\n  if (this.pos > 55) {\n    compress(this.state, this.words)\n\n    this.words.fill(0)\n    this.pos = 0\n  }\n\n  const view = new DataView(this.buffer)\n  view.setUint32(56, this.bytesRead / 2 ** 29)\n  view.setUint32(60, this.bytesRead << 3)\n\n  compress(this.state, this.words)\n\n  const resultBuf = new Uint8Array(this.state.map(bswap).buffer)\n\n  if (!enc) {\n    return new Uint8Array(resultBuf)\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset, 'input not large enough for digest')\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(64)\n  this.inner = Sha256()\n  this.outer = Sha256()\n\n  const keyhash = b4a.alloc(32)\n  if (key.byteLength > 64) {\n    Sha256().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha256.HMAC = HMAC\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\nfunction bswap (a) {\n  var r = ((a & 0x00ff00ff) >>> 8) | ((a & 0x00ff00ff) << 24)\n  var l = ((a & 0xff00ff00) << 8) | ((a & 0xff00ff00) >>> 24)\n\n  return r | l\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./sha256.wat\nvar require_sha256 = __commonJS({\n  \"wasm-binary:./sha256.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./sha256.wat\nvar bytes = require_sha256();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nconst wasm = typeof WebAssembly !== 'undefined' && require('./sha256.js')({\n  imports: {\n    debug: {\n      log (...args) {\n        console.log(...args.map(int => (int >>> 0).toString(16).padStart(8, '0')))\n      },\n      log_tee (arg) {\n        console.log((arg >>> 0).toString(16).padStart(8, '0'))\n        return arg\n      }\n    }\n  }\n})\n\nlet head = 0\nconst freeList = []\n\nmodule.exports = Sha256\nconst SHA256_BYTES = module.exports.SHA256_BYTES = 32\nconst INPUT_OFFSET = 40\nconst STATEBYTES = 108\nconst BLOCKSIZE = 64\n\nfunction Sha256 () {\n  if (!(this instanceof Sha256)) return new Sha256()\n  if (!(wasm)) throw new Error('WASM not loaded. Wait for Sha256.ready(cb)')\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += STATEBYTES // need 100 bytes for internal state\n  }\n\n  this.finalized = false\n  this.digestLength = SHA256_BYTES\n  this.pointer = freeList.pop()\n  this.pos = 0\n\n  this._memory = new Uint8Array(wasm.memory.buffer)\n  this._memory.fill(0, this.pointer, this.pointer + STATEBYTES)\n\n  if (this.pointer + this.digestLength > this._memory.length) this._realloc(this.pointer + STATEBYTES)\n}\n\nSha256.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nSha256.prototype.update = function (input, enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  if (head % 4 !== 0) head += 4 - head % 4\n  assert(head % 4 === 0, 'input shoud be aligned for int32')\n\n  const [inputBuf, length] = formatInput(input, enc)\n\n  assert(inputBuf instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + length > this._memory.length) this._realloc(head + input.length)\n\n  this._memory.fill(0, head, head + roundUp(length, BLOCKSIZE) - BLOCKSIZE)\n  this._memory.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pointer + INPUT_OFFSET + this.pos)\n  this._memory.set(inputBuf.subarray(BLOCKSIZE - this.pos), head)\n\n  this.pos = (this.pos + length) & 0x3f\n  wasm.sha256(this.pointer, head, length, 0)\n\n  return this\n}\n\nSha256.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  this.finalized = true\n  freeList.push(this.pointer)\n\n  const paddingStart = this.pointer + INPUT_OFFSET + this.pos\n  this._memory.fill(0, paddingStart, this.pointer + INPUT_OFFSET + BLOCKSIZE)\n  wasm.sha256(this.pointer, head, 0, 1)\n\n  const resultBuf = this._memory.subarray(this.pointer, this.pointer + this.digestLength)\n\n  if (!enc) {\n    return resultBuf\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'output must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset,\n    \"output must have at least 'SHA256_BYTES' bytes remaining\")\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nSha256.WASM = wasm\nSha256.WASM_SUPPORTED = typeof WebAssembly !== 'undefined'\n\nSha256.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasm) return cb(new Error('WebAssembly not supported'))\n  cb()\n  return Promise.resolve()\n}\n\nSha256.prototype.ready = Sha256.ready\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(64)\n  this.inner = Sha256()\n  this.outer = Sha256()\n\n  const keyhash = b4a.alloc(32)\n  if (key.byteLength > 64) {\n    Sha256().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha256.HMAC = HMAC\n\nfunction noop () {}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\n// only works for base that is power of 2\nfunction roundUp (n, base) {\n  return (n + base - 1) & -base\n}\n","const js = require('./sha256.js')\nconst wasm = require('sha256-wasm')\n\nvar Proto = js\n\nmodule.exports = function () {\n  return new Proto()\n}\n\nmodule.exports.ready = function (cb) {\n  wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = wasm.WASM_SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar SHA256_BYTES = module.exports.SHA256_BYTES = 32\n\nwasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = Proto = wasm\n  }\n})\n","/* eslint-disable camelcase */\nconst sha256 = require('sha256-universal')\nconst assert = require('nanoassert')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nconst crypto_hash_sha256_BYTES = 32\n\nfunction crypto_hash_sha256 (out, m, n) {\n  assert(out.byteLength === crypto_hash_sha256_BYTES, \"out must be 'crypto_hash_sha256_BYTES' bytes long\")\n\n  sha256().update(m.subarray(0, n)).digest(out)\n  return 0\n}\n\nmodule.exports = {\n  crypto_hash_sha256,\n  crypto_hash_sha256_BYTES\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst randombytes_buf = require('./randombytes').randombytes_buf\nconst blake2b = require('blake2b')\n\nmodule.exports.crypto_kdf_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_kdf_BYTES_MIN = 16\nmodule.exports.crypto_kdf_BYTES_MAX = 64\nmodule.exports.crypto_kdf_CONTEXTBYTES = 8\nmodule.exports.crypto_kdf_KEYBYTES = 32\n\nfunction STORE64_LE (dest, int) {\n  var mul = 1\n  var i = 0\n  dest[0] = int & 0xFF\n  while (++i < 8 && (mul *= 0x100)) {\n    dest[i] = (int / mul) & 0xFF\n  }\n}\n\nmodule.exports.crypto_kdf_derive_from_key = function crypto_kdf_derive_from_key (subkey, subkey_id, ctx, key) {\n  assert(subkey.length >= module.exports.crypto_kdf_BYTES_MIN, 'subkey must be at least crypto_kdf_BYTES_MIN')\n  assert(subkey_id >= 0 && subkey_id <= 0x1fffffffffffff, 'subkey_id must be safe integer')\n  assert(ctx.length >= module.exports.crypto_kdf_CONTEXTBYTES, 'context must be at least crypto_kdf_CONTEXTBYTES')\n\n  var ctx_padded = new Uint8Array(blake2b.PERSONALBYTES)\n  var salt = new Uint8Array(blake2b.SALTBYTES)\n\n  ctx_padded.set(ctx, 0, module.exports.crypto_kdf_CONTEXTBYTES)\n  STORE64_LE(salt, subkey_id)\n\n  var outlen = Math.min(subkey.length, module.exports.crypto_kdf_BYTES_MAX)\n  blake2b(outlen, key.subarray(0, module.exports.crypto_kdf_KEYBYTES), salt, ctx_padded, true)\n    .final(subkey)\n}\n\nmodule.exports.crypto_kdf_keygen = function crypto_kdf_keygen (out) {\n  assert(out.length >= module.exports.crypto_kdf_KEYBYTES, 'out.length must be crypto_kdf_KEYBYTES')\n  randombytes_buf(out.subarray(0, module.exports.crypto_kdf_KEYBYTES))\n}\n","/* eslint-disable camelcase */\nconst { crypto_scalarmult_base } = require('./crypto_scalarmult')\nconst { crypto_generichash } = require('./crypto_generichash')\nconst { randombytes_buf } = require('./randombytes')\nconst assert = require('nanoassert')\n\nconst crypto_kx_SEEDBYTES = 32\nconst crypto_kx_PUBLICKEYBYTES = 32\nconst crypto_kx_SECRETKEYBYTES = 32\n\nfunction crypto_kx_keypair (pk, sk) {\n  assert(pk.byteLength === crypto_kx_PUBLICKEYBYTES, \"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_kx_SECRETKEYBYTES, \"sk must be 'crypto_kx_SECRETKEYBYTES' bytes\")\n\n  randombytes_buf(sk, crypto_kx_SECRETKEYBYTES)\n  return crypto_scalarmult_base(pk, sk)\n}\n\nfunction crypto_kx_seed_keypair (pk, sk, seed) {\n  assert(pk.byteLength === crypto_kx_PUBLICKEYBYTES, \"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_kx_SECRETKEYBYTES, \"sk must be 'crypto_kx_SECRETKEYBYTES' bytes\")\n  assert(seed.byteLength === crypto_kx_SEEDBYTES, \"seed must be 'crypto_kx_SEEDBYTES' bytes\")\n\n  crypto_generichash(sk, seed)\n  return crypto_scalarmult_base(pk, sk)\n}\n\nmodule.exports = {\n  crypto_kx_keypair,\n  crypto_kx_seed_keypair,\n  crypto_kx_SEEDBYTES,\n  crypto_kx_SECRETKEYBYTES,\n  crypto_kx_PUBLICKEYBYTES\n}\n","const assert = require('nanoassert')\n\nmodule.exports = Chacha20\n\nconst constant = [1634760805, 857760878, 2036477234, 1797285236]\n\nfunction Chacha20 (nonce, key, counter) {\n  assert(key.byteLength === 32)\n  assert(nonce.byteLength === 8 || nonce.byteLength === 12)\n\n  const n = new Uint32Array(nonce.buffer, nonce.byteOffset, nonce.byteLength / 4)\n  const k = new Uint32Array(key.buffer, key.byteOffset, key.byteLength / 4)\n\n  if (!counter) counter = 0\n  assert(counter < Number.MAX_SAFE_INTEGER)\n\n  this.finalized = false\n  this.pos = 0\n  this.state = new Uint32Array(16)\n\n  for (let i = 0; i < 4; i++) this.state[i] = constant[i]\n  for (let i = 0; i < 8; i++) this.state[4 + i] = k[i]\n\n  this.state[12] = counter & 0xffffffff\n\n  if (n.byteLength === 8) {\n    this.state[13] = (counter && 0xffffffff00000000) >> 32\n    this.state[14] = n[0]\n    this.state[15] = n[1]\n  } else {\n    this.state[13] = n[0]\n    this.state[14] = n[1]\n    this.state[15] = n[2]\n  }\n\n  return this\n}\n\nChacha20.prototype.update = function (output, input) {\n  assert(!this.finalized, 'cipher finalized.')\n  assert(output.byteLength >= input.byteLength,\n    'output cannot be shorter than input.')\n\n  let len = input.length\n  let offset = this.pos % 64\n  this.pos += len\n\n  // input position\n  let j = 0\n\n  let keyStream = chacha20Block(this.state)\n\n  // try to finsih the current block\n  while (offset > 0 && len > 0) {\n    output[j] = input[j++] ^ keyStream[offset]\n    offset = (offset + 1) & 0x3f\n    if (!offset) this.state[12]++\n    len--\n  }\n\n  // encrypt rest block at a time\n  while (len > 0) {\n    keyStream = chacha20Block(this.state)\n\n    // less than a full block remaining\n    if (len < 64) {\n      for (let i = 0; i < len; i++) {\n        output[j] = input[j++] ^ keyStream[offset++]\n        offset &= 0x3f\n      }\n\n      return\n    }\n\n    for (; offset < 64;) {\n      output[j] = input[j++] ^ keyStream[offset++]\n    }\n\n    this.state[12]++\n    offset = 0\n    len -= 64\n  }\n}\n\nChacha20.prototype.final = function () {\n  this.state.fill(0)\n  this.pos = 0\n  this.finalized = true\n}\n\nfunction chacha20Block (state) {\n  // working state\n  const ws = new Uint32Array(16)\n  for (let i = 16; i--;) ws[i] = state[i]\n\n  for (let i = 0; i < 20; i += 2) {\n    QR(ws, 0, 4, 8, 12) // column 0\n    QR(ws, 1, 5, 9, 13) // column 1\n    QR(ws, 2, 6, 10, 14) // column 2\n    QR(ws, 3, 7, 11, 15) // column 3\n\n    QR(ws, 0, 5, 10, 15) // diagonal 1 (main diagonal)\n    QR(ws, 1, 6, 11, 12) // diagonal 2\n    QR(ws, 2, 7, 8, 13) // diagonal 3\n    QR(ws, 3, 4, 9, 14) // diagonal 4\n  }\n\n  for (let i = 0; i < 16; i++) {\n    ws[i] += state[i]\n  }\n\n  return new Uint8Array(ws.buffer, ws.byteOffset, ws.byteLength)\n}\n\nfunction rotl (a, b) {\n  return ((a << b) | (a >>> (32 - b)))\n}\n\nfunction QR (obj, a, b, c, d) {\n  obj[a] += obj[b]\n  obj[d] ^= obj[a]\n  obj[d] = rotl(obj[d], 16)\n\n  obj[c] += obj[d]\n  obj[b] ^= obj[c]\n  obj[b] = rotl(obj[b], 12)\n\n  obj[a] += obj[b]\n  obj[d] ^= obj[a]\n  obj[d] = rotl(obj[d], 8)\n\n  obj[c] += obj[d]\n  obj[b] ^= obj[c]\n  obj[b] = rotl(obj[b], 7)\n}\n","const assert = require('nanoassert')\nconst Chacha20 = require('chacha20-universal')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_stream_chacha20_KEYBYTES = 32\nexports.crypto_stream_chacha20_NONCEBYTES = 8\nexports.crypto_stream_chacha20_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nexports.crypto_stream_chacha20_ietf_KEYBYTES = 32\nexports.crypto_stream_chacha20_ietf_NONCEBYTES = 12\nexports.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX = 2 ** 32\n\nexports.crypto_stream_chacha20 = function (c, n, k) {\n  c.fill(0)\n  exports.crypto_stream_chacha20_xor(c, c, n, k)\n}\n\nexports.crypto_stream_chacha20_xor = function (c, m, n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  const xor = new Chacha20(n, k)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_xor_ic = function (c, m, n, ic, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  const xor = new Chacha20(n, k, ic)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_xor_instance = function (n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  return new Chacha20(n, k)\n}\n\nexports.crypto_stream_chacha20_ietf = function (c, n, k) {\n  c.fill(0)\n  exports.crypto_stream_chacha20_ietf_xor(c, c, n, k)\n}\n\nexports.crypto_stream_chacha20_ietf_xor = function (c, m, n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  const xor = new Chacha20(n, k)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_ietf_xor_ic = function (c, m, n, ic, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  const xor = new Chacha20(n, k, ic)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_ietf_xor_instance = function (n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  return new Chacha20(n, k)\n}\n","/* eslint-disable camelcase */\nconst { crypto_stream_chacha20_ietf, crypto_stream_chacha20_ietf_xor_ic } = require('./crypto_stream_chacha20')\nconst { crypto_verify_16 } = require('./crypto_verify')\nconst Poly1305 = require('./internal/poly1305')\nconst assert = require('nanoassert')\n\nconst crypto_aead_chacha20poly1305_ietf_KEYBYTES = 32\nconst crypto_aead_chacha20poly1305_ietf_NSECBYTES = 0\nconst crypto_aead_chacha20poly1305_ietf_NPUBBYTES = 12\nconst crypto_aead_chacha20poly1305_ietf_ABYTES = 16\nconst crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nconst _pad0 = new Uint8Array(16)\n\nfunction crypto_aead_chacha20poly1305_ietf_encrypt (c, m, ad, nsec, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_encrypt(c, m, new Uint8Array(0), nsec, npub, k)\n\n  assert(c.byteLength === m.byteLength + crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message\")\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n\n  const ret = crypto_aead_chacha20poly1305_ietf_encrypt_detached(c.subarray(0, m.byteLength),\n    c.subarray(m.byteLength), m, ad, nsec, npub, k)\n\n  return m.byteLength + ret\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_encrypt_detached (c, mac, m, ad, nsec, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_encrypt_detached(c, mac, m, new Uint8Array(0), nsec, npub, k)\n\n  assert(c.byteLength === m.byteLength, 'ciphertext should be same length than message')\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n  assert(mac.byteLength <= crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long\")\n\n  const block0 = new Uint8Array(64)\n  var slen = new Uint8Array(8)\n\n  crypto_stream_chacha20_ietf(block0, npub, k)\n  const poly = new Poly1305(block0)\n  block0.fill(0)\n\n  poly.update(ad, 0, ad.byteLength)\n  poly.update(_pad0, 0, (0x10 - ad.byteLength) & 0xf)\n\n  crypto_stream_chacha20_ietf_xor_ic(c, m, npub, 1, k)\n\n  poly.update(c, 0, m.byteLength)\n  poly.update(_pad0, 0, (0x10 - m.byteLength) & 0xf)\n\n  write64LE(slen, 0, ad.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  write64LE(slen, 0, m.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  poly.finish(mac, 0)\n  slen.fill(0)\n\n  return crypto_aead_chacha20poly1305_ietf_ABYTES\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_decrypt (m, nsec, c, ad, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_decrypt(m, nsec, c, new Uint8Array(0), npub, k)\n\n  assert(m.byteLength === c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext\")\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n\n  if (c.byteLength < crypto_aead_chacha20poly1305_ietf_ABYTES) throw new Error('could not verify data')\n\n  crypto_aead_chacha20poly1305_ietf_decrypt_detached(\n    m, nsec,\n    c.subarray(0, c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES),\n    c.subarray(c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES),\n    ad, npub, k)\n\n  return c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_decrypt_detached (m, nsec, c, mac, ad, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_decrypt_detached(m, nsec, c, mac, new Uint8Array(0), npub, k)\n\n  assert(c.byteLength === m.byteLength, 'message should be same length than ciphertext')\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n  assert(mac.byteLength <= crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long\")\n\n  const block0 = new Uint8Array(64)\n  const slen = new Uint8Array(8)\n  const computed_mac = new Uint8Array(crypto_aead_chacha20poly1305_ietf_ABYTES)\n\n  crypto_stream_chacha20_ietf(block0, npub, k)\n  const poly = new Poly1305(block0)\n  block0.fill(0)\n\n  poly.update(ad, 0, ad.byteLength)\n  poly.update(_pad0, 0, (0x10 - ad.byteLength) & 0xf)\n\n  const mlen = c.byteLength\n  poly.update(c, 0, mlen)\n  poly.update(_pad0, 0, (0x10 - mlen) & 0xf)\n\n  write64LE(slen, 0, ad.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  write64LE(slen, 0, mlen)\n  poly.update(slen, 0, slen.byteLength)\n\n  poly.finish(computed_mac, 0)\n\n  assert(computed_mac.byteLength === 16)\n  const ret = crypto_verify_16(computed_mac, 0, mac, 0)\n\n  computed_mac.fill(0)\n  slen.fill(0)\n\n  if (!ret) {\n    m.fill(0)\n    throw new Error('could not verify data')\n  }\n\n  crypto_stream_chacha20_ietf_xor_ic(m, c, npub, 1, k)\n}\n\nfunction write64LE (buf, offset, int) {\n  buf.fill(0, 0, 8)\n\n  const view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength)\n  view.setUint32(offset, int & 0xffffffff, true)\n  view.setUint32(offset + 4, (int / 2 ** 32) & 0xffffffff, true)\n}\n\nmodule.exports = {\n  crypto_aead_chacha20poly1305_ietf_encrypt,\n  crypto_aead_chacha20poly1305_ietf_encrypt_detached,\n  crypto_aead_chacha20poly1305_ietf_decrypt,\n  crypto_aead_chacha20poly1305_ietf_decrypt_detached,\n  crypto_aead_chacha20poly1305_ietf_ABYTES,\n  crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n  crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n  crypto_aead_chacha20poly1305_ietf_NSECBYTES,\n  crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./siphash24.wat\nvar require_siphash24 = __commonJS({\n  \"wasm-binary:./siphash24.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=\");\n  }\n});\n\n// wasm-module:./siphash24.wat\nvar bytes = require_siphash24();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","module.exports = fallback\n\nfunction _add (a, b) {\n  var rl = a.l + b.l\n  var a2 = {\n    h: a.h + b.h + (rl / 2 >>> 31) >>> 0,\n    l: rl >>> 0\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _xor (a, b) {\n  a.h ^= b.h\n  a.h >>>= 0\n  a.l ^= b.l\n  a.l >>>= 0\n}\n\nfunction _rotl (a, n) {\n  var a2 = {\n    h: a.h << n | a.l >>> (32 - n),\n    l: a.l << n | a.h >>> (32 - n)\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _rotl32 (a) {\n  var al = a.l\n  a.l = a.h\n  a.h = al\n}\n\nfunction _compress (v0, v1, v2, v3) {\n  _add(v0, v1)\n  _add(v2, v3)\n  _rotl(v1, 13)\n  _rotl(v3, 16)\n  _xor(v1, v0)\n  _xor(v3, v2)\n  _rotl32(v0)\n  _add(v2, v1)\n  _add(v0, v3)\n  _rotl(v1, 17)\n  _rotl(v3, 21)\n  _xor(v1, v2)\n  _xor(v3, v0)\n  _rotl32(v2)\n}\n\nfunction _get_int (a, offset) {\n  return (a[offset + 3] << 24) | (a[offset + 2] << 16) | (a[offset + 1] << 8) | a[offset]\n}\n\nfunction fallback (out, m, key) { // modified from https://github.com/jedisct1/siphash-js to use uint8arrays\n  var k0 = {h: _get_int(key, 4), l: _get_int(key, 0)}\n  var k1 = {h: _get_int(key, 12), l: _get_int(key, 8)}\n  var v0 = {h: k0.h, l: k0.l}\n  var v2 = k0\n  var v1 = {h: k1.h, l: k1.l}\n  var v3 = k1\n  var mi\n  var mp = 0\n  var ml = m.length\n  var ml7 = ml - 7\n  var buf = new Uint8Array(new ArrayBuffer(8))\n\n  _xor(v0, {h: 0x736f6d65, l: 0x70736575})\n  _xor(v1, {h: 0x646f7261, l: 0x6e646f6d})\n  _xor(v2, {h: 0x6c796765, l: 0x6e657261})\n  _xor(v3, {h: 0x74656462, l: 0x79746573})\n\n  while (mp < ml7) {\n    mi = {h: _get_int(m, mp + 4), l: _get_int(m, mp)}\n    _xor(v3, mi)\n    _compress(v0, v1, v2, v3)\n    _compress(v0, v1, v2, v3)\n    _xor(v0, mi)\n    mp += 8\n  }\n\n  buf[7] = ml\n  var ic = 0\n  while (mp < ml) {\n    buf[ic++] = m[mp++]\n  }\n  while (ic < 7) {\n    buf[ic++] = 0\n  }\n\n  mi = {\n    h: buf[7] << 24 | buf[6] << 16 | buf[5] << 8 | buf[4],\n    l: buf[3] << 24 | buf[2] << 16 | buf[1] << 8 | buf[0]\n  }\n\n  _xor(v3, mi)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _xor(v0, mi)\n  _xor(v2, { h: 0, l: 0xff })\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n\n  var h = v0\n  _xor(h, v1)\n  _xor(h, v2)\n  _xor(h, v3)\n\n  out[0] = h.l & 0xff\n  out[1] = (h.l >> 8) & 0xff\n  out[2] = (h.l >> 16) & 0xff\n  out[3] = (h.l >> 24) & 0xff\n  out[4] = h.h & 0xff\n  out[5] = (h.h >> 8) & 0xff\n  out[6] = (h.h >> 16) & 0xff\n  out[7] = (h.h >> 24) & 0xff\n}\n","var assert = require('nanoassert')\nvar wasm = typeof WebAssembly !== 'undefined' && require('./siphash24')()\nvar fallback = require('./fallback')\n\nmodule.exports = siphash24\n\nvar BYTES = siphash24.BYTES = 8\nvar KEYBYTES = siphash24.KEYBYTES = 16\n\nsiphash24.WASM_SUPPORTED = !!wasm\nsiphash24.WASM_LOADED = !!wasm\n\nvar memory = new Uint8Array(wasm.memory.buffer)\n\nfunction siphash24 (data, key, out, noAssert) {\n  if (!out) out = new Uint8Array(8)\n\n  if (noAssert !== true) {\n    assert(out.length >= BYTES, 'output must be at least ' + BYTES)\n    assert(key.length >= KEYBYTES, 'key must be at least ' + KEYBYTES)\n  }\n\n  if (wasm) {\n    if (data.length + 24 > memory.length) realloc(data.length + 24)\n    memory.set(key, 8)\n    memory.set(data, 24)\n    wasm.siphash(24, data.length)\n    out.set(memory.subarray(0, 8))\n  } else {\n    fallback(out, data, key)\n  }\n\n  return out\n}\n\nfunction realloc (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - memory.length) / 65536)))\n  memory = new Uint8Array(wasm.memory.buffer)\n}\n","var siphash = require('siphash24')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_shorthash_PRIMITIVE = 'siphash24'\nexports.crypto_shorthash_BYTES = siphash.BYTES\nexports.crypto_shorthash_KEYBYTES = siphash.KEYBYTES\nexports.crypto_shorthash_WASM_SUPPORTED = siphash.WASM_SUPPORTED\nexports.crypto_shorthash_WASM_LOADED = siphash.WASM_LOADED\nexports.crypto_shorthash = shorthash\n\nfunction shorthash (out, data, key, noAssert) {\n  siphash(data, key, out, noAssert)\n}\n","/* eslint-disable camelcase, one-var */\nconst { crypto_verify_32 } = require('./crypto_verify')\nconst { crypto_hash } = require('./crypto_hash')\nconst {\n  gf, gf0, gf1, D, D2,\n  X, Y, I, A, Z, M, S,\n  sel25519, pack25519,\n  inv25519, unpack25519\n} = require('./internal/ed25519')\nconst { randombytes } = require('./randombytes')\nconst { crypto_scalarmult_BYTES } = require('./crypto_scalarmult.js')\nconst { crypto_hash_sha512_BYTES } = require('./crypto_hash.js')\nconst assert = require('nanoassert')\n\nconst crypto_sign_ed25519_PUBLICKEYBYTES = 32\nconst crypto_sign_ed25519_SECRETKEYBYTES = 64\nconst crypto_sign_ed25519_SEEDBYTES = 32\nconst crypto_sign_ed25519_BYTES = 64\n\nconst crypto_sign_BYTES = crypto_sign_ed25519_BYTES\nconst crypto_sign_PUBLICKEYBYTES = crypto_sign_ed25519_PUBLICKEYBYTES\nconst crypto_sign_SECRETKEYBYTES = crypto_sign_ed25519_SECRETKEYBYTES\nconst crypto_sign_SEEDBYTES = crypto_sign_ed25519_SEEDBYTES\n\nmodule.exports = {\n  crypto_sign_keypair,\n  crypto_sign_seed_keypair,\n  crypto_sign,\n  crypto_sign_detached,\n  crypto_sign_open,\n  crypto_sign_verify_detached,\n  crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES,\n  crypto_sign_ed25519_PUBLICKEYBYTES,\n  crypto_sign_ed25519_SECRETKEYBYTES,\n  crypto_sign_ed25519_SEEDBYTES,\n  crypto_sign_ed25519_BYTES,\n  crypto_sign_ed25519_pk_to_curve25519,\n  crypto_sign_ed25519_sk_to_curve25519,\n  crypto_sign_ed25519_sk_to_pk,\n  unpackneg,\n  pack\n}\n\nfunction set25519 (r, a) {\n  for (let i = 0; i < 16; i++) r[i] = a[i] | 0\n}\n\nfunction pow2523 (o, i) {\n  var c = gf()\n  var a\n  for (a = 0; a < 16; a++) c[a] = i[a]\n  for (a = 250; a >= 0; a--) {\n    S(c, c)\n    if (a !== 1) M(c, c, i)\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a]\n}\n\nfunction add (p, q) {\n  var a = gf(), b = gf(), c = gf(),\n    d = gf(), e = gf(), f = gf(),\n    g = gf(), h = gf(), t = gf()\n\n  Z(a, p[1], p[0])\n  Z(t, q[1], q[0])\n  M(a, a, t)\n  A(b, p[0], p[1])\n  A(t, q[0], q[1])\n  M(b, b, t)\n  M(c, p[3], q[3])\n  M(c, c, D2)\n  M(d, p[2], q[2])\n  A(d, d, d)\n  Z(e, b, a)\n  Z(f, d, c)\n  A(g, d, c)\n  A(h, b, a)\n\n  M(p[0], e, f)\n  M(p[1], h, g)\n  M(p[2], g, f)\n  M(p[3], e, h)\n}\n\nfunction cswap (p, q, b) {\n  var i\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b)\n  }\n}\n\nfunction pack (r, p) {\n  var tx = gf(), ty = gf(), zi = gf()\n  inv25519(zi, p[2])\n  M(tx, p[0], zi)\n  M(ty, p[1], zi)\n  pack25519(r, ty)\n  r[31] ^= par25519(tx) << 7\n}\n\nfunction scalarmult (p, q, s) {\n  // don't mutate q\n  var h = [gf(q[0]), gf(q[1]), gf(q[2]), gf(q[3])]\n  var b, i\n  set25519(p[0], gf0)\n  set25519(p[1], gf1)\n  set25519(p[2], gf1)\n  set25519(p[3], gf0)\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i / 8) | 0] >> (i & 7)) & 1\n    cswap(p, h, b)\n    add(h, p)\n    add(p, p)\n    cswap(p, h, b)\n  }\n}\n\nfunction scalarbase (p, s) {\n  var q = [gf(), gf(), gf(), gf()]\n  set25519(q[0], X)\n  set25519(q[1], Y)\n  set25519(q[2], gf1)\n  M(q[3], X, Y)\n  scalarmult(p, q, s)\n}\n\nfunction crypto_sign_keypair (pk, sk, seeded) {\n  check(pk, crypto_sign_PUBLICKEYBYTES)\n  check(sk, crypto_sign_SECRETKEYBYTES)\n\n  var d = new Uint8Array(64)\n  var p = [gf(), gf(), gf(), gf()]\n  var i\n\n  if (!seeded) randombytes(sk, 32)\n  crypto_hash(d, sk, 32)\n  d[0] &= 248\n  d[31] &= 127\n  d[31] |= 64\n\n  scalarbase(p, d)\n  pack(pk, p)\n\n  for (i = 0; i < 32; i++) sk[i + 32] = pk[i]\n}\n\nfunction crypto_sign_seed_keypair (pk, sk, seed) {\n  check(seed, crypto_sign_SEEDBYTES)\n  sk.set(seed)\n  return crypto_sign_keypair(pk, sk, true)\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10])\n\nfunction modL (r, x) {\n  var carry, i, j, k\n  for (i = 63; i >= 32; --i) {\n    carry = 0\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)]\n      carry = (x[j] + 128) >> 8\n      x[j] -= carry * 256\n    }\n    x[j] += carry\n    x[i] = 0\n  }\n  carry = 0\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j]\n    carry = x[j] >> 8\n    x[j] &= 255\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j]\n  for (i = 0; i < 32; i++) {\n    x[i + 1] += x[i] >> 8\n    r[i] = x[i] & 255\n  }\n}\n\nfunction reduce (r) {\n  var x = new Float64Array(64)\n  for (let i = 0; i < 64; i++) x[i] = r[i]\n  for (let i = 0; i < 64; i++) r[i] = 0\n  modL(r, x)\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign (sm, m, sk) {\n  check(sm, crypto_sign_BYTES + m.length)\n  check(m, 0)\n  check(sk, crypto_sign_SECRETKEYBYTES)\n  var n = m.length\n\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64)\n  var i, j, x = new Float64Array(64)\n  var p = [gf(), gf(), gf(), gf()]\n\n  crypto_hash(d, sk, 32)\n  d[0] &= 248\n  d[31] &= 127\n  d[31] |= 64\n\n  var smlen = n + 64\n  for (i = 0; i < n; i++) sm[64 + i] = m[i]\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i]\n\n  crypto_hash(r, sm.subarray(32), n + 32)\n  reduce(r)\n  scalarbase(p, r)\n  pack(sm, p)\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i]\n  crypto_hash(h, sm, n + 64)\n  reduce(h)\n\n  for (i = 0; i < 64; i++) x[i] = 0\n  for (i = 0; i < 32; i++) x[i] = r[i]\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i + j] += h[i] * d[j]\n    }\n  }\n\n  modL(sm.subarray(32), x)\n  return smlen\n}\n\nfunction crypto_sign_detached (sig, m, sk) {\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  crypto_sign(sm, m, sk)\n  for (let i = 0; i < crypto_sign_BYTES; i++) sig[i] = sm[i]\n}\n\nfunction unpackneg (r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n    den = gf(), den2 = gf(), den4 = gf(),\n    den6 = gf()\n\n  set25519(r[2], gf1)\n  unpack25519(r[1], p)\n  S(num, r[1])\n  M(den, num, D)\n  Z(num, num, r[2])\n  A(den, r[2], den)\n\n  S(den2, den)\n  S(den4, den2)\n  M(den6, den4, den2)\n  M(t, den6, num)\n  M(t, t, den)\n\n  pow2523(t, t)\n  M(t, t, num)\n  M(t, t, den)\n  M(t, t, den)\n  M(r[0], t, den)\n\n  S(chk, r[0])\n  M(chk, chk, den)\n  if (!neq25519(chk, num)) M(r[0], r[0], I)\n\n  S(chk, r[0])\n  M(chk, chk, den)\n  if (!neq25519(chk, num)) return false\n\n  if (par25519(r[0]) === (p[31] >> 7)) {\n    Z(r[0], gf(), r[0])\n  }\n\n  M(r[3], r[0], r[1])\n  return true\n}\n\n/* eslint-disable no-unused-vars */\nfunction crypto_sign_open (msg, sm, pk) {\n  check(msg, sm.length - crypto_sign_BYTES)\n  check(sm, crypto_sign_BYTES)\n  check(pk, crypto_sign_PUBLICKEYBYTES)\n  var n = sm.length\n  var m = new Uint8Array(sm.length)\n\n  var i, mlen\n  var t = new Uint8Array(32), h = new Uint8Array(64)\n  var p = [gf(), gf(), gf(), gf()],\n    q = [gf(), gf(), gf(), gf()]\n\n  mlen = -1\n  if (n < 64) return false\n\n  if (!unpackneg(q, pk)) return false\n\n  for (i = 0; i < n; i++) m[i] = sm[i]\n  for (i = 0; i < 32; i++) m[i + 32] = pk[i]\n  crypto_hash(h, m, n)\n  reduce(h)\n  scalarmult(p, q, h)\n\n  scalarbase(q, sm.subarray(32))\n  add(p, q)\n  pack(t, p)\n\n  n -= 64\n  if (!crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0\n    return false\n    // throw new Error('crypto_sign_open failed')\n  }\n\n  for (i = 0; i < n; i++) msg[i] = sm[i + 64]\n  mlen = n\n  return true\n}\n/* eslint-enable no-unused-vars */\n\nfunction crypto_sign_verify_detached (sig, m, pk) {\n  check(sig, crypto_sign_BYTES)\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  var i = 0\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i]\n  for (i = 0; i < m.length; i++) sm[i + crypto_sign_BYTES] = m[i]\n  return crypto_sign_open(m, sm, pk)\n}\n\nfunction par25519 (a) {\n  var d = new Uint8Array(32)\n  pack25519(d, a)\n  return d[0] & 1\n}\n\nfunction neq25519 (a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32)\n  pack25519(c, a)\n  pack25519(d, b)\n  return crypto_verify_32(c, 0, d, 0)\n}\n\nfunction ed25519_mul_l (p, q) {\n  scalarmult(p, q, L)\n}\n\nfunction ed25519_is_on_main_subgroup (p) {\n  var pl = [gf(), gf(), gf(), gf()]\n\n  ed25519_mul_l(pl, p)\n\n  var zero = 0\n  for (let i = 0; i < 16; i++) {\n    zero |= (pl[0][i] & 0xffff)\n  }\n\n  return zero === 0\n}\n\nfunction crypto_sign_ed25519_pk_to_curve25519 (x25519_pk, ed25519_pk) {\n  check(x25519_pk, crypto_sign_PUBLICKEYBYTES)\n  check(ed25519_pk, crypto_sign_ed25519_PUBLICKEYBYTES)\n\n  var a = [gf(), gf(), gf(), gf()]\n  var x = gf([1])\n  var one_minus_y = gf([1])\n\n  assert(\n    isSmallOrder(ed25519_pk) &&\n    unpackneg(a, ed25519_pk) &&\n    ed25519_is_on_main_subgroup(a), 'Cannot convert key: bad point')\n\n  for (let i = 0; i < a.length; i++) {\n    pack25519(x25519_pk, a[i])\n  }\n\n  Z(one_minus_y, one_minus_y, a[1])\n  A(x, x, a[1])\n  inv25519(one_minus_y, one_minus_y)\n  M(x, x, one_minus_y)\n  pack25519(x25519_pk, x)\n\n  return 0\n}\n\nfunction isSmallOrder (s) {\n  Uint8Array.from([])\n\n  var bad_points = [\n    // 0 (order 4)\n    Uint8Array.from([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]),\n\n    // 1 (order 1)\n    Uint8Array.from([0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]),\n\n    // 2707385501144840649318225287225658788936804267575313519463743609750303402022(order 8)\n    Uint8Array.from([0x26, 0xe8, 0x95, 0x8f, 0xc2, 0xb2, 0x27, 0xb0, 0x45, 0xc3,\n      0xf4, 0x89, 0xf2, 0xef, 0x98, 0xf0, 0xd5, 0xdf, 0xac, 0x05, 0xd3,\n      0xc6, 0x33, 0x39, 0xb1, 0x38, 0x02, 0x88, 0x6d, 0x53, 0xfc, 0x05]),\n\n    // 55188659117513257062467267217118295137698188065244968500265048394206261417927 (order 8)\n    Uint8Array.from([0xc7, 0x17, 0x6a, 0x70, 0x3d, 0x4d, 0xd8, 0x4f, 0xba, 0x3c,\n      0x0b, 0x76, 0x0d, 0x10, 0x67, 0x0f, 0x2a, 0x20, 0x53, 0xfa, 0x2c,\n      0x39, 0xcc, 0xc6, 0x4e, 0xc7, 0xfd, 0x77, 0x92, 0xac, 0x03, 0x7a]),\n\n    // p-1 (order 2)\n    Uint8Array.from([0xec, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f]),\n\n    //  p (=0 order 4)\n    Uint8Array.from([0xed, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f]),\n\n    // p + 1 (=1 order 1)\n    Uint8Array.from([0xee, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f])\n  ]\n\n  var c = new Uint8Array(7)\n  var j\n\n  check(bad_points, 7)\n  for (let i = 0; i < bad_points.length; i++) {\n    for (j = 0; j < 31; j++) {\n      c[i] |= s[j] ^ bad_points[i][j]\n    }\n  }\n\n  for (let i = 0; i < bad_points.length; i++) {\n    c[i] |= (s[j] & 0x7f) ^ bad_points[i][j]\n  }\n\n  var k = 0\n  for (let i = 0; i < bad_points.length; i++) {\n    k |= (c[i] - 1)\n  }\n\n  return ((k >> 8) & 1) === 0\n}\n\nfunction crypto_sign_ed25519_sk_to_pk (pk, sk) {\n  check(pk, crypto_sign_ed25519_PUBLICKEYBYTES)\n  pk.set(sk.subarray(crypto_sign_ed25519_SEEDBYTES))\n  return pk\n}\n\nfunction crypto_sign_ed25519_sk_to_curve25519 (curveSk, edSk) {\n  assert(curveSk && curveSk.byteLength === crypto_scalarmult_BYTES, \"curveSk must be 'crypto_sign_SECRETKEYBYTES' long\")\n  assert(edSk && edSk.byteLength === crypto_sign_ed25519_SECRETKEYBYTES, \"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long\")\n\n  var h = new Uint8Array(crypto_hash_sha512_BYTES)\n  crypto_hash(h, edSk, 32)\n\n  h[0] &= 248\n  h[31] &= 127\n  h[31] |= 64\n\n  curveSk.set(h.subarray(0, crypto_scalarmult_BYTES))\n  h.fill(0)\n  return curveSk\n}\n\nfunction check (buf, len, arg = 'Argument') {\n  if (!buf || (len && buf.length < len)) throw new Error(arg + ' must be a buffer' + (len ? ' of length ' + len : ''))\n}\n","'use strict'\n\n// Based on https://github.com/dchest/tweetnacl-js/blob/6dcbcaf5f5cbfd313f2dcfe763db35c828c8ff5b/nacl-fast.js.\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nforward(require('./randombytes'))\nforward(require('./memory'))\nforward(require('./helpers'))\nforward(require('./crypto_verify'))\nforward(require('./crypto_auth'))\nforward(require('./crypto_box'))\nforward(require('./crypto_generichash'))\nforward(require('./crypto_hash'))\nforward(require('./crypto_hash_sha256'))\nforward(require('./crypto_kdf'))\nforward(require('./crypto_kx'))\nforward(require('./crypto_aead'))\nforward(require('./crypto_onetimeauth'))\nforward(require('./crypto_scalarmult'))\nforward(require('./crypto_secretbox'))\nforward(require('./crypto_shorthash'))\nforward(require('./crypto_sign'))\nforward(require('./crypto_stream'))\nforward(require('./crypto_stream_chacha20'))\n\nfunction forward (submodule) {\n  Object.keys(submodule).forEach(function (prop) {\n    module.exports[prop] = submodule[prop]\n  })\n}\n","module.exports = require('sodium-native')\n","module.exports = Symbol.for('nodejs.util.inspect.custom')\n","// SPDX-License-Identifier: AGPL-3.0-or-later\n// Copyright  2020 Tony Ivanov <telamohn@pm.me>\n\n/* eslint-disable camelcase */\nconst {\n  crypto_sign_BYTES,\n  crypto_sign_SECRETKEYBYTES,\n  crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_detached,\n  crypto_sign_verify_detached,\n  crypto_sign_keypair\n} = require('sodium-universal')\n/* eslint-enable camelcase */\n\nconst inspectSymbol = require('inspect-custom-symbol')\n// Using global symbols here might be unecessary\n// but feeds created in ancestors of picofeed dependents evaulate:\n// (feed instanceof PicoFeed) as false..\nconst BLOCK_SYMBOL = Symbol.for('Pico::block')\nconst FEED_SYMBOL = Symbol.for('Pico::feed')\n\nconst GENESIS = Buffer.alloc(crypto_sign_BYTES).fill(0)\n\nmodule.exports = class PicoFeed {\n  static get MAX_FEED_SIZE () { return 64 << 10 } // 64 kilo byte\n  static get INITIAL_FEED_SIZE () { return 1 << 10 } // 1 kilo byte\n  static get PICKLE () { return Buffer.from('PIC0.') } // Buffer.from('', 'utf8') }\n  static get KEY () { return Buffer.from('K0.') } // Buffer.from('f09f979d', 'hex') }\n  // consensus? pft! whoever can fit the most kittens into\n  // a single bottle is obviously the winner.\n  static get BLOCK () { return Buffer.from('B0.') } // Buffer.from('', 'utf8') }\n  static get KEY_SIZE () { return crypto_sign_PUBLICKEYBYTES } // eslint-disable-line camelcase\n  static get SIGNATURE_SIZE () { return crypto_sign_BYTES } // eslint-disable-line camelcase\n  static get COUNTER_SIZE () { return 4 } // Sizeof UInt32BE\n  static get META_SIZE () { return PicoFeed.SIGNATURE_SIZE * 2 + PicoFeed.COUNTER_SIZE }\n  static get BLOCK_SYMBOL () { return BLOCK_SYMBOL }\n  static get FEED_SYMBOL () { return FEED_SYMBOL }\n  static get GENESIS () { return GENESIS }\n\n  constructor (opts = {}) {\n    this[FEED_SYMBOL] = true\n    this.tail = 0 // Tail always points to next empty space\n    this._hasGenisis = null\n    this._keychain = [] // key-cache\n    this._cache = [] // block-cache\n    this._MAX_FEED_SIZE = opts.maxSize || PicoFeed.MAX_FEED_SIZE\n    this.buf = Buffer.alloc(opts.initialSize || PicoFeed.INITIAL_FEED_SIZE)\n  }\n\n  get partial () {\n    // length triggers _index(), empty feeds are neither partial nor full.\n    if (this._hasGenisis === null && !this.length) return false\n    return !this._hasGenisis\n  }\n\n  get free () { return this._MAX_FEED_SIZE - this.tail }\n\n  get _isDirty () {\n    if (!this.tail) return false // Buffer is empty\n    if (!this._cache.length) return true // Cache is empty\n\n    const descriptor = this._cache[this._cache.length - 1]\n    const block = PicoFeed.mapBlock(this.buf, descriptor.offset)\n    // Detect unindexed data between last cached block and tail\n    return block.end !== this.tail\n  }\n\n  get length () {\n    this._reIndex()\n    return this._cache.length\n  }\n\n  get last () { return this.get(this.length - 1) }\n  get first () { return this.get(0) }\n\n  get keys () {\n    this._reIndex()\n    return [...this._keychain]\n  }\n\n  // Forcefully re-index entire feed\n  _reIndex (force = false) {\n    if (!force && !this._isDirty) return\n    const iterator = this._index(force)\n    while (!iterator.next().done) continue\n  }\n\n  _appendKey (data) {\n    this._ensureMinimumCapacity(this.tail + PicoFeed.KEY.length + data.length)\n    this.tail += PicoFeed.KEY.copy(this.buf, this.tail)\n    this.tail += data.copy(this.buf, this.tail)\n  }\n\n  _appendBlock (chunk) {\n    this._ensureMinimumCapacity(this.tail + chunk.length)\n    this.tail += chunk.copy(this.buf, this.tail)\n  }\n\n  _ensureMinimumCapacity (size) {\n    if (this.buf.length < size) {\n      // console.info('Increasing backing buffer to new size:', size)\n      const nbuf = Buffer.allocUnsafe(size + 32)\n      this.buf.copy(nbuf)\n      this.buf = nbuf\n    }\n  }\n\n  _ensureKey (pk) {\n    for (const k of this.keys) {\n      if (pk.equals(k)) return\n    }\n    this._appendKey(pk)\n  }\n\n  get (idx) {\n    if (this._isDirty) this._reIndex()\n    if (idx < 0) idx = this.length + idx\n    const desc = this._cache[idx]\n    if (!desc) return undefined\n    return PicoFeed.mapBlock(this.buf, desc.offset, this._keychain[desc.keyId])\n  }\n\n  toArray () {\n    const arr = []\n    for (const block of this.blocks()) arr.push(block)\n    return arr\n  }\n\n  append (data, sk, cb) {\n    if (!sk) throw new Error('Can\\'t append without a signing secret')\n    if (sk.length !== 64) throw new Error('Unknown signature secret key format')\n    const pk = sk.slice(PicoFeed.KEY_SIZE) // this is a libsodium thing\n    this._ensureKey(pk)\n\n    const metaSz = PicoFeed.META_SIZE\n\n    const pBlock = this.last\n\n    // This is the only auto-encoding that will be supported\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data)\n\n    const dataSize = data.length\n    const newEnd = this.tail + dataSize + metaSz\n\n    // Ensure we're not gonna pass the boundary\n    if (this._MAX_FEED_SIZE < newEnd) {\n      // console.error('NOFIT', this.tail, dataSize, metaSz)\n      console.error(`MAX_FEED_SIZE reached, block won't fit: ${newEnd} > ${this._MAX_FEED_SIZE}`)\n      const err = new Error('FeedOverflowError')\n      err.type = err.message\n      err.maxSize = this._MAX_FEED_SIZE\n      err.requestedSize = newEnd\n      err.bytesOverflow = newEnd - this._MAX_FEED_SIZE\n      throw err\n    }\n\n    // Resize current buffer if needed\n    this._ensureMinimumCapacity(newEnd)\n\n    const map = PicoFeed.mapBlock(this.buf, this.tail)\n\n    map.header.fill(0) // Zero out the header\n    map.size = dataSize\n\n    data.copy(map.body)\n\n    if (pBlock) { // Origin blocks are origins.\n      pBlock.sig.copy(map.parentSig)\n    }\n\n    crypto_sign_detached(map.sig, map.dat, sk)\n    // sanity check.\n    if (!map.verify(pk)) throw new Error('newly stored block is invalid. something went wrong')\n    this.tail = newEnd\n\n    // This method isn't async but we'll honour the old ways\n    if (typeof cb === 'function') cb(null, this.length)\n    return this.length\n  }\n\n  /* This generator is pretty magic,\n   * we're traversing the buffer and validating it\n   * in one sweep.\n   */\n  * _index (clearCache = false) {\n    let offset = 0\n    let blockIdx = 0\n\n    // Reset caches\n    if (clearCache) this._clearCache()\n\n    const ktok = PicoFeed.KEY\n    const KEY_SZ = PicoFeed.KEY_SIZE\n    // vars for block parsing\n    let prevSig = null\n    while (true) {\n      if (offset >= this.tail) return\n\n      if (offset + ktok.length > this.buf.length) return\n      const isKey = ktok.equals(this.buf.slice(offset, offset + ktok.length))\n\n      if (isKey) {\n        const key = this.buf.slice(offset + ktok.length, offset + ktok.length + KEY_SZ)\n        let keyIdx = this._keychain.findIndex(k => k.equals(key))\n        if (!~keyIdx) { // Append key to chain if missing\n          keyIdx = this._keychain.length\n          this._keychain.push(key)\n        }\n        yield { type: 0, id: keyIdx, key: key, offset }\n        offset += ktok.length + KEY_SZ\n      } else if (this._cache[blockIdx] && this._cache[blockIdx].offset === offset) {\n        // Load block from cache\n        const seq = blockIdx++\n        const desc = this._cache[seq]\n        const key = this._keychain[desc.keyId]\n        if (!key) throw new Error('InternalError:KeyCacheBroken')\n        const block = PicoFeed.mapBlock(this.buf, desc.offset, key)\n        yield { type: 1, seq, key, block, offset: desc.offset }\n        prevSig = block.sig\n        offset = block.end\n      } else {\n        // Index block from buffer and register in cache\n        const block = PicoFeed.mapBlock(this.buf, offset)\n        if (block.size === 0) return\n        if (offset + block.size > this.buf.length) return\n\n        // Parent verification\n        if (!blockIdx) {\n          // partial feeds/slices lack the genesis block\n          this._hasGenisis = block.parentSig.equals(Buffer.alloc(64))\n        } else if (!prevSig.equals(block.parentSig)) {\n          // Consequent blocks must state correct parent\n          return // reject block\n        }\n\n        let valid = false\n        for (let i = this._keychain.length - 1; i >= 0; i--) {\n          valid = block.verify(this._keychain[i])\n          if (!valid) continue\n          const seq = blockIdx++\n          block.key = this._keychain[i]\n          this._cache[seq] = { offset, keyId: i }\n          yield { type: 1, seq, block, offset, key: this._keychain[i] }\n          prevSig = block.sig\n          offset = block.end\n          break\n        }\n        if (!valid) return // chain of trust broken\n      }\n    }\n  }\n\n  toString () { return this.pickle() }\n\n  pickle (slice = 0) {\n    let str = encodeURIComponent(PicoFeed.PICKLE.toString('utf8'))\n    const kToken = PicoFeed.KEY\n    const bToken = PicoFeed.BLOCK\n    const itr = (slice ? this.slice(slice) : this)._index()\n    for (const fact of itr) {\n      str += !fact.type\n        ? kToken + b2ub(fact.key)\n        : bToken + b2ub(fact.block.buffer)\n    }\n    return str\n  }\n\n  /**\n   * Returns a sliced feed.\n   */\n  slice (start = 0, end = undefined, noKeys = false) {\n    const out = new PicoFeed()\n    for (const block of this.blocks(start, end)) {\n      if (!noKeys) out._ensureKey(block.key)\n      out._appendBlock(block.buffer)\n    }\n    return out\n  }\n\n  // Unpickle\n  _unpack (str) {\n    if (!str) throw new Error('Missing first argument')\n    if (typeof str !== 'string') throw new Error('url-friendly string expected')\n    // TODO: re-engineer for efficiency\n    const pToken = encodeURIComponent(PicoFeed.PICKLE)\n    const kToken = encodeURIComponent(PicoFeed.KEY)\n    const bToken = encodeURIComponent(PicoFeed.BLOCK)\n    const pickleOffset = str.indexOf(pToken)\n    if (pickleOffset === -1) throw new Error('NotPickleError')\n    let o = pToken.length + pickleOffset\n    let kM = 0\n    let bM = 0\n    let type = -1\n    let start = -1\n    const processChunk = () => {\n      if (type !== -1) {\n        const chunk = decodeURIComponent(str.substr(start, o - start - bM - kM + 1))\n        if (!type) { // Unpack Public Sign Key\n          const key = ub2b(chunk)\n          if (key.length !== PicoFeed.KEY_SIZE) throw new Error('PSIG key wrong size: ')\n          this._ensureKey(key) // modifies tail\n        } else { // Unpack Block\n          this._appendBlock(ub2b(chunk))\n        }\n        type = -1 // for sanity, not needed.\n      }\n      start = o + 1\n      type = kM ? 0 : 1\n      kM = bM = 0\n    }\n\n    while (o < str.length) {\n      if (str[o] === kToken[kM]) {\n        if (++kM === kToken.length) processChunk()\n      } else kM = 0\n\n      if (str[o] === bToken[bM]) {\n        if (++bM === bToken.length) processChunk()\n      } else bM = 0\n      o++\n    }\n    processChunk()\n  }\n\n  // Truncating is a lot faster\n  // than spawning a new feed.\n  truncate (toLength) {\n    if (toLength === 0) { // Empty the feed\n      this.tail = 0\n      this._cache = []\n      this._keychain = []\n      return true\n    }\n\n    const o = this.tail\n    const block = this.get(toLength - 1)\n    this.tail = block.end\n    if (o === this.tail) return false\n    // Truncate cache\n    let l = this._cache.length - toLength\n    while (l--) this._cache.pop()\n    return true\n  }\n\n  * blocks (start = 0, end = 0) {\n    if (start < 0) start = this.length + start\n    if (!end) end = this.length\n    if (end < 0) end = this.length + end + 1\n    while (start < end) yield this.get(start++)\n    /*\n    const itr = this._index()\n    function * filter () {\n      for (const entry of itr) if (entry.type && --slice < 0) yield entry\n    }\n    return filter() */\n  }\n\n  /*\n   * Steals the state of other feed,\n   * once a feed has been pilfered it should not be used\n   * anymore. This method is only used internally as an optimization\n   * for \"theirs\" merge strategy to avoid re-indexing\n   */\n  _steal (other, copy = false) {\n    if (copy) {\n      this.buf = Buffer.alloc(other.buf.length)\n      other.buf.copy(this.buf)\n      this._cache = other._cache.map(desc => ({ ...desc })) // Clone descriptors\n    } else {\n      this.buf = other.buf\n      this._cache = [...other._cache] // Steal descriptors\n    }\n    this._keychain = [...other._keychain] // Steal keys\n    this._hasGenisis = other._hasGenisis\n    this.tail = other.tail\n    other._robbed = true // earmark other feed for debugging\n    return true\n  }\n\n  _clearCache () {\n    this._keychain = []\n    this._cache = []\n  }\n\n  // little bit of meta-programming, that probably can be avoided.\n  get __clazz () {\n    return Object.getPrototypeOf(this).constructor\n  }\n\n  /*\n   * This method is going to need a docs page of it's own..\n   * The fastest way to merge a temporary feed into an empty feed is to steal the\n   * temporary feeds buffer; This is not possible while doing interactive merging as\n   * by optimization we forego the entire loop with no way to index nor abort.\n   * So for now userValidate implies forceCopy/noSteal\n   *\n   * @param source something that from() can convert into feed.\n   * @param options Object, merge options\n   * @param options.forceCopy `Boolean` prevents buffer stealing from source; Forces new buffers to be created an copied\n   * @param indexCallback Invoked for each new commit that is about to be merged, abort method is NOT asyncroneous.\n   * @return {boolean} true if source is/was merged, false if unmergable\n   */\n  merge (source, options = {}, indexCallback = null) {\n    if (typeof options === 'function') return this.merge(source, undefined, options)\n    const forceCopy = options.forceCopy || false\n    if (!source) throw new Error('First argument `source` expected by merge')\n    const other = this.__clazz.from(source)\n\n    // Prepare user index/validator\n    const interactiveMode = typeof indexCallback === 'function'\n    const userValidate = !interactiveMode\n      ? () => false\n      : block => {\n        // Invoke user indexing callback to let them process\n        // and validate a block before actually merging it.\n        let abort = false\n        indexCallback(block, () => { abort = true }) // Abortion is only possible in syncronized mode.\n        return abort\n      }\n\n    const rebase = blocksIterator => {\n      let mutated = false\n      for (const block of blocksIterator) {\n        const key = block.key\n        if (interactiveMode) {\n          const aborted = userValidate(block)\n          if (aborted) return mutated\n        }\n\n        // Rebase block onto self (no parents are modified)\n        this._ensureKey(key)\n        this._appendBlock(block.buffer)\n        mutated = true\n      }\n      return mutated\n    }\n\n    // If we're empty then we'll just use theirs\n    if (!this.length) {\n      if (!interactiveMode) return this._steal(other, forceCopy)\n      else return rebase(other.blocks())\n    }\n\n    const attemptReverseMerge = () => {\n      if (this._reverseMergeFlag) return false\n      const c = other.clone() // Avoid mutating other\n      c._reverseMergeFlag = true // Prevent loops without poisoning the state.\n      const sanityCheck = c.length\n      const firstBlockAccepted = !interactiveMode || !userValidate(c.get(0))\n      if (\n        firstBlockAccepted &&\n        c.merge(this, options, indexCallback)\n      ) { // Success, steal buffer\n        if (sanityCheck === c.length) throw new Error('InternalError:NothingMerged')\n        return this._steal(c)\n      } else return false // Give up\n    }\n\n    // Expected 2 outcomes.\n    // 1. conflict, no merge, abort mission\n    // 2.a) no conflict, no new blocks, abort.\n    // 2.b) no conflict, new blocks, copy + validate?\n    try {\n      const s = this._compare(other)\n      if (s < 1) return true\n      return rebase(other.blocks(other.length - s))\n    } catch (err) {\n      switch (err.type) {\n        case 'BlockConflict':\n          return false\n        case 'NoCommonParent':\n          /* When this feed is partial and if this.merge(other)\n           * has no common parent; then there is yet a possibility\n           * that other.merge(this) yields a non-conflicting longer\n           * chain\n           */\n          if (!this.partial) return false\n          else return attemptReverseMerge()\n      }\n      throw err\n    }\n  }\n\n  clone (FeedDerivate) {\n    FeedDerivate = FeedDerivate || this.__clazz\n    const f = new FeedDerivate()\n    f._steal(this, true)\n    return f\n  }\n\n  /* How to look at counters\n   *\n   * A  0  1  2  3\n   * K0 B1 B2 B3 B4\n   * K0       B3 B4 B5 B6  (slice of a pickle)\n   * B        0  1  2  3\n   *\n   * A  0  1  2  3\n   * K0 B1 B2 B3 B4\n   * K0 B1 B2 B3 B4 B5 B6\n   * B  0  1  2  3  4  5\n   *\n   */\n  _compare (other) {\n    if (this === other) return 0\n    const counters = [-1, -1]\n    const iterators = [this._index(), other._index()]\n    const blocks = []\n    const eof = [false, false]\n    const parents = []\n\n    // Define a single step.\n    const step = (chain) => { // until block\n      if (blocks[chain]) parents[chain] = blocks[chain].sig\n      blocks[chain] = null\n      while (!blocks[chain] && !eof[chain]) {\n        const n = iterators[chain].next()\n        eof[chain] = eof[chain] || n.done\n        if (n.done && typeof n.value === 'undefined') break // Iterating an empty list..\n\n        if (n.value.type) {\n          counters[chain]++\n          blocks[chain] = n.value.block\n        }\n      }\n    }\n\n    const fastForward = chain => {\n      const c = counters[chain] - 1\n      while (blocks[chain]) step(chain)\n      return counters[chain] - c\n    }\n\n    const A = 0\n    const B = 1\n\n    const mkErr = text => {\n      const err = new Error(text)\n      err.type = text\n      err.idxA = counters[A]\n      err.idxB = counters[B]\n      return err\n    }\n\n    // 1. Find common parent / align B to A\n    step(B)\n    if (!blocks[B]) return -fastForward(A) // No new blocks no conflicts\n    const target = blocks[B].parentSig\n    while (!eof[A]) {\n      step(A)\n      if (!blocks[A]) break\n      if (blocks[A].parentSig.equals(target)) break\n\n      if (blocks[A].sig.equals(target) && this.length === counters[A] + 1) {\n        /* Current A is parent of B,\n         * - If there are no more blocks in A\n         *   then we can merge everything from B without conflict\n         * - If there are more blocks in A, then proceed,\n         *   the rest of the logic is legit and will detect conflicts.\n         */\n        return fastForward(B)\n      }\n    }\n    if (!blocks[A]) throw mkErr('NoCommonParent') // No common parent! [a: a.length > 0, b: 0]\n\n    // Check if it's the same block\n    if (!blocks[A].sig.equals(blocks[B].sig)) throw mkErr('BlockConflict')\n\n    // common parent found!\n    // if (counters[B] !== counters[A]) console.info('B is a slice of a pickle') // TODO: what?\n\n    // 2. lockstep the iterators while checking for conflicts.\n    while (1) {\n      step(A)\n      step(B)\n      if (blocks[A] && blocks[B]) {\n        // check for conflicts.\n        if (!blocks[A].sig.equals(blocks[B].sig)) throw mkErr('BlockConflict')\n      } else if (!blocks[A] && !blocks[B]) {\n        return 0\n      } else if (!blocks[A]) {\n        // B has some new blocks @ counters[B]\n        return fastForward(B)\n      } else { // !block[B]\n        // No new blocks / B is behind\n        return -fastForward(A)\n      }\n    }\n  }\n\n  inspect (noLog = false) {\n    const header = ['ID', 'KEY', 'SIG', 'PARENT', 'HEX', 'ASCII']\n    const table = [header]\n    const widths = [2]\n    let blockIdx = 0\n    for (const block of this.blocks()) {\n      const utf = block.body.slice(0, 12).toString('utf8')\n      const row = [\n        '' + (blockIdx++),\n        block.key.slice(0, 2).toString('hex'),\n        block.sig.slice(0, 4).toString('hex'),\n        block.isGenesis\n          ? '_GENESIS'\n          : block.parentSig.slice(0, 4).toString('hex'),\n        block.body.slice(0, 6)\n          .toString('hex')\n          .replace(/(.{2})/g, '$1 ')\n          .trimEnd(),\n        utf\n      ]\n\n      // All columns are static width except last utf8\n      for (let i = 0; i < row.length; i++) {\n        widths[i] = Math.max(widths[i] || 0, row[i].length)\n      }\n      table.push(row)\n    }\n\n    const lines = []\n    for (const row of table) {\n      lines.push(' ' + row.map((cell, i) => cell.padEnd(widths[i])).join('  ') + ' ')\n    }\n    lines.splice(1, 0, ''.padEnd(lines[0].length - 1, '') + '')\n    if (!noLog) console.log(lines.join('\\n'))\n    else return lines.join('\\n')\n  }\n\n  static isFeed (other) { return other && other[FEED_SYMBOL] }\n\n  static from (source, opts = {}) {\n    // Warn, feeds are not cloned same way as Buffer.from(aBuffer) produces a copy\n    if (PicoFeed.isFeed(source)) return source\n\n    const feed = new PicoFeed(opts)\n\n    // Upgrade a single mapped block into a feed\n    if (source[BLOCK_SYMBOL]) {\n      feed._ensureKey(source.key)\n      feed._appendBlock(source.buffer)\n\n      // Load string\n    } else if (typeof source === 'string') feed._unpack(source)\n    // Load URL\n    else if (typeof source.hash === 'string') feed._unpack(source.hash)\n    // Load buffers\n    else if (Buffer.isBuffer(source)) {\n      // Assume buffer contains output from feed.pickle()\n      feed._unpack(source.toString('utf8'))\n\n      // We're not handling raw block buffers because you'd need to provide\n      // the tail and _lastBlockOffset in order to iterate them.\n    } else throw new Error('NotAFeed')\n    return feed\n  }\n\n  static signPair () {\n    const sk = Buffer.allocUnsafe(crypto_sign_SECRETKEYBYTES)\n    const pk = Buffer.allocUnsafe(crypto_sign_PUBLICKEYBYTES)\n    crypto_sign_keypair(pk, sk)\n    return { sk, pk }\n  }\n\n  static mapBlock (buf, start = 0, key = null) {\n    /**\n     * Block layout\n     *  ___________\n     * | Signature | <----------.\n     * |-----------|             '.\n     * | ParentSig | -.            '.\n     * |-----------|  |- HEADR ---.  '.\n     * | Body Size | -'           |    '.\n     * |-----------|              |--> Sign(skey, data)\n     * |           |              |\n     * | Body BLOB | -------------'\n     * |           |\n     * `-----------'\n     */\n    const SIG_N = PicoFeed.SIGNATURE_SIZE\n    const COUNT_N = PicoFeed.COUNTER_SIZE\n    const HDR_N = SIG_N + COUNT_N\n    const mapper = {\n      [BLOCK_SYMBOL]: true,\n      get start () { return start },\n      get sig () { return buf.subarray(start, start + SIG_N) },\n      get header () { return buf.subarray(start + SIG_N, start + SIG_N + HDR_N) },\n      get parentSig () { return buf.subarray(start + SIG_N, start + SIG_N + SIG_N) },\n\n      // Unsafe size read, use validateRead to ensure that you're reading a block.\n      get size () { return buf.readUInt32BE(start + SIG_N * 2) },\n      set size (v) {\n        if (typeof v !== 'number' || v < 0 || v + start + SIG_N + HDR_N > buf.length) throw new Error('Invalid blob size')\n        return buf.writeUInt32BE(v, start + SIG_N * 2)\n      },\n      get body () {\n        return buf.subarray(start + SIG_N + HDR_N, mapper.safeEnd)\n      },\n      get dat () {\n        return buf.subarray(start + SIG_N, mapper.safeEnd)\n      },\n      get end () { return start + SIG_N + HDR_N + mapper.size },\n      get safeEnd () {\n        const s = mapper.size\n        if (s < 1) throw new Error('Invalid blob size: ' + s)\n        const end = start + SIG_N + HDR_N + s\n        if (end > buf.length) throw new Error('Incomplete or invalid block: end overflows buffer length' + end)\n        return end\n      },\n      // get _unsafeNext () { return PicoFeed.mapBlock(buf, mapper.end) },\n      get next () { return PicoFeed.mapBlock(buf, mapper.safeEnd) },\n\n      verify (pk) {\n        return crypto_sign_verify_detached(mapper.sig, mapper.dat, pk)\n      },\n      get buffer () { return buf.subarray(start, mapper.safeEnd) },\n\n      get key () {\n        // Key is an experimental feature, fail-fast for now.\n        if (!key) throw new Error('InternalError:MissingKey')\n        return key\n      },\n      set key (pk) {\n        // Key is an experimental feature, fail-fast for now.\n        if (key) throw new Error('InternalError:KeyExists')\n        key = pk\n      },\n\n      get isGenesis () {\n        return GENESIS.equals(mapper.parentSig)\n      },\n\n      [inspectSymbol] () {\n        return `[BlockMapper] start: ${mapper.start}, blocksize: ${mapper.size}, id: ${mapper.sig.slice(0, 6).toString('hex')}, parent: ${mapper.parentSig.slice(0, 6).toString('hex')}`\n      }\n    }\n    return mapper\n  }\n}\n// Url compatible b64\nfunction b2ub (b) {\n  return b.toString('base64').replace(/\\+/, '-').replace(/\\//g, '_').replace(/=+$/, '')\n}\n\nfunction ub2b (str) {\n  str = (str + '===').slice(0, str.length + (str.length % 4))\n  str = str.replace(/-/g, '+').replace(/_/g, '/')\n  return Buffer.from(str, 'base64')\n}\n","/* TODO: move to independent module \"pico-repo\" as this file was cannibalized from PoH\n * So this is going to be a persistent block-store\n * as opposed to picofeed which is an in-memory datatype,\n *\n */\nconst Feed = require('picofeed')\nconst REPO_SYMBOL = Symbol.for('PicoRepo')\nconst HEAD = 0\nconst BLOCK = 1\nconst TAIL = 2\nconst LATEST = 3\nconst REG = 4 // misc\n\nfunction mkKey (type, key) {\n  if (!Buffer.isBuffer(key)) throw new Error('Expected key to be a Buffer')\n  const buffer = Buffer.alloc(1 + key.length)\n  key.copy(buffer, 1)\n  buffer[0] = type\n  return buffer\n}\n\nclass PicoRepo { //  PicoJar (a jar for crypto-pickles)\n  static isRepo (o) { return o && o[REPO_SYMBOL] }\n  constructor (db, strategy = []) {\n    this[REPO_SYMBOL] = true\n    this._db = db\n    // A jar usually boasts a label describing it's contents\n    // so that people know what to expect to get and at least\n    // what not to accidentally put.\n    this._strategies = Array.isArray(strategy) ? strategy : [strategy]\n    for (const s of this._strategies) {\n      if (typeof s !== 'function') throw new Error('ExpectedCallback')\n    }\n  }\n\n  get mkKey () { return mkKey } // minimalistic sub-leveldown alternative\n\n  async _setHeadPtr (name, ptr) {\n    const key = mkKey(HEAD, name)\n    await this._db.put(key, ptr)\n    return ptr\n  }\n\n  async _getHeadPtr (name) {\n    const key = mkKey(HEAD, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async _getTailPtr (name) {\n    const key = mkKey(TAIL, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async _setLatestPtr (name, ptr) {\n    const key = mkKey(LATEST, name)\n    await this._db.put(key, ptr)\n    return ptr\n  }\n\n  async _getLatestPtr (name) {\n    const key = mkKey(LATEST, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async writeBlock (block) {\n    const key = mkKey(BLOCK, block.sig)\n    // TODO: this method used to return false when block exists\n    const buffer = Buffer.alloc(32 + block.buffer.length)\n    block.key.copy(buffer, 0)\n    block.buffer.copy(buffer, 32)\n    await this._db.put(key, buffer)\n    // console.debug('writeBlock: ', key.hexSlice())\n    if (block.isGenesis) {\n      await this._db.put(mkKey(TAIL, block.key), block.sig)\n    }\n    return true\n  }\n\n  async readBlock (id) {\n    const key = mkKey(BLOCK, id)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n\n    if (buffer) return Feed.mapBlock(buffer, 32, buffer.slice(0, 32))\n  }\n\n  // Internal because it performs a full block read, use with care.\n  // (blocks are small in this application, don't care)\n  async _hasBlock (id) {\n    return !!(await this.readBlock(id))\n  }\n\n  async _traceOwnerOf (sig) {\n    // Tricky... trading off some extra index memory could possibly\n    // reduce the need to traverse the chain backwards\n    // I don't know.\n    let n = 0\n    for await (const block of this._chainLoad(sig)) {\n      if (block.isGenesis) return block.key\n      n++\n    }\n    if (n) throw new Error('Orphaned Chain')\n    // else chain not found\n  }\n\n  async merge (feed, strategy) { // or merge() ?\n    if (!Feed.isFeed(feed)) feed = Feed.from(feed)\n    let blocksWritten = 0\n    let owner = null\n    const first = feed.first\n    if (!first) return 0\n    else if (first.isGenesis) owner = first.key\n    else owner = await this._traceOwnerOf(first.parentSig)\n    if (!owner) throw new Error('CannotMerge: Unknown Chain')\n\n    for (const block of feed.blocks()) {\n      const author = block.key\n      const id = block.sig\n\n      // Ignore existing blocks\n      if (await this._hasBlock(id)) continue\n\n      const bumpHead = async () => {\n        await this.writeBlock(block)\n        await this._setHeadPtr(owner, block.sig)\n        await this._setLatestPtr(author, block.sig)\n        blocksWritten++\n      }\n\n      // fetch current head\n      const head = await this._getHeadPtr(owner)\n\n      // Allow creation of new heads\n      if (!head) {\n        await bumpHead()\n        continue\n      }\n\n      // skip ahead when previous head points to parent of new block\n      if (head.equals(block.parentSig)) {\n        await bumpHead()\n        continue\n      }\n\n      // Abort if no verifiably common parent in repo\n      // console.debug('haveParent?: ', block.parentSig.hexSlice())\n      if (!(await this._hasBlock(block.parentSig))) break\n\n      // Fast-forward when previous head is an ancestor\n      let isAncestor = false\n      for await (const parentBlock of this._chainLoad(block.parentSig)) {\n        if (head.equals(parentBlock.sig)) {\n          isAncestor = true\n          break // break inner _chainLoad loop\n        }\n      }\n      if (isAncestor) {\n        await bumpHead()\n        continue\n      }\n\n      // Let user-logic decide if this block should\n      // be accepted as a new head\n      if (await this._queryUserStrategy(block, strategy)) {\n        await bumpHead()\n        continue\n      }\n      break // No strategy allowed this transition, abort merge\n    }\n    return blocksWritten\n  }\n\n  async _queryUserStrategy (block, inlineStrategy) {\n    for (const strategy of [inlineStrategy, ...this._strategies]) {\n      if (!strategy) continue\n      const p = strategy(block, this)\n      if (typeof p.then !== 'function') throw new Error('PromiseExpected')\n      if (await p) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Loads feed from pubkey's personal feed\n   */\n  async loadHead (key, stopCallback = undefined) {\n    const head = await this._getHeadPtr(key)\n    if (head) return this.loadFeed(head, stopCallback)\n  }\n\n  /**\n   * Loads feed from pubkey's latest block and backwards\n   */\n  async loadLatest (key, stopCallback = undefined) {\n    const head = await this._getLatestPtr(key)\n    if (head) return this.loadFeed(head, stopCallback)\n  }\n\n  async loadFeed (ptr, stopCallback = undefined) {\n    let limit = 0\n    if (Number.isInteger(stopCallback) && stopCallback > 0) limit = stopCallback\n    if (limit) stopCallback = (_, after) => !--limit && after(true)\n    const pending = []\n    for await (const block of this._chainLoad(ptr)) {\n      /* If needed async abort use this instead.\n      if (typeof stopCallback === 'function') {\n        const abort = await defer(d => stopCallback(d.bind(null, null)))\n        if (abort) break\n      }\n      */\n      let abort = false\n      let abortAfter = false\n      if (typeof stopCallback === 'function') {\n        stopCallback(block, after => {\n          if (after) abortAfter = true\n          else abort = true\n        })\n      }\n\n      // Append block to in-memory feed\n      if (!abort) {\n        pending.unshift(block)\n      }\n\n      // Break loop to stop the chainloader\n      if (abortAfter || abort) break\n    }\n\n    // Merge all pending blocks in a forward fashion to avoid\n    // duplicate revalidations\n    const feed = new Feed()\n    for (const block of pending) {\n      const merged = feed.merge(block)\n      if (!merged) throw new Error('InternalError:CannotRestoreStoredBlock')\n    }\n    if (feed.length) return feed\n  }\n\n  async * _chainLoad (next) {\n    let first = true\n    while (true) {\n      const block = await this.readBlock(next)\n      if (!block && first) break // chain not found, silent\n      first = false\n      if (!block) throw new Error('ParentNotFound') // broken chain, loud\n      yield block\n      if (block.isGenesis) break // We've hit a genesis block\n      next = block.parentSig\n    }\n  }\n\n  async rollback (head, ptr) {\n    let stopHit = false\n    const evicted = await this.loadHead(head, (block, abort) => {\n      if (ptr && block.sig.equals(ptr)) {\n        stopHit = true\n        abort()\n      }\n    })\n    if (ptr && !stopHit) throw new Error('ReferenceNotFound')\n\n    const batch = []\n    const relocate = []\n    const latest = {}\n    for (let i = evicted.length - 1; i >= 0; i--) {\n      const block = evicted.get(i)\n      const key = block.key.toString('hex')\n      if (!latest[key]) latest[key] = await this._getLatestPtr(block.key)\n      // detect if latest-ptr needs to be adjusted\n      if (latest[key]?.equals(block.sig)) {\n        relocate.push(block.key)\n      }\n      // Delete block op\n      batch.push({ type: 'del', key: mkKey(BLOCK, block.sig) })\n    }\n    /*\n     * Latest tags are not used atm. maybe let's just relocate them to\n     * their respective heads after rollback, it's not correct but\n     * better than nothing.\n     */\n    /*\n    const newTags = []\n    for await (const block of this._chainLoad(ptr)) {\n      if (!relocate.length) break\n      const idx = relocate.findIndex(k => k.equals(block.key))\n      if (~idx) {\n        newTags.push({\n          key: relocate[idx],\n          ptr: block.sig\n        })\n        relocate.splice(idx, 1)\n      }\n    } */\n\n    // Adjust new head\n    batch.push({ type: 'del', key: mkKey(HEAD, head) })\n    if (ptr) batch.push({ type: 'put', key: mkKey(HEAD, head), value: ptr })\n    else if (!evicted.first.isGenesis) {\n      batch.push({ type: 'put', key: mkKey(HEAD, head), value: evicted.first.parentSig })\n    }\n    // For now, purge all deleted 'latest'-tags\n    for (const key of relocate) {\n      batch.push({ type: 'del', key: mkKey(LATEST, key) })\n    }\n\n    await this._db.batch(batch)\n    return evicted\n  }\n\n  // Expose some wrappers to avoid invoking internal API directly\n  get headOf () { return this._getHeadPtr }\n  get tailOf () { return this._getTailPtr }\n  get latestOf () { return this._getLatestPtr }\n  get chainload () { return this._chainLoad }\n  get ownerOf () { return this._traceOwnerOf }\n\n  /* Signatures are keys are 32bytes in size and are duplicated\n   * into every block blob, an idea was to use a varint keyId to make each\n   * block 28bytes smaller on disk. Buuuuut:\n   * Let's waste some storage for alpha version.\n  async _readCounter (keepOpen = false) {\n    const file = this._store('key_counter')\n    const val = await defer(d => file.read(0, 64, d))\n      .then(b => b.readUInt32BE())\n      .catch(err => {\n        console.warn('Failed reading counter, resetting to 0', err)\n        return 0\n      })\n    if (this._autoClose && !keepOpen) await defer(d => file.close(d))\n    return val\n  }\n\n  async _incrementCounter () {\n    const file = this._store('key_counter')\n    let val = await this._readCounter(true)\n    const buf = Buffer.alloc(4)\n    buf.writeUInt32BE(++val)\n    await defer(d => file.write(0, buf, d))\n    if (this._autoClose) await defer(d => file.close(d))\n    return val\n  }\n  */\n\n  async writeReg (key, value) {\n    const bkey = mkKey(REG, Buffer.from(key))\n    await this._db.put(bkey, Buffer.from(value))\n    return true\n  }\n\n  async readReg (key) {\n    const bkey = mkKey(REG, Buffer.from(key))\n    const value = await this._db.get(bkey)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return value\n  }\n\n  async listHeads () {\n    const query = {\n      gt: mkKey(HEAD, Buffer.alloc(32).fill(0)),\n      lt: mkKey(HEAD, Buffer.alloc(32).fill(0xff))\n    }\n    const iter = this._db.iterator(query)\n    const result = []\n    while (true) {\n      try {\n        const [key, value] = await new Promise((resolve, reject) => {\n          iter.next((err, key, value) => {\n            if (err) reject(err)\n            else resolve([key, value])\n          })\n        })\n        if (!key) break\n        result.push({ key: key.slice(1), value })\n      } catch (err) {\n        console.warn('Iterator died with an error', err)\n        break\n      }\n    }\n    await new Promise((resolve, reject) => {\n      iter.end(err => err ? reject(err) : resolve())\n    })\n    return result\n  }\n}\n\nmodule.exports = PicoRepo\n","\"use strict\"\r\nvar decoder\r\ntry {\r\n\tdecoder = new TextDecoder()\r\n} catch(error) {}\r\nvar src\r\nvar srcEnd\r\nvar position = 0\r\nvar alreadySet\r\nconst EMPTY_ARRAY = []\r\nvar strings = EMPTY_ARRAY\r\nvar stringPosition = 0\r\nvar currentUnpackr = {}\r\nvar currentStructures\r\nvar srcString\r\nvar srcStringStart = 0\r\nvar srcStringEnd = 0\r\nvar referenceMap\r\nvar currentExtensions = []\r\nvar dataView\r\nvar defaultOptions = {\r\n\tuseRecords: false,\r\n\tmapsAsObjects: true\r\n}\r\nexport class C1Type {}\r\nexport const C1 = new C1Type()\r\nC1.name = 'MessagePack 0xC1'\r\nvar sequentialMode = false\r\n\r\nexport class Unpackr {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tif (options.useRecords === false && options.mapsAsObjects === undefined)\r\n\t\t\t\toptions.mapsAsObjects = true\r\n\t\t\tif (options.structures)\r\n\t\t\t\toptions.structures.sharedLength = options.structures.length\r\n\t\t\telse if (options.getStructures) {\r\n\t\t\t\t(options.structures = []).uninitialized = true // this is what we use to denote an uninitialized structures\r\n\t\t\t\toptions.structures.sharedLength = 0\r\n\t\t\t}\r\n\t\t}\r\n\t\tObject.assign(this, options)\r\n\t}\r\n\tunpack(source, end) {\r\n\t\tif (src) {\r\n\t\t\t// re-entrant execution, save the state and restore it after we do this unpack\r\n\t\t\treturn saveState(() => {\r\n\t\t\t\tclearSource()\r\n\t\t\t\treturn this ? this.unpack(source, end) : Unpackr.prototype.unpack.call(defaultOptions, source, end)\r\n\t\t\t})\r\n\t\t}\r\n\t\tsrcEnd = end > -1 ? end : source.length\r\n\t\tposition = 0\r\n\t\tstringPosition = 0\r\n\t\tsrcStringEnd = 0\r\n\t\tsrcString = null\r\n\t\tstrings = EMPTY_ARRAY\r\n\t\tsrc = source\r\n\t\t// this provides cached access to the data view for a buffer if it is getting reused, which is a recommend\r\n\t\t// technique for getting data from a database where it can be copied into an existing buffer instead of creating\r\n\t\t// new ones\r\n\t\ttry {\r\n\t\t\tdataView = source.dataView || (source.dataView = new DataView(source.buffer, source.byteOffset, source.byteLength))\r\n\t\t} catch(error) {\r\n\t\t\t// if it doesn't have a buffer, maybe it is the wrong type of object\r\n\t\t\tsrc = null\r\n\t\t\tif (source instanceof Uint8Array)\r\n\t\t\t\tthrow error\r\n\t\t\tthrow new Error('Source must be a Uint8Array or Buffer but was a ' + ((source && typeof source == 'object') ? source.constructor.name : typeof source))\r\n\t\t}\r\n\t\tif (this instanceof Unpackr) {\r\n\t\t\tcurrentUnpackr = this\r\n\t\t\tif (this.structures) {\r\n\t\t\t\tcurrentStructures = this.structures\r\n\t\t\t\treturn checkedRead()\r\n\t\t\t} else if (!currentStructures || currentStructures.length > 0) {\r\n\t\t\t\tcurrentStructures = []\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcurrentUnpackr = defaultOptions\r\n\t\t\tif (!currentStructures || currentStructures.length > 0)\r\n\t\t\t\tcurrentStructures = []\r\n\t\t}\r\n\t\treturn checkedRead()\r\n\t}\r\n\tunpackMultiple(source, forEach) {\r\n\t\tlet values, lastPosition = 0\r\n\t\ttry {\r\n\t\t\tsequentialMode = true\r\n\t\t\tlet size = source.length\r\n\t\t\tlet value = this ? this.unpack(source, size) : defaultUnpackr.unpack(source, size)\r\n\t\t\tif (forEach) {\r\n\t\t\t\tforEach(value)\r\n\t\t\t\twhile(position < size) {\r\n\t\t\t\t\tlastPosition = position\r\n\t\t\t\t\tif (forEach(checkedRead()) === false) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvalues = [ value ]\r\n\t\t\t\twhile(position < size) {\r\n\t\t\t\t\tlastPosition = position\r\n\t\t\t\t\tvalues.push(checkedRead())\r\n\t\t\t\t}\r\n\t\t\t\treturn values\r\n\t\t\t}\r\n\t\t} catch(error) {\r\n\t\t\terror.lastPosition = lastPosition\r\n\t\t\terror.values = values\r\n\t\t\tthrow error\r\n\t\t} finally {\r\n\t\t\tsequentialMode = false\r\n\t\t\tclearSource()\r\n\t\t}\r\n\t}\r\n\t_mergeStructures(loadedStructures, existingStructures) {\r\n\t\tloadedStructures = loadedStructures || []\r\n\t\tfor (let i = 0, l = loadedStructures.length; i < l; i++) {\r\n\t\t\tlet structure = loadedStructures[i]\r\n\t\t\tif (structure) {\r\n\t\t\t\tstructure.isShared = true\r\n\t\t\t\tif (i >= 32)\r\n\t\t\t\t\tstructure.highByte = (i - 32) >> 5\r\n\t\t\t}\r\n\t\t}\r\n\t\tloadedStructures.sharedLength = loadedStructures.length\r\n\t\tfor (let id in existingStructures || []) {\r\n\t\t\tif (id >= 0) {\r\n\t\t\t\tlet structure = loadedStructures[id]\r\n\t\t\t\tlet existing = existingStructures[id]\r\n\t\t\t\tif (existing) {\r\n\t\t\t\t\tif (structure)\r\n\t\t\t\t\t\t(loadedStructures.restoreStructures || (loadedStructures.restoreStructures = []))[id] = structure\r\n\t\t\t\t\tloadedStructures[id] = existing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.structures = loadedStructures\r\n\t}\r\n\tdecode(source, end) {\r\n\t\treturn this.unpack(source, end)\r\n\t}\r\n}\r\nexport function getPosition() {\r\n\treturn position\r\n}\r\nexport function checkedRead() {\r\n\ttry {\r\n\t\tif (!currentUnpackr.trusted && !sequentialMode) {\r\n\t\t\tlet sharedLength = currentStructures.sharedLength || 0\r\n\t\t\tif (sharedLength < currentStructures.length)\r\n\t\t\t\tcurrentStructures.length = sharedLength\r\n\t\t}\r\n\t\tlet result = read()\r\n\t\tif (position == srcEnd) {\r\n\t\t\t// finished reading this source, cleanup references\r\n\t\t\tif (currentStructures.restoreStructures)\r\n\t\t\t\trestoreStructures()\r\n\t\t\tcurrentStructures = null\r\n\t\t\tsrc = null\r\n\t\t\tif (referenceMap)\r\n\t\t\t\treferenceMap = null\r\n\t\t} else if (position > srcEnd) {\r\n\t\t\t// over read\r\n\t\t\tlet error = new Error('Unexpected end of MessagePack data')\r\n\t\t\terror.incomplete = true\r\n\t\t\tthrow error\r\n\t\t} else if (!sequentialMode) {\r\n\t\t\tthrow new Error('Data read, but end of buffer not reached')\r\n\t\t}\r\n\t\t// else more to read, but we are reading sequentially, so don't clear source yet\r\n\t\treturn result\r\n\t} catch(error) {\r\n\t\tif (currentStructures.restoreStructures)\r\n\t\t\trestoreStructures()\r\n\t\tclearSource()\r\n\t\tif (error instanceof RangeError || error.message.startsWith('Unexpected end of buffer')) {\r\n\t\t\terror.incomplete = true\r\n\t\t}\r\n\t\tthrow error\r\n\t}\r\n}\r\n\r\nfunction restoreStructures() {\r\n\tfor (let id in currentStructures.restoreStructures) {\r\n\t\tcurrentStructures[id] = currentStructures.restoreStructures[id]\r\n\t}\r\n\tcurrentStructures.restoreStructures = null\r\n}\r\n\r\nexport function read() {\r\n\tlet token = src[position++]\r\n\tif (token < 0xa0) {\r\n\t\tif (token < 0x80) {\r\n\t\t\tif (token < 0x40)\r\n\t\t\t\treturn token\r\n\t\t\telse {\r\n\t\t\t\tlet structure = currentStructures[token & 0x3f] ||\r\n\t\t\t\t\tcurrentUnpackr.getStructures && loadStructures()[token & 0x3f]\r\n\t\t\t\tif (structure) {\r\n\t\t\t\t\tif (!structure.read) {\r\n\t\t\t\t\t\tstructure.read = createStructureReader(structure, token & 0x3f)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn structure.read()\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn token\r\n\t\t\t}\r\n\t\t} else if (token < 0x90) {\r\n\t\t\t// map\r\n\t\t\ttoken -= 0x80\r\n\t\t\tif (currentUnpackr.mapsAsObjects) {\r\n\t\t\t\tlet object = {}\r\n\t\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\t\tobject[readKey()] = read()\r\n\t\t\t\t}\r\n\t\t\t\treturn object\r\n\t\t\t} else {\r\n\t\t\t\tlet map = new Map()\r\n\t\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\t\tmap.set(read(), read())\r\n\t\t\t\t}\r\n\t\t\t\treturn map\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoken -= 0x90\r\n\t\t\tlet array = new Array(token)\r\n\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\tarray[i] = read()\r\n\t\t\t}\r\n\t\t\treturn array\r\n\t\t}\r\n\t} else if (token < 0xc0) {\r\n\t\t// fixstr\r\n\t\tlet length = token - 0xa0\r\n\t\tif (srcStringEnd >= position) {\r\n\t\t\treturn srcString.slice(position - srcStringStart, (position += length) - srcStringStart)\r\n\t\t}\r\n\t\tif (srcStringEnd == 0 && srcEnd < 140) {\r\n\t\t\t// for small blocks, avoiding the overhead of the extract call is helpful\r\n\t\t\tlet string = length < 16 ? shortStringInJS(length) : longStringInJS(length)\r\n\t\t\tif (string != null)\r\n\t\t\t\treturn string\r\n\t\t}\r\n\t\treturn readFixedString(length)\r\n\t} else {\r\n\t\tlet value\r\n\t\tswitch (token) {\r\n\t\t\tcase 0xc0: return null\r\n\t\t\tcase 0xc1: return C1; // \"never-used\", return special object to denote that\r\n\t\t\tcase 0xc2: return false\r\n\t\t\tcase 0xc3: return true\r\n\t\t\tcase 0xc4:\r\n\t\t\t\t// bin 8\r\n\t\t\t\treturn readBin(src[position++])\r\n\t\t\tcase 0xc5:\r\n\t\t\t\t// bin 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readBin(value)\r\n\t\t\tcase 0xc6:\r\n\t\t\t\t// bin 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readBin(value)\r\n\t\t\tcase 0xc7:\r\n\t\t\t\t// ext 8\r\n\t\t\t\treturn readExt(src[position++])\r\n\t\t\tcase 0xc8:\r\n\t\t\t\t// ext 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readExt(value)\r\n\t\t\tcase 0xc9:\r\n\t\t\t\t// ext 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readExt(value)\r\n\t\t\tcase 0xca:\r\n\t\t\t\tvalue = dataView.getFloat32(position)\r\n\t\t\t\tif (currentUnpackr.useFloat32 > 2) {\r\n\t\t\t\t\t// this does rounding of numbers that were encoded in 32-bit float to nearest significant decimal digit that could be preserved\r\n\t\t\t\t\tlet multiplier = mult10[((src[position] & 0x7f) << 1) | (src[position + 1] >> 7)]\r\n\t\t\t\t\tposition += 4\r\n\t\t\t\t\treturn ((multiplier * value + (value > 0 ? 0.5 : -0.5)) >> 0) / multiplier\r\n\t\t\t\t}\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xcb:\r\n\t\t\t\tvalue = dataView.getFloat64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\t\t\t// uint handlers\r\n\t\t\tcase 0xcc:\r\n\t\t\t\treturn src[position++]\r\n\t\t\tcase 0xcd:\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xce:\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xcf:\r\n\t\t\t\tif (currentUnpackr.int64AsNumber) {\r\n\t\t\t\t\tvalue = dataView.getUint32(position) * 0x100000000\r\n\t\t\t\t\tvalue += dataView.getUint32(position + 4)\r\n\t\t\t\t} else\r\n\t\t\t\t\tvalue = dataView.getBigUint64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\r\n\t\t\t// int handlers\r\n\t\t\tcase 0xd0:\r\n\t\t\t\treturn dataView.getInt8(position++)\r\n\t\t\tcase 0xd1:\r\n\t\t\t\tvalue = dataView.getInt16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xd2:\r\n\t\t\t\tvalue = dataView.getInt32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xd3:\r\n\t\t\t\tif (currentUnpackr.int64AsNumber) {\r\n\t\t\t\t\tvalue = dataView.getInt32(position) * 0x100000000\r\n\t\t\t\t\tvalue += dataView.getUint32(position + 4)\r\n\t\t\t\t} else\r\n\t\t\t\t\tvalue = dataView.getBigInt64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\r\n\t\t\tcase 0xd4:\r\n\t\t\t\t// fixext 1\r\n\t\t\t\tvalue = src[position++]\r\n\t\t\t\tif (value == 0x72) {\r\n\t\t\t\t\treturn recordDefinition(src[position++] & 0x3f)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet extension = currentExtensions[value]\r\n\t\t\t\t\tif (extension) {\r\n\t\t\t\t\t\tif (extension.read) {\r\n\t\t\t\t\t\t\tposition++ // skip filler byte\r\n\t\t\t\t\t\t\treturn extension.read(read())\r\n\t\t\t\t\t\t} else if (extension.noBuffer) {\r\n\t\t\t\t\t\t\tposition++ // skip filler byte\r\n\t\t\t\t\t\t\treturn extension()\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\treturn extension(src.subarray(position, ++position))\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tthrow new Error('Unknown extension ' + value)\r\n\t\t\t\t}\r\n\t\t\tcase 0xd5:\r\n\t\t\t\t// fixext 2\r\n\t\t\t\tvalue = src[position]\r\n\t\t\t\tif (value == 0x72) {\r\n\t\t\t\t\tposition++\r\n\t\t\t\t\treturn recordDefinition(src[position++] & 0x3f, src[position++])\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn readExt(2)\r\n\t\t\tcase 0xd6:\r\n\t\t\t\t// fixext 4\r\n\t\t\t\treturn readExt(4)\r\n\t\t\tcase 0xd7:\r\n\t\t\t\t// fixext 8\r\n\t\t\t\treturn readExt(8)\r\n\t\t\tcase 0xd8:\r\n\t\t\t\t// fixext 16\r\n\t\t\t\treturn readExt(16)\r\n\t\t\tcase 0xd9:\r\n\t\t\t// str 8\r\n\t\t\t\tvalue = src[position++]\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString8(value)\r\n\t\t\tcase 0xda:\r\n\t\t\t// str 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString16(value)\r\n\t\t\tcase 0xdb:\r\n\t\t\t// str 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString32(value)\r\n\t\t\tcase 0xdc:\r\n\t\t\t// array 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readArray(value)\r\n\t\t\tcase 0xdd:\r\n\t\t\t// array 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readArray(value)\r\n\t\t\tcase 0xde:\r\n\t\t\t// map 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readMap(value)\r\n\t\t\tcase 0xdf:\r\n\t\t\t// map 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readMap(value)\r\n\t\t\tdefault: // negative int\r\n\t\t\t\tif (token >= 0xe0)\r\n\t\t\t\t\treturn token - 0x100\r\n\t\t\t\tif (token === undefined) {\r\n\t\t\t\t\tlet error = new Error('Unexpected end of MessagePack data')\r\n\t\t\t\t\terror.incomplete = true\r\n\t\t\t\t\tthrow error\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error('Unknown MessagePack token ' + token)\r\n\r\n\t\t}\r\n\t}\r\n}\r\nconst validName = /^[a-zA-Z_$][a-zA-Z\\d_$]*$/\r\nfunction createStructureReader(structure, firstId) {\r\n\tfunction readObject() {\r\n\t\t// This initial function is quick to instantiate, but runs slower. After several iterations pay the cost to build the faster function\r\n\t\tif (readObject.count++ > 2) {\r\n\t\t\tlet readObject = structure.read = (new Function('r', 'return function(){return {' + structure.map(key => validName.test(key) ? key + ':r()' : ('[' + JSON.stringify(key) + ']:r()')).join(',') + '}}'))(read)\r\n\t\t\tif (structure.highByte === 0)\r\n\t\t\t\tstructure.read = createSecondByteReader(firstId, structure.read)\r\n\t\t\treturn readObject() // second byte is already read, if there is one so immediately read object\r\n\t\t}\r\n\t\tlet object = {}\r\n\t\tfor (let i = 0, l = structure.length; i < l; i++) {\r\n\t\t\tlet key = structure[i]\r\n\t\t\tobject[key] = read()\r\n\t\t}\r\n\t\treturn object\r\n\t}\r\n\treadObject.count = 0\r\n\tif (structure.highByte === 0) {\r\n\t\treturn createSecondByteReader(firstId, readObject)\r\n\t}\r\n\treturn readObject\r\n}\r\n\r\nconst createSecondByteReader = (firstId, read0) => {\r\n\treturn function() {\r\n\t\tlet highByte = src[position++]\r\n\t\tif (highByte === 0)\r\n\t\t\treturn read0()\r\n\t\tlet id = firstId < 32 ? -(firstId + (highByte << 5)) : firstId + (highByte << 5)\r\n\t\tlet structure = currentStructures[id] || loadStructures()[id]\r\n\t\tif (!structure) {\r\n\t\t\tthrow new Error('Record id is not defined for ' + id)\r\n\t\t}\r\n\t\tif (!structure.read)\r\n\t\t\tstructure.read = createStructureReader(structure, firstId)\r\n\t\treturn structure.read()\r\n\t}\r\n}\r\n\r\nfunction loadStructures() {\r\n\tlet loadedStructures = saveState(() => {\r\n\t\t// save the state in case getStructures modifies our buffer\r\n\t\tsrc = null\r\n\t\treturn currentUnpackr.getStructures()\r\n\t})\r\n\treturn currentStructures = currentUnpackr._mergeStructures(loadedStructures, currentStructures)\r\n}\r\n\r\nvar readFixedString = readStringJS\r\nvar readString8 = readStringJS\r\nvar readString16 = readStringJS\r\nvar readString32 = readStringJS\r\nexport let isNativeAccelerationEnabled = false\r\n\r\nexport function setExtractor(extractStrings) {\r\n\tisNativeAccelerationEnabled = true\r\n\treadFixedString = readString(1)\r\n\treadString8 = readString(2)\r\n\treadString16 = readString(3)\r\n\treadString32 = readString(5)\r\n\tfunction readString(headerLength) {\r\n\t\treturn function readString(length) {\r\n\t\t\tlet string = strings[stringPosition++]\r\n\t\t\tif (string == null) {\r\n\t\t\t\tlet extraction = extractStrings(position - headerLength, srcEnd, src)\r\n\t\t\t\tif (typeof extraction == 'string') {\r\n\t\t\t\t\tstring = extraction\r\n\t\t\t\t\tstrings = EMPTY_ARRAY\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrings = extraction\r\n\t\t\t\t\tstringPosition = 1\r\n\t\t\t\t\tsrcStringEnd = 1 // even if a utf-8 string was decoded, must indicate we are in the midst of extracted strings and can't skip strings\r\n\t\t\t\t\tstring = strings[0]\r\n\t\t\t\t\tif (string === undefined)\r\n\t\t\t\t\t\tthrow new Error('Unexpected end of buffer')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet srcStringLength = string.length\r\n\t\t\tif (srcStringLength <= length) {\r\n\t\t\t\tposition += length\r\n\t\t\t\treturn string\r\n\t\t\t}\r\n\t\t\tsrcString = string\r\n\t\t\tsrcStringStart = position\r\n\t\t\tsrcStringEnd = position + srcStringLength\r\n\t\t\tposition += length\r\n\t\t\treturn string.slice(0, length) // we know we just want the beginning\r\n\t\t}\r\n\t}\r\n}\r\nfunction readStringJS(length) {\r\n\tlet result\r\n\tif (length < 16) {\r\n\t\tif (result = shortStringInJS(length))\r\n\t\t\treturn result\r\n\t}\r\n\tif (length > 64 && decoder)\r\n\t\treturn decoder.decode(src.subarray(position, position += length))\r\n\tconst end = position + length\r\n\tconst units = []\r\n\tresult = ''\r\n\twhile (position < end) {\r\n\t\tconst byte1 = src[position++]\r\n\t\tif ((byte1 & 0x80) === 0) {\r\n\t\t\t// 1 byte\r\n\t\t\tunits.push(byte1)\r\n\t\t} else if ((byte1 & 0xe0) === 0xc0) {\r\n\t\t\t// 2 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tunits.push(((byte1 & 0x1f) << 6) | byte2)\r\n\t\t} else if ((byte1 & 0xf0) === 0xe0) {\r\n\t\t\t// 3 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tconst byte3 = src[position++] & 0x3f\r\n\t\t\tunits.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3)\r\n\t\t} else if ((byte1 & 0xf8) === 0xf0) {\r\n\t\t\t// 4 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tconst byte3 = src[position++] & 0x3f\r\n\t\t\tconst byte4 = src[position++] & 0x3f\r\n\t\t\tlet unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4\r\n\t\t\tif (unit > 0xffff) {\r\n\t\t\t\tunit -= 0x10000\r\n\t\t\t\tunits.push(((unit >>> 10) & 0x3ff) | 0xd800)\r\n\t\t\t\tunit = 0xdc00 | (unit & 0x3ff)\r\n\t\t\t}\r\n\t\t\tunits.push(unit)\r\n\t\t} else {\r\n\t\t\tunits.push(byte1)\r\n\t\t}\r\n\r\n\t\tif (units.length >= 0x1000) {\r\n\t\t\tresult += fromCharCode.apply(String, units)\r\n\t\t\tunits.length = 0\r\n\t\t}\r\n\t}\r\n\r\n\tif (units.length > 0) {\r\n\t\tresult += fromCharCode.apply(String, units)\r\n\t}\r\n\r\n\treturn result\r\n}\r\n\r\nfunction readArray(length) {\r\n\tlet array = new Array(length)\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tarray[i] = read()\r\n\t}\r\n\treturn array\r\n}\r\n\r\nfunction readMap(length) {\r\n\tif (currentUnpackr.mapsAsObjects) {\r\n\t\tlet object = {}\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tobject[readKey()] = read()\r\n\t\t}\r\n\t\treturn object\r\n\t} else {\r\n\t\tlet map = new Map()\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tmap.set(read(), read())\r\n\t\t}\r\n\t\treturn map\r\n\t}\r\n}\r\n\r\nvar fromCharCode = String.fromCharCode\r\nfunction longStringInJS(length) {\r\n\tlet start = position\r\n\tlet bytes = new Array(length)\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tconst byte = src[position++];\r\n\t\tif ((byte & 0x80) > 0) {\r\n\t\t\tposition = start\r\n    \t\t\treturn\r\n    \t\t}\r\n    \t\tbytes[i] = byte\r\n    \t}\r\n    \treturn fromCharCode.apply(String, bytes)\r\n}\r\nfunction shortStringInJS(length) {\r\n\tif (length < 4) {\r\n\t\tif (length < 2) {\r\n\t\t\tif (length === 0)\r\n\t\t\t\treturn ''\r\n\t\t\telse {\r\n\t\t\t\tlet a = src[position++]\r\n\t\t\t\tif ((a & 0x80) > 1) {\r\n\t\t\t\t\tposition -= 1\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet a = src[position++]\r\n\t\t\tlet b = src[position++]\r\n\t\t\tif ((a & 0x80) > 0 || (b & 0x80) > 0) {\r\n\t\t\t\tposition -= 2\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 3)\r\n\t\t\t\treturn fromCharCode(a, b)\r\n\t\t\tlet c = src[position++]\r\n\t\t\tif ((c & 0x80) > 0) {\r\n\t\t\t\tposition -= 3\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn fromCharCode(a, b, c)\r\n\t\t}\r\n\t} else {\r\n\t\tlet a = src[position++]\r\n\t\tlet b = src[position++]\r\n\t\tlet c = src[position++]\r\n\t\tlet d = src[position++]\r\n\t\tif ((a & 0x80) > 0 || (b & 0x80) > 0 || (c & 0x80) > 0 || (d & 0x80) > 0) {\r\n\t\t\tposition -= 4\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (length < 6) {\r\n\t\t\tif (length === 4)\r\n\t\t\t\treturn fromCharCode(a, b, c, d)\r\n\t\t\telse {\r\n\t\t\t\tlet e = src[position++]\r\n\t\t\t\tif ((e & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 5\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e)\r\n\t\t\t}\r\n\t\t} else if (length < 8) {\r\n\t\t\tlet e = src[position++]\r\n\t\t\tlet f = src[position++]\r\n\t\t\tif ((e & 0x80) > 0 || (f & 0x80) > 0) {\r\n\t\t\t\tposition -= 6\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 7)\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e, f)\r\n\t\t\tlet g = src[position++]\r\n\t\t\tif ((g & 0x80) > 0) {\r\n\t\t\t\tposition -= 7\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn fromCharCode(a, b, c, d, e, f, g)\r\n\t\t} else {\r\n\t\t\tlet e = src[position++]\r\n\t\t\tlet f = src[position++]\r\n\t\t\tlet g = src[position++]\r\n\t\t\tlet h = src[position++]\r\n\t\t\tif ((e & 0x80) > 0 || (f & 0x80) > 0 || (g & 0x80) > 0 || (h & 0x80) > 0) {\r\n\t\t\t\tposition -= 8\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 10) {\r\n\t\t\t\tif (length === 8)\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h)\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet i = src[position++]\r\n\t\t\t\t\tif ((i & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 9\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i)\r\n\t\t\t\t}\r\n\t\t\t} else if (length < 12) {\r\n\t\t\t\tlet i = src[position++]\r\n\t\t\t\tlet j = src[position++]\r\n\t\t\t\tif ((i & 0x80) > 0 || (j & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 10\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (length < 11)\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j)\r\n\t\t\t\tlet k = src[position++]\r\n\t\t\t\tif ((k & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 11\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k)\r\n\t\t\t} else {\r\n\t\t\t\tlet i = src[position++]\r\n\t\t\t\tlet j = src[position++]\r\n\t\t\t\tlet k = src[position++]\r\n\t\t\t\tlet l = src[position++]\r\n\t\t\t\tif ((i & 0x80) > 0 || (j & 0x80) > 0 || (k & 0x80) > 0 || (l & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 12\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (length < 14) {\r\n\t\t\t\t\tif (length === 12)\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l)\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlet m = src[position++]\r\n\t\t\t\t\t\tif ((m & 0x80) > 0) {\r\n\t\t\t\t\t\t\tposition -= 13\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet m = src[position++]\r\n\t\t\t\t\tlet n = src[position++]\r\n\t\t\t\t\tif ((m & 0x80) > 0 || (n & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 14\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (length < 15)\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m, n)\r\n\t\t\t\t\tlet o = src[position++]\r\n\t\t\t\t\tif ((o & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 15\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction readBin(length) {\r\n\treturn currentUnpackr.copyBuffers ?\r\n\t\t// specifically use the copying slice (not the node one)\r\n\t\tUint8Array.prototype.slice.call(src, position, position += length) :\r\n\t\tsrc.subarray(position, position += length)\r\n}\r\nfunction readExt(length) {\r\n\tlet type = src[position++]\r\n\tif (currentExtensions[type]) {\r\n\t\treturn currentExtensions[type](src.subarray(position, position += length))\r\n\t}\r\n\telse\r\n\t\tthrow new Error('Unknown extension type ' + type)\r\n}\r\n\r\nvar keyCache = new Array(4096)\r\nfunction readKey() {\r\n\tlet length = src[position++]\r\n\tif (length >= 0xa0 && length < 0xc0) {\r\n\t\t// fixstr, potentially use key cache\r\n\t\tlength = length - 0xa0\r\n\t\tif (srcStringEnd >= position) // if it has been extracted, must use it (and faster anyway)\r\n\t\t\treturn srcString.slice(position - srcStringStart, (position += length) - srcStringStart)\r\n\t\telse if (!(srcStringEnd == 0 && srcEnd < 180))\r\n\t\t\treturn readFixedString(length)\r\n\t} else { // not cacheable, go back and do a standard read\r\n\t\tposition--\r\n\t\treturn read()\r\n\t}\r\n\tlet key = ((length << 5) ^ (length > 1 ? dataView.getUint16(position) : length > 0 ? src[position] : 0)) & 0xfff\r\n\tlet entry = keyCache[key]\r\n\tlet checkPosition = position\r\n\tlet end = position + length - 3\r\n\tlet chunk\r\n\tlet i = 0\r\n\tif (entry && entry.bytes == length) {\r\n\t\twhile (checkPosition < end) {\r\n\t\t\tchunk = dataView.getUint32(checkPosition)\r\n\t\t\tif (chunk != entry[i++]) {\r\n\t\t\t\tcheckPosition = 0x70000000\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tcheckPosition += 4\r\n\t\t}\r\n\t\tend += 3\r\n\t\twhile (checkPosition < end) {\r\n\t\t\tchunk = src[checkPosition++]\r\n\t\t\tif (chunk != entry[i++]) {\r\n\t\t\t\tcheckPosition = 0x70000000\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (checkPosition === end) {\r\n\t\t\tposition = checkPosition\r\n\t\t\treturn entry.string\r\n\t\t}\r\n\t\tend -= 3\r\n\t\tcheckPosition = position\r\n\t}\r\n\tentry = []\r\n\tkeyCache[key] = entry\r\n\tentry.bytes = length\r\n\twhile (checkPosition < end) {\r\n\t\tchunk = dataView.getUint32(checkPosition)\r\n\t\tentry.push(chunk)\r\n\t\tcheckPosition += 4\r\n\t}\r\n\tend += 3\r\n\twhile (checkPosition < end) {\r\n\t\tchunk = src[checkPosition++]\r\n\t\tentry.push(chunk)\r\n\t}\r\n\t// for small blocks, avoiding the overhead of the extract call is helpful\r\n\tlet string = length < 16 ? shortStringInJS(length) : longStringInJS(length)\r\n\tif (string != null)\r\n\t\treturn entry.string = string\r\n\treturn entry.string = readFixedString(length)\r\n}\r\n\r\n// the registration of the record definition extension (as \"r\")\r\nconst recordDefinition = (id, highByte) => {\r\n\tvar structure = read()\r\n\tlet firstByte = id\r\n\tif (highByte !== undefined) {\r\n\t\tid = id < 32 ? -((highByte << 5) + id) : ((highByte << 5) + id)\r\n\t\tstructure.highByte = highByte\r\n\t}\r\n\tlet existingStructure = currentStructures[id]\r\n\tif (existingStructure && existingStructure.isShared) {\r\n\t\t(currentStructures.restoreStructures || (currentStructures.restoreStructures = []))[id] = existingStructure\r\n\t}\r\n\tcurrentStructures[id] = structure\r\n\tstructure.read = createStructureReader(structure, firstByte)\r\n\treturn structure.read()\r\n}\r\nvar glbl = typeof self == 'object' ? self : global\r\ncurrentExtensions[0] = () => {} // notepack defines extension 0 to mean undefined, so use that as the default here\r\ncurrentExtensions[0].noBuffer = true\r\n\r\ncurrentExtensions[0x65] = () => {\r\n\tlet data = read()\r\n\treturn (glbl[data[0]] || Error)(data[1])\r\n}\r\n\r\ncurrentExtensions[0x69] = (data) => {\r\n\t// id extension (for structured clones)\r\n\tlet id = dataView.getUint32(position - 4)\r\n\tif (!referenceMap)\r\n\t\treferenceMap = new Map()\r\n\tlet token = src[position]\r\n\tlet target\r\n\t// TODO: handle Maps, Sets, and other types that can cycle; this is complicated, because you potentially need to read\r\n\t// ahead past references to record structure definitions\r\n\tif (token >= 0x90 && token < 0xa0 || token == 0xdc || token == 0xdd)\r\n\t\ttarget = []\r\n\telse\r\n\t\ttarget = {}\r\n\r\n\tlet refEntry = { target } // a placeholder object\r\n\treferenceMap.set(id, refEntry)\r\n\tlet targetProperties = read() // read the next value as the target object to id\r\n\tif (refEntry.used) // there is a cycle, so we have to assign properties to original target\r\n\t\treturn Object.assign(target, targetProperties)\r\n\trefEntry.target = targetProperties // the placeholder wasn't used, replace with the deserialized one\r\n\treturn targetProperties // no cycle, can just use the returned read object\r\n}\r\n\r\ncurrentExtensions[0x70] = (data) => {\r\n\t// pointer extension (for structured clones)\r\n\tlet id = dataView.getUint32(position - 4)\r\n\tlet refEntry = referenceMap.get(id)\r\n\trefEntry.used = true\r\n\treturn refEntry.target\r\n}\r\n\r\ncurrentExtensions[0x73] = () => new Set(read())\r\n\r\nexport const typedArrays = ['Int8','Uint8','Uint8Clamped','Int16','Uint16','Int32','Uint32','Float32','Float64','BigInt64','BigUint64'].map(type => type + 'Array')\r\n\r\ncurrentExtensions[0x74] = (data) => {\r\n\tlet typeCode = data[0]\r\n\tlet typedArrayName = typedArrays[typeCode]\r\n\tif (!typedArrayName)\r\n\t\tthrow new Error('Could not find typed array for code ' + typeCode)\r\n\t// we have to always slice/copy here to get a new ArrayBuffer that is word/byte aligned\r\n\treturn new glbl[typedArrayName](Uint8Array.prototype.slice.call(data, 1).buffer)\r\n}\r\ncurrentExtensions[0x78] = () => {\r\n\tlet data = read()\r\n\treturn new RegExp(data[0], data[1])\r\n}\r\n\r\ncurrentExtensions[0xff] = (data) => {\r\n\t// 32-bit date extension\r\n\tif (data.length == 4)\r\n\t\treturn new Date((data[0] * 0x1000000 + (data[1] << 16) + (data[2] << 8) + data[3]) * 1000)\r\n\telse if (data.length == 8)\r\n\t\treturn new Date(\r\n\t\t\t((data[0] << 22) + (data[1] << 14) + (data[2] << 6) + (data[3] >> 2)) / 1000000 +\r\n\t\t\t((data[3] & 0x3) * 0x100000000 + data[4] * 0x1000000 + (data[5] << 16) + (data[6] << 8) + data[7]) * 1000)\r\n\telse if (data.length == 12)// TODO: Implement support for negative\r\n\t\treturn new Date(\r\n\t\t\t((data[0] << 24) + (data[1] << 16) + (data[2] << 8) + data[3]) / 1000000 +\r\n\t\t\t(((data[4] & 0x80) ? -0x1000000000000 : 0) + data[6] * 0x10000000000 + data[7] * 0x100000000 + data[8] * 0x1000000 + (data[9] << 16) + (data[10] << 8) + data[11]) * 1000)\r\n\telse\r\n\t\treturn new Date('invalid')\r\n} // notepack defines extension 0 to mean undefined, so use that as the default here\r\n// registration of bulk record definition?\r\n// currentExtensions[0x52] = () =>\r\n\r\nfunction saveState(callback) {\r\n\tlet savedSrcEnd = srcEnd\r\n\tlet savedPosition = position\r\n\tlet savedStringPosition = stringPosition\r\n\tlet savedSrcStringStart = srcStringStart\r\n\tlet savedSrcStringEnd = srcStringEnd\r\n\tlet savedSrcString = srcString\r\n\tlet savedStrings = strings\r\n\tlet savedReferenceMap = referenceMap\r\n\r\n\t// TODO: We may need to revisit this if we do more external calls to user code (since it could be slow)\r\n\tlet savedSrc = new Uint8Array(src.slice(0, srcEnd)) // we copy the data in case it changes while external data is processed\r\n\tlet savedStructures = currentStructures\r\n\tlet savedStructuresContents = currentStructures.slice(0, currentStructures.length)\r\n\tlet savedPackr = currentUnpackr\r\n\tlet savedSequentialMode = sequentialMode\r\n\tlet value = callback()\r\n\tsrcEnd = savedSrcEnd\r\n\tposition = savedPosition\r\n\tstringPosition = savedStringPosition\r\n\tsrcStringStart = savedSrcStringStart\r\n\tsrcStringEnd = savedSrcStringEnd\r\n\tsrcString = savedSrcString\r\n\tstrings = savedStrings\r\n\treferenceMap = savedReferenceMap\r\n\tsrc = savedSrc\r\n\tsequentialMode = savedSequentialMode\r\n\tcurrentStructures = savedStructures\r\n\tcurrentStructures.splice(0, currentStructures.length, ...savedStructuresContents)\r\n\tcurrentUnpackr = savedPackr\r\n\tdataView = new DataView(src.buffer, src.byteOffset, src.byteLength)\r\n\treturn value\r\n}\r\nexport function clearSource() {\r\n\tsrc = null\r\n\treferenceMap = null\r\n\tcurrentStructures = null\r\n}\r\n\r\nexport function addExtension(extension) {\r\n\tif (extension.unpack)\r\n\t\tcurrentExtensions[extension.type] = extension.unpack\r\n\telse\r\n\t\tcurrentExtensions[extension.type] = extension\r\n}\r\n\r\nexport const mult10 = new Array(147) // this is a table matching binary exponents to the multiplier to determine significant digit rounding\r\nfor (let i = 0; i < 256; i++) {\r\n\tmult10[i] = +('1e' + Math.floor(45.15 - i * 0.30103))\r\n}\r\nexport const Decoder = Unpackr\r\nvar defaultUnpackr = new Unpackr({ useRecords: false })\r\nexport const unpack = defaultUnpackr.unpack\r\nexport const unpackMultiple = defaultUnpackr.unpackMultiple\r\nexport const decode = defaultUnpackr.unpack\r\nexport const FLOAT32_OPTIONS = {\r\n\tNEVER: 0,\r\n\tALWAYS: 1,\r\n\tDECIMAL_ROUND: 3,\r\n\tDECIMAL_FIT: 4\r\n}\r\nlet f32Array = new Float32Array(1)\r\nlet u8Array = new Uint8Array(f32Array.buffer, 0, 4)\r\nexport function roundFloat32(float32Number) {\r\n\tf32Array[0] = float32Number\r\n\tlet multiplier = mult10[((u8Array[3] & 0x7f) << 1) | (u8Array[2] >> 7)]\r\n\treturn ((multiplier * float32Number + (float32Number > 0 ? 0.5 : -0.5)) >> 0) / multiplier\r\n}\r\n","export default (typeof global !== \"undefined\" ? global :\n  typeof self !== \"undefined\" ? self :\n  typeof window !== \"undefined\" ? window : {});","\"use strict\"\r\nimport { Unpackr, mult10, C1Type, typedArrays, addExtension as unpackAddExtension } from './unpack.js'\r\nlet textEncoder\r\ntry {\r\n\ttextEncoder = new TextEncoder()\r\n} catch (error) {}\r\nlet extensions, extensionClasses\r\nconst hasNodeBuffer = typeof Buffer !== 'undefined'\r\nconst ByteArrayAllocate = hasNodeBuffer ? Buffer.allocUnsafeSlow : Uint8Array\r\nconst ByteArray = hasNodeBuffer ? Buffer : Uint8Array\r\nconst MAX_BUFFER_SIZE = hasNodeBuffer ? 0x100000000 : 0x7fd00000\r\nlet target\r\nlet targetView\r\nlet position = 0\r\nlet safeEnd\r\nconst RECORD_SYMBOL = Symbol('record-id')\r\nexport class Packr extends Unpackr {\r\n\tconstructor(options) {\r\n\t\tsuper(options)\r\n\t\tthis.offset = 0\r\n\t\tlet typeBuffer\r\n\t\tlet start\r\n\t\tlet sharedStructures\r\n\t\tlet hasSharedUpdate\r\n\t\tlet structures\r\n\t\tlet referenceMap\r\n\t\tlet lastSharedStructuresLength = 0\r\n\t\tlet encodeUtf8 = ByteArray.prototype.utf8Write ? function(string, position, maxBytes) {\r\n\t\t\treturn target.utf8Write(string, position, maxBytes)\r\n\t\t} : (textEncoder && textEncoder.encodeInto) ?\r\n\t\t\tfunction(string, position) {\r\n\t\t\t\treturn textEncoder.encodeInto(string, target.subarray(position)).written\r\n\t\t\t} : false\r\n\r\n\t\tlet packr = this\r\n\t\tif (!options)\r\n\t\t\toptions = {}\r\n\t\tlet isSequential = options && options.sequential\r\n\t\tlet hasSharedStructures = options.structures || options.saveStructures\r\n\t\tlet maxSharedStructures = options.maxSharedStructures\r\n\t\tif (maxSharedStructures == null)\r\n\t\t\tmaxSharedStructures = hasSharedStructures ? 32 : 0\r\n\t\tif (maxSharedStructures > 8160)\r\n\t\t\tthrow new Error('Maximum maxSharedStructure is 8160')\r\n\t\tlet maxOwnStructures = options.maxOwnStructures\r\n\t\tif (maxOwnStructures == null)\r\n\t\t\tmaxOwnStructures = hasSharedStructures ? 32 : 64\r\n\t\tif (isSequential && !options.saveStructures)\r\n\t\t\tthis.structures = []\r\n\t\t// two byte record ids for shared structures\r\n\t\tlet useTwoByteRecords = maxSharedStructures > 32 || (maxOwnStructures + maxSharedStructures > 64)\t\t\r\n\t\tlet sharedLimitId = maxSharedStructures + 0x40\r\n\t\tlet maxStructureId = maxSharedStructures + maxOwnStructures + 0x40\r\n\t\tif (maxStructureId > 8256) {\r\n\t\t\tthrow new Error('Maximum maxSharedStructure + maxOwnStructure is 8192')\r\n\t\t}\r\n\t\tlet recordIdsToRemove = []\r\n\t\tlet transitionsCount = 0\r\n\t\tlet serializationsSinceTransitionRebuild = 0\r\n\r\n\t\tthis.pack = this.encode = function(value, encodeOptions) {\r\n\t\t\tif (!target) {\r\n\t\t\t\ttarget = new ByteArrayAllocate(8192)\r\n\t\t\t\ttargetView = new DataView(target.buffer, 0, 8192)\r\n\t\t\t\tposition = 0\r\n\t\t\t}\r\n\t\t\tsafeEnd = target.length - 10\r\n\t\t\tif (safeEnd - position < 0x800) {\r\n\t\t\t\t// don't start too close to the end, \r\n\t\t\t\ttarget = new ByteArrayAllocate(target.length)\r\n\t\t\t\ttargetView = new DataView(target.buffer, 0, target.length)\r\n\t\t\t\tsafeEnd = target.length - 10\r\n\t\t\t\tposition = 0\r\n\t\t\t} else\r\n\t\t\t\tposition = (position + 7) & 0x7ffffff8 // Word align to make any future copying of this buffer faster\r\n\t\t\tstart = position\r\n\t\t\treferenceMap = packr.structuredClone ? new Map() : null\r\n\t\t\tsharedStructures = packr.structures\r\n\t\t\tif (sharedStructures) {\r\n\t\t\t\tif (sharedStructures.uninitialized)\r\n\t\t\t\t\tsharedStructures = packr._mergeStructures(packr.getStructures())\r\n\t\t\t\tlet sharedLength = sharedStructures.sharedLength || 0\r\n\t\t\t\tif (sharedLength > maxSharedStructures) {\r\n\t\t\t\t\t//if (maxSharedStructures <= 32 && sharedStructures.sharedLength > 32) // TODO: could support this, but would need to update the limit ids\r\n\t\t\t\t\tthrow new Error('Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to ' + sharedStructures.sharedLength)\r\n\t\t\t\t}\r\n\t\t\t\tif (!sharedStructures.transitions) {\r\n\t\t\t\t\t// rebuild our structure transitions\r\n\t\t\t\t\tsharedStructures.transitions = Object.create(null)\r\n\t\t\t\t\tfor (let i = 0; i < sharedLength; i++) {\r\n\t\t\t\t\t\tlet keys = sharedStructures[i]\r\n\t\t\t\t\t\tif (!keys)\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\tlet nextTransition, transition = sharedStructures.transitions\r\n\t\t\t\t\t\tfor (let j = 0, l = keys.length; j < l; j++) {\r\n\t\t\t\t\t\t\tlet key = keys[j]\r\n\t\t\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttransition = nextTransition\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttransition[RECORD_SYMBOL] = i + 0x40\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastSharedStructuresLength = sharedLength\r\n\t\t\t\t}\r\n\t\t\t\tif (!isSequential) {\r\n\t\t\t\t\tsharedStructures.nextId = sharedLength + 0x40\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (hasSharedUpdate)\r\n\t\t\t\thasSharedUpdate = false\r\n\t\t\tstructures = sharedStructures || []\r\n\t\t\ttry {\r\n\t\t\t\tpack(value)\r\n\t\t\t\tpackr.offset = position // update the offset so next serialization doesn't write over our buffer, but can continue writing to same buffer sequentially\r\n\t\t\t\tif (referenceMap && referenceMap.idsToInsert) {\r\n\t\t\t\t\tposition += referenceMap.idsToInsert.length * 6\r\n\t\t\t\t\tif (position > safeEnd)\r\n\t\t\t\t\t\tmakeRoom(position)\r\n\t\t\t\t\tpackr.offset = position\r\n\t\t\t\t\tlet serialized = insertIds(target.subarray(start, position), referenceMap.idsToInsert)\r\n\t\t\t\t\treferenceMap = null\r\n\t\t\t\t\treturn serialized\r\n\t\t\t\t}\r\n\t\t\t\tif (encodeOptions === REUSE_BUFFER_MODE) {\r\n\t\t\t\t\ttarget.start = start\r\n\t\t\t\t\ttarget.end = position\r\n\t\t\t\t\treturn target\r\n\t\t\t\t}\r\n\t\t\t\treturn target.subarray(start, position) // position can change if we call pack again in saveStructures, so we get the buffer now\r\n\t\t\t} finally {\r\n\t\t\t\tif (sharedStructures) {\r\n\t\t\t\t\tif (serializationsSinceTransitionRebuild < 10)\r\n\t\t\t\t\t\tserializationsSinceTransitionRebuild++\r\n\t\t\t\t\tif (transitionsCount > 10000) {\r\n\t\t\t\t\t\t// force a rebuild occasionally after a lot of transitions so it can get cleaned up\r\n\t\t\t\t\t\tsharedStructures.transitions = null\r\n\t\t\t\t\t\tserializationsSinceTransitionRebuild = 0\r\n\t\t\t\t\t\ttransitionsCount = 0\r\n\t\t\t\t\t\tif (recordIdsToRemove.length > 0)\r\n\t\t\t\t\t\t\trecordIdsToRemove = []\r\n\t\t\t\t\t} else if (recordIdsToRemove.length > 0 && !isSequential) {\r\n\t\t\t\t\t\tfor (let i = 0, l = recordIdsToRemove.length; i < l; i++) {\r\n\t\t\t\t\t\t\trecordIdsToRemove[i][RECORD_SYMBOL] = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trecordIdsToRemove = []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasSharedUpdate && packr.saveStructures) {\r\n\t\t\t\t\t\tlet sharedLength = sharedStructures.sharedLength || maxSharedStructures\r\n\t\t\t\t\t\tif (sharedStructures.length > sharedLength) {\r\n\t\t\t\t\t\t\tsharedStructures = sharedStructures.slice(0, sharedLength)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// we can't rely on start/end with REUSE_BUFFER_MODE since they will (probably) change when we save\r\n\t\t\t\t\t\tlet returnBuffer = target.subarray(start, position)\r\n\t\t\t\t\t\tif (packr.saveStructures(sharedStructures, lastSharedStructuresLength) === false) {\r\n\t\t\t\t\t\t\t// get updated structures and try again if the update failed\r\n\t\t\t\t\t\t\tpackr._mergeStructures(packr.getStructures())\r\n\t\t\t\t\t\t\treturn packr.pack(value)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlastSharedStructuresLength = sharedLength\r\n\t\t\t\t\t\treturn returnBuffer\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst pack = (value) => {\r\n\t\t\tif (position > safeEnd)\r\n\t\t\t\ttarget = makeRoom(position)\r\n\r\n\t\t\tvar type = typeof value\r\n\t\t\tvar length\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tlet strLength = value.length\r\n\t\t\t\tlet headerSize\r\n\t\t\t\t// first we estimate the header size, so we can write to the correct location\r\n\t\t\t\tif (strLength < 0x20) {\r\n\t\t\t\t\theaderSize = 1\r\n\t\t\t\t} else if (strLength < 0x100) {\r\n\t\t\t\t\theaderSize = 2\r\n\t\t\t\t} else if (strLength < 0x10000) {\r\n\t\t\t\t\theaderSize = 3\r\n\t\t\t\t} else {\r\n\t\t\t\t\theaderSize = 5\r\n\t\t\t\t}\r\n\t\t\t\tlet maxBytes = strLength * 3\r\n\t\t\t\tif (position + maxBytes > safeEnd)\r\n\t\t\t\t\ttarget = makeRoom(position + maxBytes)\r\n\r\n\t\t\t\tif (strLength < 0x40 || !encodeUtf8) {\r\n\t\t\t\t\tlet i, c1, c2, strPosition = position + headerSize\r\n\t\t\t\t\tfor (i = 0; i < strLength; i++) {\r\n\t\t\t\t\t\tc1 = value.charCodeAt(i)\r\n\t\t\t\t\t\tif (c1 < 0x80) {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1\r\n\t\t\t\t\t\t} else if (c1 < 0x800) {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 | 0xc0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t(c1 & 0xfc00) === 0xd800 &&\r\n\t\t\t\t\t\t\t((c2 = value.charCodeAt(i + 1)) & 0xfc00) === 0xdc00\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tc1 = 0x10000 + ((c1 & 0x03ff) << 10) + (c2 & 0x03ff)\r\n\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 18 | 0xf0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 12 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 12 | 0xe0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = strPosition - position - headerSize\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlength = encodeUtf8(value, position + headerSize, maxBytes)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (length < 0x20) {\r\n\t\t\t\t\ttarget[position++] = 0xa0 | length\r\n\t\t\t\t} else if (length < 0x100) {\r\n\t\t\t\t\tif (headerSize < 2) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 2, position + 1, position + 1 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xd9\r\n\t\t\t\t\ttarget[position++] = length\r\n\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\tif (headerSize < 3) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 3, position + 2, position + 2 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xda\r\n\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (headerSize < 5) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 5, position + 3, position + 3 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xdb\r\n\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\tposition += 4\r\n\t\t\t\t}\r\n\t\t\t\tposition += length\r\n\t\t\t} else if (type === 'number') {\r\n\t\t\t\tif (value >>> 0 === value) {// positive integer, 32-bit or less\r\n\t\t\t\t\t// positive uint\r\n\t\t\t\t\tif (value < 0x40) {\r\n\t\t\t\t\t\ttarget[position++] = value\r\n\t\t\t\t\t} else if (value < 0x100) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcc\r\n\t\t\t\t\t\ttarget[position++] = value\r\n\t\t\t\t\t} else if (value < 0x10000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcd\r\n\t\t\t\t\t\ttarget[position++] = value >> 8\r\n\t\t\t\t\t\ttarget[position++] = value & 0xff\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xce\r\n\t\t\t\t\t\ttargetView.setUint32(position, value)\r\n\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (value >> 0 === value) { // negative integer\r\n\t\t\t\t\tif (value >= -0x20) {\r\n\t\t\t\t\t\ttarget[position++] = 0x100 + value\r\n\t\t\t\t\t} else if (value >= -0x80) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd0\r\n\t\t\t\t\t\ttarget[position++] = value + 0x100\r\n\t\t\t\t\t} else if (value >= -0x8000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd1\r\n\t\t\t\t\t\ttargetView.setInt16(position, value)\r\n\t\t\t\t\t\tposition += 2\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xd2\r\n\t\t\t\t\t\ttargetView.setInt32(position, value)\r\n\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet useFloat32\r\n\t\t\t\t\tif ((useFloat32 = this.useFloat32) > 0 && value < 0x100000000 && value >= -0x80000000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xca\r\n\t\t\t\t\t\ttargetView.setFloat32(position, value)\r\n\t\t\t\t\t\tlet xShifted\r\n\t\t\t\t\t\tif (useFloat32 < 4 ||\r\n\t\t\t\t\t\t\t\t// this checks for rounding of numbers that were encoded in 32-bit float to nearest significant decimal digit that could be preserved\r\n\t\t\t\t\t\t\t\t((xShifted = value * mult10[((target[position] & 0x7f) << 1) | (target[position + 1] >> 7)]) >> 0) === xShifted) {\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tposition-- // move back into position for writing a double\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xcb\r\n\t\t\t\t\ttargetView.setFloat64(position, value)\r\n\t\t\t\t\tposition += 8\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'object') {\r\n\t\t\t\tif (!value)\r\n\t\t\t\t\ttarget[position++] = 0xc0\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (referenceMap) {\r\n\t\t\t\t\t\tlet referee = referenceMap.get(value)\r\n\t\t\t\t\t\tif (referee) {\r\n\t\t\t\t\t\t\tif (!referee.id) {\r\n\t\t\t\t\t\t\t\tlet idsToInsert = referenceMap.idsToInsert || (referenceMap.idsToInsert = [])\r\n\t\t\t\t\t\t\t\treferee.id = idsToInsert.push(referee)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttarget[position++] = 0xd6 // fixext 4\r\n\t\t\t\t\t\t\ttarget[position++] = 0x70 // \"p\" for pointer\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, referee.id)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else \r\n\t\t\t\t\t\t\treferenceMap.set(value, { offset: position - start })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet constructor = value.constructor\r\n\t\t\t\t\tif (constructor === Object) {\r\n\t\t\t\t\t\twriteObject(value, true)\r\n\t\t\t\t\t} else if (constructor === Array) {\r\n\t\t\t\t\t\tlength = value.length\r\n\t\t\t\t\t\tif (length < 0x10) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0x90 | length\r\n\t\t\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdc\r\n\t\t\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdd\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tpack(value[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (constructor === Map) {\r\n\t\t\t\t\t\tlength = value.size\r\n\t\t\t\t\t\tif (length < 0x10) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0x80 | length\r\n\t\t\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xde\r\n\t\t\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdf\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let [ key, entryValue ] of value) {\r\n\t\t\t\t\t\t\tpack(key)\r\n\t\t\t\t\t\t\tpack(entryValue)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\tfor (let i = 0, l = extensions.length; i < l; i++) {\r\n\t\t\t\t\t\t\tlet extensionClass = extensionClasses[i]\r\n\t\t\t\t\t\t\tif (value instanceof extensionClass) {\r\n\t\t\t\t\t\t\t\tlet extension = extensions[i]\r\n\t\t\t\t\t\t\t\tif (extension.write) {\r\n\t\t\t\t\t\t\t\t\tif (extension.type) {\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = 0xd4 // one byte \"tag\" extension\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = extension.type\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tpack(extension.write.call(this, value))\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlet currentTarget = target\r\n\t\t\t\t\t\t\t\tlet currentTargetView = targetView\r\n\t\t\t\t\t\t\t\tlet currentPosition = position\r\n\t\t\t\t\t\t\t\ttarget = null\r\n\t\t\t\t\t\t\t\tlet result\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tresult = extension.pack.call(this, value, (size) => {\r\n\t\t\t\t\t\t\t\t\t\t// restore target and use it\r\n\t\t\t\t\t\t\t\t\t\ttarget = currentTarget\r\n\t\t\t\t\t\t\t\t\t\tcurrentTarget = null\r\n\t\t\t\t\t\t\t\t\t\tposition += size\r\n\t\t\t\t\t\t\t\t\t\tif (position > safeEnd)\r\n\t\t\t\t\t\t\t\t\t\t\tmakeRoom(position)\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\ttarget, targetView, position: position - size\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}, pack)\r\n\t\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\t\t// restore current target information (unless already restored)\r\n\t\t\t\t\t\t\t\t\tif (currentTarget) {\r\n\t\t\t\t\t\t\t\t\t\ttarget = currentTarget\r\n\t\t\t\t\t\t\t\t\t\ttargetView = currentTargetView\r\n\t\t\t\t\t\t\t\t\t\tposition = currentPosition\r\n\t\t\t\t\t\t\t\t\t\tsafeEnd = target.length - 10\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\t\tif (result.length + position > safeEnd)\r\n\t\t\t\t\t\t\t\t\t\tmakeRoom(result.length + position)\r\n\t\t\t\t\t\t\t\t\tposition = writeExtensionData(result, target, position, extension.type)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// no extension found, write as object\r\n\t\t\t\t\t\twriteObject(value, !value.hasOwnProperty) // if it doesn't have hasOwnProperty, don't do hasOwnProperty checks\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'boolean') {\r\n\t\t\t\ttarget[position++] = value ? 0xc3 : 0xc2\r\n\t\t\t} else if (type === 'bigint') {\r\n\t\t\t\tif (value < (BigInt(1)<<BigInt(63)) && value >= -(BigInt(1)<<BigInt(63))) {\r\n\t\t\t\t\t// use a signed int as long as it fits\r\n\t\t\t\t\ttarget[position++] = 0xd3\r\n\t\t\t\t\ttargetView.setBigInt64(position, value)\r\n\t\t\t\t} else if (value < (BigInt(1)<<BigInt(64)) && value > 0) {\r\n\t\t\t\t\t// if we can fit an unsigned int, use that\r\n\t\t\t\t\ttarget[position++] = 0xcf\r\n\t\t\t\t\ttargetView.setBigUint64(position, value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// overflow\r\n\t\t\t\t\tif (this.largeBigIntToFloat) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcb\r\n\t\t\t\t\t\ttargetView.setFloat64(position, Number(value))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new RangeError(value + ' was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tposition += 8\r\n\t\t\t} else if (type === 'undefined') {\r\n\t\t\t\tif (this.encodeUndefinedAsNil)\r\n\t\t\t\t\ttarget[position++] = 0xc0\r\n\t\t\t\telse {\r\n\t\t\t\t\ttarget[position++] = 0xd4 // a number of implementations use fixext1 with type 0, data 0 to denote undefined, so we follow suite\r\n\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'function') {\r\n\t\t\t\tpack(this.writeFunction && this.writeFunction()) // if there is a writeFunction, use it, otherwise just encode as undefined\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Unknown type: ' + type)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst writeObject = this.useRecords === false ? this.variableMapSize ? (object) => {\r\n\t\t\t// this method is slightly slower, but generates \"preferred serialization\" (optimally small for smaller objects)\r\n\t\t\tlet keys = Object.keys(object)\r\n\t\t\tlet length = keys.length\r\n\t\t\tif (length < 0x10) {\r\n\t\t\t\ttarget[position++] = 0x80 | length\r\n\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\ttarget[position++] = 0xde\r\n\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t} else {\r\n\t\t\t\ttarget[position++] = 0xdf\r\n\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\tposition += 4\r\n\t\t\t}\r\n\t\t\tlet key\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tpack(key = keys[i])\r\n\t\t\t\tpack(object[key])\r\n\t\t\t}\r\n\t\t} :\r\n\t\t(object, safePrototype) => {\r\n\t\t\ttarget[position++] = 0xde // always using map 16, so we can preallocate and set the length afterwards\r\n\t\t\tlet objectOffset = position - start\r\n\t\t\tposition += 2\r\n\t\t\tlet size = 0\r\n\t\t\tfor (let key in object) {\r\n\t\t\t\tif (safePrototype || object.hasOwnProperty(key)) {\r\n\t\t\t\t\tpack(key)\r\n\t\t\t\t\tpack(object[key])\r\n\t\t\t\t\tsize++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttarget[objectOffset++ + start] = size >> 8\r\n\t\t\ttarget[objectOffset + start] = size & 0xff\r\n\t\t} :\r\n\r\n\t/*\tsharedStructures ?  // For highly stable structures, using for-in can a little bit faster\r\n\t\t(object, safePrototype) => {\r\n\t\t\tlet nextTransition, transition = structures.transitions || (structures.transitions = Object.create(null))\r\n\t\t\tlet objectOffset = position++ - start\r\n\t\t\tlet wroteKeys\r\n\t\t\tfor (let key in object) {\r\n\t\t\t\tif (safePrototype || object.hasOwnProperty(key)) {\r\n\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\t\tnextTransition.__keys__ = (transition.__keys__ || []).concat([key])\r\n\t\t\t\t\t\t/*let keys = Object.keys(object)\r\n\t\t\t\t\t\tif \r\n\t\t\t\t\t\tlet size = 0\r\n\t\t\t\t\t\tlet startBranch = transition.__keys__ ? transition.__keys__.length : 0\r\n\t\t\t\t\t\tfor (let i = 0, l = keys.length; i++) {\r\n\t\t\t\t\t\t\tlet key = keys[i]\r\n\t\t\t\t\t\t\tsize += key.length << 2\r\n\t\t\t\t\t\t\tif (i >= startBranch) {\r\n\t\t\t\t\t\t\t\tnextTransition = nextTransition[key] = Object.create(null)\r\n\t\t\t\t\t\t\t\tnextTransition.__keys__ = keys.slice(0, i + 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmakeRoom(position + size)\r\n\t\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\t\ttarget.copy(target, )\r\n\t\t\t\t\t\tobjectOffset\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttransition = nextTransition\r\n\t\t\t\t\tpack(object[key])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet id = transition.id\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = transition.id = structures.push(transition.__keys__) + 63\r\n\t\t\t\tif (sharedStructures.onUpdate)\r\n\t\t\t\t\tsharedStructures.onUpdate(id, transition.__keys__)\r\n\t\t\t}\r\n\t\t\ttarget[objectOffset + start] = id\r\n\t\t}*/\r\n\t\t(object) => {\r\n\t\t\tlet keys = Object.keys(object)\r\n\t\t\tlet nextTransition, transition = structures.transitions || (structures.transitions = Object.create(null))\r\n\t\t\tlet newTransitions = 0\r\n\t\t\tfor (let i = 0, l = keys.length; i < l; i++) {\r\n\t\t\t\tlet key = keys[i]\r\n\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\tnewTransitions++\r\n\t\t\t\t}\r\n\t\t\t\ttransition = nextTransition\r\n\t\t\t}\r\n\t\t\tlet recordId = transition[RECORD_SYMBOL]\r\n\t\t\tif (recordId) {\r\n\t\t\t\tif (recordId >= 0x60 && useTwoByteRecords) {\r\n\t\t\t\t\ttarget[position++] = ((recordId -= 0x60) & 0x1f) + 0x60\r\n\t\t\t\t\ttarget[position++] = recordId >> 5\r\n\t\t\t\t} else\r\n\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t} else {\r\n\t\t\t\trecordId = structures.nextId\r\n\t\t\t\tif (!recordId)\r\n\t\t\t\t\trecordId = 0x40\r\n\t\t\t\tif (recordId < sharedLimitId && this.shouldShareStructure && !this.shouldShareStructure(keys)) {\r\n\t\t\t\t\trecordId = structures.nextOwnId\r\n\t\t\t\t\tif (!(recordId < maxStructureId))\r\n\t\t\t\t\t\trecordId = sharedLimitId\r\n\t\t\t\t\tstructures.nextOwnId = recordId + 1\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (recordId >= maxStructureId)// cycle back around\r\n\t\t\t\t\t\trecordId = sharedLimitId\r\n\t\t\t\t\tstructures.nextId = recordId + 1\r\n\t\t\t\t}\r\n\t\t\t\tlet highByte = keys.highByte = recordId >= 0x60 && useTwoByteRecords ? (recordId - 0x60) >> 5 : -1\r\n\t\t\t\ttransition[RECORD_SYMBOL] = recordId\r\n\t\t\t\tstructures[recordId - 0x40] = keys\r\n\r\n\t\t\t\tif (recordId < sharedLimitId) {\r\n\t\t\t\t\tkeys.isShared = true\r\n\t\t\t\t\tstructures.sharedLength = recordId - 0x3f\r\n\t\t\t\t\thasSharedUpdate = true\r\n\t\t\t\t\tif (highByte >= 0) {\r\n\t\t\t\t\t\ttarget[position++] = (recordId & 0x1f) + 0x60\r\n\t\t\t\t\t\ttarget[position++] = highByte\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (highByte >= 0) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd5 // fixext 2\r\n\t\t\t\t\t\ttarget[position++] = 0x72 // \"r\" record defintion extension type\r\n\t\t\t\t\t\ttarget[position++] = (recordId & 0x1f) + 0x60\r\n\t\t\t\t\t\ttarget[position++] = highByte\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xd4 // fixext 1\r\n\t\t\t\t\t\ttarget[position++] = 0x72 // \"r\" record defintion extension type\r\n\t\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (newTransitions)\r\n\t\t\t\t\t\ttransitionsCount += serializationsSinceTransitionRebuild * newTransitions\r\n\t\t\t\t\t// record the removal of the id, we can maintain our shared structure\r\n\t\t\t\t\tif (recordIdsToRemove.length >= maxOwnStructures)\r\n\t\t\t\t\t\trecordIdsToRemove.shift()[RECORD_SYMBOL] = 0 // we are cycling back through, and have to remove old ones\r\n\t\t\t\t\trecordIdsToRemove.push(transition)\r\n\t\t\t\t\tpack(keys)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// now write the values\r\n\t\t\tfor (let i = 0, l = keys.length; i < l; i++)\r\n\t\t\t\tpack(object[keys[i]])\r\n\t\t}\r\n\t\tconst makeRoom = (end) => {\r\n\t\t\tlet newSize\r\n\t\t\tif (end > 0x1000000) {\r\n\t\t\t\t// special handling for really large buffers\r\n\t\t\t\tif ((end - start) > MAX_BUFFER_SIZE)\r\n\t\t\t\t\tthrow new Error('Packed buffer would be larger than maximum buffer size')\r\n\t\t\t\tnewSize = Math.min(MAX_BUFFER_SIZE,\r\n\t\t\t\t\tMath.round(Math.max((end - start) * (end > 0x4000000 ? 1.25 : 2), 0x400000) / 0x1000) * 0x1000)\r\n\t\t\t} else // faster handling for smaller buffers\r\n\t\t\t\tnewSize = ((Math.max((end - start) << 2, target.length - 1) >> 12) + 1) << 12\r\n\t\t\tlet newBuffer = new ByteArrayAllocate(newSize)\r\n\t\t\ttargetView = new DataView(newBuffer.buffer, 0, newSize)\r\n\t\t\tif (target.copy)\r\n\t\t\t\ttarget.copy(newBuffer, 0, start, end)\r\n\t\t\telse\r\n\t\t\t\tnewBuffer.set(target.slice(start, end))\r\n\t\t\tposition -= start\r\n\t\t\tstart = 0\r\n\t\t\tsafeEnd = newBuffer.length - 10\r\n\t\t\treturn target = newBuffer\r\n\t\t}\r\n\t}\r\n\tuseBuffer(buffer) {\r\n\t\t// this means we are finished using our own buffer and we can write over it safely\r\n\t\ttarget = buffer\r\n\t\ttargetView = new DataView(target.buffer, target.byteOffset, target.byteLength)\r\n\t\tposition = 0\r\n\t}\r\n}\r\n\r\nfunction copyBinary(source, target, targetOffset, offset, endOffset) {\r\n\twhile (offset < endOffset) {\r\n\t\ttarget[targetOffset++] = source[offset++]\r\n\t}\r\n}\r\n\r\nextensionClasses = [ Date, Set, Error, RegExp, ArrayBuffer, Object.getPrototypeOf(Uint8Array.prototype).constructor /*TypedArray*/, C1Type ]\r\nextensions = [{\r\n\tpack(date, allocateForWrite, pack) {\r\n\t\tlet seconds = date.getTime() / 1000\r\n\t\tif ((this.useTimestamp32 || date.getMilliseconds() === 0) && seconds >= 0 && seconds < 0x100000000) {\r\n\t\t\t// Timestamp 32\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(6)\r\n\t\t\ttarget[position++] = 0xd6\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, seconds)\r\n\t\t} else if (seconds > 0 && seconds < 0x400000000) {\r\n\t\t\t// Timestamp 64\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(10)\r\n\t\t\ttarget[position++] = 0xd7\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, date.getMilliseconds() * 4000000 + ((seconds / 1000 / 0x100000000) >> 0))\r\n\t\t\ttargetView.setUint32(position + 4, seconds)\r\n\t\t} else if (isNaN(seconds)) {\r\n\t\t\tif (this.onInvalidDate)\r\n\t\t\t\treturn pack(this.onInvalidDate())\r\n\t\t\t// Intentionally invalid timestamp\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(3)\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t} else {\r\n\t\t\t// Timestamp 96\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(15)\r\n\t\t\ttarget[position++] = 0xc7\r\n\t\t\ttarget[position++] = 12\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, date.getMilliseconds() * 1000000)\r\n\t\t\ttargetView.setBigInt64(position + 4, BigInt(Math.floor(seconds)))\r\n\t\t}\r\n\t}\r\n}, {\r\n\tpack(set, allocateForWrite, pack) {\r\n\t\tlet array = Array.from(set)\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x73 // 's' for Set\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack(array)\r\n\t}\r\n}, {\r\n\tpack(error, allocateForWrite, pack) {\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x65 // 'e' for error\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack([ error.name, error.message ])\r\n\t}\r\n}, {\r\n\tpack(regex, allocateForWrite, pack) {\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x78 // 'x' for regeXp\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack([ regex.source, regex.flags ])\r\n\t}\r\n}, {\r\n\tpack(arrayBuffer, allocateForWrite) {\r\n\t\tif (this.structuredClone)\r\n\t\t\twriteExtBuffer(arrayBuffer, 0x10, allocateForWrite)\r\n\t\telse\r\n\t\t\twriteBuffer(hasNodeBuffer ? Buffer.from(arrayBuffer) : new Uint8Array(arrayBuffer), allocateForWrite)\r\n\t}\r\n}, {\r\n\tpack(typedArray, allocateForWrite) {\r\n\t\tlet constructor = typedArray.constructor\r\n\t\tif (constructor !== ByteArray && this.structuredClone)\r\n\t\t\twriteExtBuffer(typedArray, typedArrays.indexOf(constructor.name), allocateForWrite)\r\n\t\telse\r\n\t\t\twriteBuffer(typedArray, allocateForWrite)\r\n\t}\r\n}, {\r\n\tpack(c1, allocateForWrite) { // specific 0xC1 object\r\n\t\tlet { target, position} = allocateForWrite(1)\r\n\t\ttarget[position] = 0xc1\r\n\t}\r\n}]\r\n\r\nfunction writeExtBuffer(typedArray, type, allocateForWrite, encode) {\r\n\tlet length = typedArray.byteLength\r\n\tif (length + 1 < 0x100) {\r\n\t\tvar { target, position } = allocateForWrite(4 + length)\r\n\t\ttarget[position++] = 0xc7\r\n\t\ttarget[position++] = length + 1\r\n\t} else if (length + 1 < 0x10000) {\r\n\t\tvar { target, position } = allocateForWrite(5 + length)\r\n\t\ttarget[position++] = 0xc8\r\n\t\ttarget[position++] = (length + 1) >> 8\r\n\t\ttarget[position++] = (length + 1) & 0xff\r\n\t} else {\r\n\t\tvar { target, position, targetView } = allocateForWrite(7 + length)\r\n\t\ttarget[position++] = 0xc9\r\n\t\ttargetView.setUint32(position, length + 1) // plus one for the type byte\r\n\t\tposition += 4\r\n\t}\r\n\ttarget[position++] = 0x74 // \"t\" for typed array\r\n\ttarget[position++] = type\r\n\ttarget.set(new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength), position)\r\n}\r\nfunction writeBuffer(buffer, allocateForWrite) {\r\n\tlet length = buffer.byteLength\r\n\tvar target, position\r\n\tif (length < 0x100) {\r\n\t\tvar { target, position } = allocateForWrite(length + 2)\r\n\t\ttarget[position++] = 0xc4\r\n\t\ttarget[position++] = length\r\n\t} else if (length < 0x10000) {\r\n\t\tvar { target, position } = allocateForWrite(length + 3)\r\n\t\ttarget[position++] = 0xc5\r\n\t\ttarget[position++] = length >> 8\r\n\t\ttarget[position++] = length & 0xff\r\n\t} else {\r\n\t\tvar { target, position, targetView } = allocateForWrite(length + 5)\r\n\t\ttarget[position++] = 0xc6\r\n\t\ttargetView.setUint32(position, length)\r\n\t\tposition += 4\r\n\t}\r\n\ttarget.set(buffer, position)\r\n}\r\n\r\nfunction writeExtensionData(result, target, position, type) {\r\n\tlet length = result.length\r\n\tswitch (length) {\r\n\t\tcase 1:\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\tbreak\r\n\t\tcase 2:\r\n\t\t\ttarget[position++] = 0xd5\r\n\t\t\tbreak\r\n\t\tcase 4:\r\n\t\t\ttarget[position++] = 0xd6\r\n\t\t\tbreak\r\n\t\tcase 8:\r\n\t\t\ttarget[position++] = 0xd7\r\n\t\t\tbreak\r\n\t\tcase 16:\r\n\t\t\ttarget[position++] = 0xd8\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tif (length < 0x100) {\r\n\t\t\t\ttarget[position++] = 0xc7\r\n\t\t\t\ttarget[position++] = length\r\n\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\ttarget[position++] = 0xc8\r\n\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t} else {\r\n\t\t\t\ttarget[position++] = 0xc9\r\n\t\t\t\ttarget[position++] = length >> 24\r\n\t\t\t\ttarget[position++] = (length >> 16) & 0xff\r\n\t\t\t\ttarget[position++] = (length >> 8) & 0xff\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t}\r\n\t}\r\n\ttarget[position++] = type\r\n\ttarget.set(result, position)\r\n\tposition += length\r\n\treturn position\r\n}\r\n\r\nfunction insertIds(serialized, idsToInsert) {\r\n\t// insert the ids that need to be referenced for structured clones\r\n\tlet nextId\r\n\tlet distanceToMove = idsToInsert.length * 6\r\n\tlet lastEnd = serialized.length - distanceToMove\r\n\tidsToInsert.sort((a, b) => a.offset > b.offset ? 1 : -1)\r\n\twhile (nextId = idsToInsert.pop()) {\r\n\t\tlet offset = nextId.offset\r\n\t\tlet id = nextId.id\r\n\t\tserialized.copyWithin(offset + distanceToMove, offset, lastEnd)\r\n\t\tdistanceToMove -= 6\r\n\t\tlet position = offset + distanceToMove\r\n\t\tserialized[position++] = 0xd6\r\n\t\tserialized[position++] = 0x69 // 'i'\r\n\t\tserialized[position++] = id >> 24\r\n\t\tserialized[position++] = (id >> 16) & 0xff\r\n\t\tserialized[position++] = (id >> 8) & 0xff\r\n\t\tserialized[position++] = id & 0xff\r\n\t\tlastEnd = offset\r\n\t}\r\n\treturn serialized\r\n}\r\n\r\nexport function addExtension(extension) {\r\n\tif (extension.Class) {\r\n\t\tif (!extension.pack && !extension.write)\r\n\t\t\tthrow new Error('Extension has no pack or write function')\r\n\t\tif (extension.pack && !extension.type)\r\n\t\t\tthrow new Error('Extension has no type (numeric code to identify the extension)')\r\n\t\textensionClasses.unshift(extension.Class)\r\n\t\textensions.unshift(extension)\r\n\t}\r\n\tunpackAddExtension(extension)\r\n}\r\n\r\nlet defaultPackr = new Packr({ useRecords: false })\r\nexport const pack = defaultPackr.pack\r\nexport const encode = defaultPackr.pack\r\nexport const Encoder = Packr\r\nexport { FLOAT32_OPTIONS } from './unpack.js'\r\nimport { FLOAT32_OPTIONS } from './unpack.js'\r\nexport const { NEVER, ALWAYS, DECIMAL_ROUND, DECIMAL_FIT } = FLOAT32_OPTIONS\r\nexport const REUSE_BUFFER_MODE = 1000\r\n","import { Packr } from './pack.js'\r\nimport { Unpackr } from './unpack.js'\r\n\r\n/**\r\n * Given an Iterable first argument, returns an Iterable where each value is packed as a Buffer\r\n * If the argument is only Async Iterable, the return value will be an Async Iterable.\r\n * @param {Iterable|Iterator|AsyncIterable|AsyncIterator} objectIterator - iterable source, like a Readable object stream, an array, Set, or custom object\r\n * @param {options} [options] - msgpackr pack options\r\n * @returns {IterableIterator|Promise.<AsyncIterableIterator>}\r\n */\r\nexport function packIter (objectIterator, options = {}) {\r\n  if (!objectIterator || typeof objectIterator !== 'object') {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable')\r\n  } else if (typeof objectIterator[Symbol.iterator] === 'function') {\r\n    return packIterSync(objectIterator, options)\r\n  } else if (typeof objectIterator.then === 'function' || typeof objectIterator[Symbol.asyncIterator] === 'function') {\r\n    return packIterAsync(objectIterator, options)\r\n  } else {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise')\r\n  }\r\n}\r\n\r\nfunction * packIterSync (objectIterator, options) {\r\n  const packr = new Packr(options)\r\n  for (const value of objectIterator) {\r\n    yield packr.pack(value)\r\n  }\r\n}\r\n\r\nasync function * packIterAsync (objectIterator, options) {\r\n  const packr = new Packr(options)\r\n  for await (const value of objectIterator) {\r\n    yield packr.pack(value)\r\n  }\r\n}\r\n\r\n/**\r\n * Given an Iterable/Iterator input which yields buffers, returns an IterableIterator which yields sync decoded objects\r\n * Or, given an Async Iterable/Iterator which yields promises resolving in buffers, returns an AsyncIterableIterator.\r\n * @param {Iterable|Iterator|AsyncIterable|AsyncIterableIterator} bufferIterator\r\n * @param {object} [options] - unpackr options\r\n * @returns {IterableIterator|Promise.<AsyncIterableIterator}\r\n */\r\nexport function unpackIter (bufferIterator, options = {}) {\r\n  if (!bufferIterator || typeof bufferIterator !== 'object') {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise')\r\n  }\r\n\r\n  const unpackr = new Unpackr(options)\r\n  let incomplete\r\n  const parser = (chunk) => {\r\n    let yields\r\n    // if there's incomplete data from previous chunk, concatinate and try again\r\n    if (incomplete) {\r\n      chunk = Buffer.concat([incomplete, chunk])\r\n      incomplete = undefined\r\n    }\r\n\r\n    try {\r\n      yields = unpackr.unpackMultiple(chunk)\r\n    } catch (err) {\r\n      if (err.incomplete) {\r\n        incomplete = chunk.slice(err.lastPosition)\r\n        yields = err.values\r\n      } else {\r\n        throw err\r\n      }\r\n    }\r\n    return yields\r\n  }\r\n\r\n  if (typeof bufferIterator[Symbol.iterator] === 'function') {\r\n    return (function * iter () {\r\n      for (const value of bufferIterator) {\r\n        yield * parser(value)\r\n      }\r\n    })()\r\n  } else if (typeof bufferIterator[Symbol.asyncIterator] === 'function') {\r\n    return (async function * iter () {\r\n      for await (const value of bufferIterator) {\r\n        yield * parser(value)\r\n      }\r\n    })()\r\n  }\r\n}\r\nexport const decodeIter = unpackIter\r\nexport const encodeIter = packIter","export { Packr, Encoder, addExtension, pack, encode, NEVER, ALWAYS, DECIMAL_ROUND, DECIMAL_FIT, REUSE_BUFFER_MODE } from './pack.js'\r\nexport { Unpackr, Decoder, C1, unpack, unpackMultiple, decode, FLOAT32_OPTIONS, clearSource, roundFloat32, isNativeAccelerationEnabled } from './unpack.js'\r\nexport { decodeIter, encodeIter } from './iterators.js'\r\nexport const useRecords = false\r\nexport const mapsAsObjects = true\r\n","const PicoRepo = require('picorepo')\nconst Feed = require('picofeed')\nconst { Packr, pack, unpack } = require('msgpackr')\nconst STRUCTS = 'msgpackr::structs'\nclass PicoStore {\n  constructor (db, mergeStrategy) {\n    this.repo = PicoRepo.isRepo(db) ? db : new PicoRepo(db)\n    this._strategy = mergeStrategy || (() => {})\n    this._stores = []\n    this._loaded = false\n    this._mutex = Promise.resolve(0)\n    this._tap = null // global sigint trap\n    this._packr = null\n  }\n\n  async _waitLock () {\n    const current = this._mutex\n    let release, fail\n    const next = new Promise((resolve, reject) => { release = resolve; fail = reject })\n    this._mutex = next\n    let timeoutError = null\n    try { throw new Error('MutexTimeout') } catch (err) { timeoutError = err }\n    const timerId = setTimeout(() => {\n      console.error('MutexTimeout', timeoutError.stack)\n      fail(timeoutError)\n    }, 5000) // TODO: way to disable timeouts during debugger sessions\n    await current\n    return () => {\n      clearTimeout(timerId)\n      release()\n    }\n  }\n\n  register (name, initialValue, validator, reducer, trap) {\n    if (this._loaded) throw new Error('register() must be invoked before load()')\n    if (typeof name !== 'string') {\n      return this.register(name.name, name.initialValue, name.filter, name.reducer, name.trap)\n    } else if (typeof initialValue === 'function') {\n      return this.register(name, undefined, initialValue, validator)\n    }\n\n    this._stores.push({\n      name,\n      validator,\n      reducer,\n      trap,\n      version: 0,\n      head: undefined,\n      value: initialValue,\n      initialValue,\n      observers: new Set()\n    })\n  }\n\n  async load () {\n    const unlock = await this._waitLock()\n    if (this._loaded) throw new Error('Store already loaded')\n\n    let structures = await this.repo.readReg(STRUCTS)\n    if (structures) structures = unpack(structures)\n    else structures = []\n\n    this._packr = new Packr({\n      structures,\n      saveStructures: () => this.repo.writeReg(STRUCTS, pack(structures))\n        // .then(console.info.bind(null, 'msgpackr:structs saved'))\n        .catch(console.error.bind(null, 'Failed saving msgpackr:structs'))\n    })\n\n    for (const store of this._stores) {\n      const head = await this.repo.readReg(`HEADS/${store.name}`)\n      if (!head) continue // Empty\n      store.head = head\n      store.version = this._decodeValue(await this.repo.readReg(`VER/${store.name}`))\n      store.value = this._decodeValue(await this.repo.readReg(`STATES/${store.name}`))\n      for (const listener of store.observers) listener(store.value)\n    }\n    this._loaded = true\n    unlock()\n  }\n\n  /**\n   * Mutates the state, if a reload is in progress the dispatch will wait\n   * for it to complete.\n   */\n  async dispatch (patch, loud) {\n    const unlock = await this._waitLock()\n    try { // Ensure mutex release on error\n      const res = await this._dispatch(patch, loud)\n      unlock()\n      return res\n    } catch (err) {\n      unlock()\n      throw err\n    }\n  }\n\n  async _dispatch (patch, loud = false) {\n    if (!this._loaded) throw Error('Store not ready, call load()')\n    patch = Feed.from(patch)\n    // Check if head can be fast-forwarded\n    /* Oops I broke it again....\n     * In-repo (local):\n     * A0 A1  <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * incoming (patch): A1 B1\n     *\n     * Expected result:\n     * A0 A1 B1 <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * Ex. #2 (local)\n     * A0 A1 B1  <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * Patch: B1 A2\n     *\n     * Expected result:\n     * A0 A1 B1 A2 <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     */\n    let local = null // Target branch to merge to\n    if (patch.first.isGenesis) {\n      const owner = patch.first.key\n      const tail = await this.repo.tailOf(owner)\n      if (tail) local = await this.repo.loadHead(owner)\n      else local = new Feed() // happy birthday feed!\n    } else {\n      // Load entire branch into memory twice...\n      const owner = await this.repo._traceOwnerOf(patch.first.parentSig)\n      if (!owner) throw new Error('Unknown target branch')\n      local = await this.repo.loadHead(owner)\n    }\n\n    // TODO: Local can be undef, happens when blocks are sent\n    // sparsely for feeds that already been GC'd or yet unknown.\n    // Should be fixed somehow using a temporary scratch bucket\n    // where unmergable blocks are held until chains are resolved.\n\n    // canMerge?\n    if (!local.clone().merge(patch)) return []\n\n    const diff = !local.length ? patch.length : local._compare(patch) // WARNING untested internal api.\n    if (diff < 1) return [] // Patch contains equal or less blocks than local\n\n    const modified = new Set()\n    const root = this.state\n\n    let parentBlock = null\n    const _first = patch.get(-diff)\n    if (!_first.isGenesis && !local.length) {\n      if (loud) throw new Error('NoCommonParent')\n      return []\n    } else if (!_first.isGenesis && local.length) {\n      const it = local.blocks()\n      let res = it.next()\n      while (!parentBlock && !res.done) { // TODO: avoid loop using local.get(something)\n        if (res.value.sig.equals(_first.parentSig)) parentBlock = res.value\n        res = it.next()\n      }\n      if (!parentBlock) {\n        throw new Error('ParentNotFound') // real logical error\n      }\n    }\n\n    for (const block of patch.blocks(-diff)) {\n      const accepted = []\n      for (const store of this._stores) {\n        if (typeof store.validator !== 'function') continue\n        let validationError = store.validator({ block, parentBlock, state: store.value, root })\n\n        if (!validationError) accepted.push(store) // no error, proceed.\n        else if (validationError === true) {\n          // NO-OP\n          // Returning 'true' from a validator explicitly means silent ignore.\n        } else if (loud) { // throw validation errors\n          if (typeof validationError === 'string') validationError = new Error(`InvalidBlock: ${validationError}`)\n          throw validationError\n        }\n      }\n      if (!accepted.length) break // reject rest of chain if block not accepted\n      const mod = await this._mutateState(block, parentBlock, false, loud)\n\n      for (const s of mod) modified.add(s)\n      parentBlock = block\n    }\n    this._notifyObservers(modified)\n    return Array.from(modified)\n  }\n\n  async _mutateState (block, parentBlock, dryMerge = false, loud = false) {\n    const modified = []\n\n    // Generate list of stores that want to reduce this block\n    const stores = []\n    for (const store of this._stores) {\n      if (typeof store.validator !== 'function') continue\n      if (typeof store.reducer !== 'function') continue\n      const root = this.state\n      const rejected = store.validator({ block, parentBlock, state: store.value, root })\n      if (rejected) continue\n      stores.push(store)\n    }\n\n    // Attempt repo.merge if at least one store accepts block\n    if (stores.length) {\n      const merged = await this.repo.merge(block, this._strategy)\n      if (!dryMerge && !merged) {\n        if (loud) console.warn('RejectedByBucket: MergeStrategy failed')\n        return modified // Rejected by bucket\n      }\n      // TODO: maybe push block to stupid cache at this point\n      // to avoid discarding an out of order block\n    }\n    // Interrupts are buffered until after the mutations have run\n    const interrupts = []\n    const signal = (i, p) => interrupts.push([i, p])\n\n    // Run all state reducers\n    for (const store of stores) {\n      // If repo accepted the change, apply it\n      const root = this.state\n      const val = store.reducer({ block, parentBlock, state: store.value, root, signal })\n      if (typeof val === 'undefined') console.warn('Reducer returned `undefined` state.')\n      await this._commitHead(store, block.sig, val)\n      modified.push(store.name)\n    }\n\n    // Run all traps in signal order\n    // NOTE: want to avoid reusing term 'signal' as it's a function\n    // in reducer context, candidates: code/type/event ('type' already overused)\n    for (const [code, payload] of interrupts) {\n      for (const store of this._stores) {\n        if (typeof store.trap !== 'function') continue\n        const root = this.state\n        const val = store.trap({ code, payload, block, parentBlock, state: store.value, root })\n        if (typeof val === 'undefined') continue // undefined equals no change\n        await this._commitHead(store, block.sig, val)\n        modified.push(store.name)\n      }\n    }\n    if (typeof this._tap === 'function') {\n      for (const [code, payload] of interrupts) this._tap(code, payload)\n    }\n    return modified\n  }\n\n  _notifyObservers (modified) {\n    for (const name of modified) {\n      const store = this._stores.find(s => s.name === name)\n      for (const listener of store.observers) listener(store.value)\n    }\n  }\n\n  async _commitHead (store, head, val) {\n    await this.repo.writeReg(`STATES/${store.name}`, this._encodeValue(val))\n    await this.repo.writeReg(`HEADS/${store.name}`, head)\n    await this.repo.writeReg(`VER/${store.name}`, this._encodeValue(store.version++))\n\n    // who needs a seatbelt anyway? let's save some memory.\n    store.value = val // Object.freeze(val)\n    store.head = head\n  }\n\n  get state () {\n    return this._stores.reduce((state, store) => {\n      state[store.name] = store.value\n      return state\n    }, {})\n  }\n\n  /**\n   * Restores all registers to initial values and re-applies all mutations from database.\n   */\n  async reload () {\n    const unlock = await this._waitLock()\n    try {\n      const modified = []\n      const peers = await this.repo.listHeads()\n\n      for (const store of this._stores) {\n        store.value = store.initialValue\n        store.version = 0\n        store.head = undefined\n        for (const listener of store.observers) listener(store.value)\n      }\n\n      // for (const { key, value: ptr } of peers) {\n      for (const { value: ptr } of peers) {\n        let done = false\n        while (!done) {\n          const part = await this.repo.loadFeed(ptr)\n          // TODO: Multiparent resolve chains and prioritize\n          // paths that lead to `key` (peer id) genesis\n          let parentBlock = null\n          for (const block of part.blocks()) {\n            const mods = await this._mutateState(block, parentBlock, true)\n\n            for (const s of mods) {\n              if (!~modified.indexOf(s)) modified.push(s)\n            }\n            // if (block.isGenesis) done = true\n            // else ptr = some other reference\n            parentBlock = block\n          }\n          done = true\n        }\n      }\n\n      // TODO: considered to release mutex with error if occurs within reload this scope,\n      // but there is no engine-independent way to handle/rethrow an error\n      // without clobbering stack-traces.\n      // Some set stack on `throw` others on `new Error()` *shrug*\n      unlock()\n      this._notifyObservers(modified)\n      return modified\n    } catch (err) {\n      unlock()\n      throw err\n    }\n  }\n\n  on (name, observer) {\n    const store = this._stores.find(s => s.name === name)\n    if (!store) throw new Error(`No such store: \"${name}\"`)\n    if (typeof observer !== 'function') throw new Error('observer must be a function')\n    store.observers.add(observer)\n    observer(store.value)\n    // unsub\n    return () => store.observers.delete(observer)\n  }\n\n  /**\n   * Hotswaps data-storage immediately reloading store from given bucket\n   * and destroying previous database deleting all values in the background\n   * to free up memory in storage.\n   * returns an array containing two promises:\n   *   Reload op: Store ready for use again when resolves.\n   *   Destroy op: Old database was succesfully cleared when resolved.\n   */\n  hotswap (db) {\n    const prev = this.repo\n    // Swap database and begin reload\n    this.repo = db instanceof PicoRepo ? db : new PicoRepo(db)\n    const reloaded = this.reload()\n    // TODO: move this to PicoRepo#destroy() => Promise\n    const destroyed = prev._db.clear()\n    return [reloaded, destroyed]\n  }\n\n  _decodeValue (buf) {\n    if (!buf) return buf\n    return this._packr.unpack(buf)\n  }\n\n  _encodeValue (obj) {\n    return this._packr.pack(obj)\n  }\n}\n\nmodule.exports = PicoStore\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","// SPDX-License-Identifier: AGPL-3.0-or-later\nconst D = require('debug')('pico-net')\nconst PLUG_SYMBOL = Symbol.for('pico:plug')\nconst REPLY_EXPECTED = 1\n// const END_OF_STREAM = 1  // plug.close()\n// const ERROR = 1 << 1 // plug.close(new Error('RemoteError'))\n// const BANNED = 1 << 2 // plug.close(new Error('BannedByRemote'))\n\nfunction picoWire (opts = {}) {\n  const MESSAGE_TIMEOUT = opts?.timeout || 30 * 1000\n  let id = opts?.id // named pipes?\n  let closed = false\n  let [aOpened, bOpened] = [false, false]\n  const a = mkPlug(true)\n  const b = mkPlug(false)\n  const [castA, setCastA, abortCastA] = unpromise()\n  const [castB, setCastB, abortCastB] = unpromise()\n  const broadcastsExported = [false, false]\n\n  const [$closed, setClosed] = unpromise()\n  const pending = new Set()\n  return [a, b]\n  function mkPlug (isA) {\n    const plug = {\n      // get name () { return `${id || '|'}_${isA ? 'a' : 'b'}` },\n      get name () { return `${id || '|'} ${isA ? '-->' : '<--'} ` },\n      get id () { return id },\n      set id (v) {\n        if (id) throw new Error('ID has already been set')\n        id = v\n      },\n      get onmessage () {\n        broadcastsExported[isA ? 0 : 1] = true\n        return isA ? castA : castB\n      },\n      get opened () {\n        if (closed) return Promise.reject(new Error('Disconnected'))\n        broadcastsExported[isA ? 1 : 0] = true\n        return (isA ? castB : castA).then(cast => !!cast)\n      },\n      get closed () {\n        return $closed\n      },\n      set onmessage (fn) { // broadcast handler\n        if (typeof fn !== 'function') throw new Error('expected onmessage to be a function')\n        if (isA ? aOpened : bOpened) throw new Error('Handler has already been set')\n        if (isA) {\n          setCastA(fn)\n          aOpened = true\n        } else {\n          setCastB(fn)\n          bOpened = true\n        }\n      },\n\n      async postMessage (msg, flags) {\n        if (closed) throw new Error('Disconnected')\n        if (!plug.isActive) throw new Error('Void')\n        broadcastsExported[isA ? 1 : 0] = true\n        const sink = await (isA ? castB : castA)\n        const resolve = scope => sink(scope)\n        return Recurser(isA, resolve, msg, flags)\n      },\n      get isActive () { return (isA ? bOpened : aOpened) && !closed },\n      get isClosed () { return closed },\n\n      open (handler) {\n        if (isPlug(handler)) return spliceWires(plug, handler)\n        plug.onmessage = handler\n        return plug.opened\n          .then(() => [plug.postMessage, plug])\n      },\n      close (err = null) { tearDown(isA, err) },\n      get other () { return isA ? b : a }\n    }\n    plug[PLUG_SYMBOL] = true // used by open/splice\n    return plug\n  }\n\n  /**\n   * Generates two lock-stepped promise chains until\n   * a reply is invoked without the expectResponse flags set\n   */\n  async function Recurser (isA, sink, msg, flags) {\n    if (closed) throw new Error('Disconnected') // console.warn('Message dropped, connection closed', msg)\n    if (typeof flags === 'function') throw new Error('Callback API has been deprecated')\n    const replyExpected = flags & REPLY_EXPECTED || flags\n    const tag = module.exports.V && `${(isA ? a : b).name} = ${msg.toString(Buffer.isBuffer(msg) && 'hex').slice(0, 14)}`\n    const [$scope, setScope, abortScope] = unpromiseTimeout(MESSAGE_TIMEOUT, tag)\n    setScope.abort = abortScope // tiny hack\n    if (replyExpected) pending.add(setScope)\n    pending.delete(sink)\n    const reply = !replyExpected ? null : Recurser.bind(null, !isA, setScope)\n    try { // Second async context that runs past this methods lifetime\n      sink([msg, reply, !isA ? a : b]) // transmit to other\n      if (!replyExpected) setScope([]) // Consider message delivered\n    } catch (err) { abortScope(err); console.warn('Trap A: ', err.message) }\n    return $scope // installTrap($scope, err => { console.warn('Trap B: ', err.message) })\n      .catch(err => { console.warn('Trap B: ', err.message); throw err })\n  }\n\n  /*\n  // Now some black magic\n  function installTrap (p, h, depth = 0) {\n    if (!p || typeof p.then !== 'function') return p\n    const t = p.then.bind(p)\n    p.then = (a) => {\n      console.info(depth, 'Installing trap after', a.toString())\n      const next = t(s => { console.log(depth, 'then Hijacked', s[0]); return a(s) })\n        .catch(err => { console.log(depth, 'catch Hijacked', err); h(err); throw err })\n      installTrap(next, h, ++depth)\n      return next\n    }\n    return p\n  }\n  */\n\n  function tearDown (isA, error = null) {\n    if (closed) return true\n    D('PipeClosed by: %s cause: %s pending: %d', isA ? 'A' : 'B', error?.message, pending.size)\n    closed = true // block further interaction\n    for (const set of Array.from(pending)) {\n      pending.delete(set)\n      set.abort(error || new Error('Disconnected'))\n    }\n    setClosed(error)\n    if (broadcastsExported[0]) abortCastA(error || new Error('Disconnected'))\n    if (broadcastsExported[1]) abortCastB(error || new Error('Disconnected'))\n    return $closed\n  }\n}\n\nfunction isPlug (o) { return !!(o && o[PLUG_SYMBOL]) }\n\nfunction spliceWires (a, b) {\n  if (!isPlug(a) || !isPlug(b)) throw new Error('Expected two pipe-ends')\n  // console.log(`Splicing ${plug.id} <--> ${other.id}`)\n  function stitch (sink, scope) {\n    if (!Array.isArray(scope)) throw new Error('DesignFlaw')\n    const [msg, reply] = scope\n    let next = sink(msg, !!reply)\n    if (reply) next = next.then(stitch.bind(null, reply))\n    return next\n      .catch(err => {\n        console.warn('Trap S: ', err.message)\n        // throw err // there's nothing to catch this error\n      })\n  }\n  a.onmessage = scope => stitch(b.postMessage, scope)\n  b.onmessage = scope => stitch(a.postMessage, scope)\n  a.closed.then(b.close).catch(b.close)\n  b.closed.then(a.close).catch(a.close)\n  return a.close\n}\n\nfunction _picoWire (onmessage, onopen, onclose) {\n  const [a, b] = picoWire()\n  a.closed\n    .then(onclose)\n    .catch(onclose)\n  a.opened\n    .then(onopen)\n    .catch(onopen)\n  a.onmessage = onmessage\n  return b\n}\n\nfunction unpromiseTimeout (t, debug = false) {\n  const [promise, set, abort] = unpromise(debug)\n  const id = setTimeout(abort.bind(null, new Error('Timeout')), t)\n  return [\n    promise,\n    (err, value) => {\n      clearTimeout(id)\n      set(err, value)\n    },\n    function _abort (err) {\n      clearTimeout(id)\n      abort(err || new Error('Aborted'))\n    }\n  ]\n}\n\n// Stay healthy, stay sane\nlet _unpctr = 0\nconst _active = []\nfunction unpromiseD (tag = '_') {\n  const id = _unpctr++\n  let stack = null\n  try { throw new Error() } catch (e) { stack = e.stack }\n  console.debug('[UNP]', id, tag, 'Promise Created\\n', module.exports.V > 1 && stack)\n\n  const [$p, set, abort] = unpromise()\n  _active[id] = abort\n  return [\n    $p.then(v => ((notify('resolved', v), v)))\n      .catch(e => { notify('rejected', undefined, e); throw e }),\n    v => { notify('set', v); set(v) },\n    e => { notify('abort', undefined, e); abort(e) }\n  ]\n  function notify (state, value, error) {\n    _active[id] = undefined\n    const active = _active.map((a, i) => a && i).filter(n => n)\n    if (state === 'set') {\n      let stack = null\n      try { throw new Error() } catch (e) { stack = e.stack }\n      module.exports.V > 1 && console.debug('[UNP]', id, tag, 'SET at: \\n', stack)\n      return\n    }\n    console.debug(\n      '[UNP]',\n      id,\n      tag,\n      state,\n      `P(${active.join(',')})`,\n      error\n        ? error.message\n        : Array.isArray(value)\n          ? `Arr[${value.length}]: ${value[0] || ''}`\n          : value\n    )\n  }\n}\nfunction unpromise (debug = false) {\n  if (debug) return unpromiseD(debug)\n  let set, abort\n  return [\n    new Promise((resolve, reject) => { set = resolve; abort = reject }),\n    set,\n    abort\n  ]\n}\n\n/**\n * So the repeater is a naive fictional network-hub that dumbly\n * repeats all message to all available nodes;\n * I might have just described a shared message-bus (a.k.a EventEmitter)\n *\n * Bridging two repeaters is surprisingly simple:\n * const a = new Repeater()\n * const b = new Repeater()\n * a.createWire()(b.broadcast)\n * b.createWire()(a.broadcast)\n * - or -\n * a.createWire().pipe(b.createWire())\n *\n *\n * Repeater is now PicoHub having 2 modes of operation.\n * if instantiated without onmessage handler it acts as a dumb\n * repeater, re-emitting a messages on all wires.\n * When onmessage handler is provided all incoming traffic will\n * be forwarded to the master handler.\n */\nclass PicoHub {\n  constructor (onmessage, onclose) {\n    this._nodes = new Set()\n    this._tap = null\n    if (typeof onmessage === 'function') this._tap = onmessage\n    if (typeof onclose === 'function') this._afterRemove = onclose\n  }\n\n  /**\n   * Repeater.createWire() spawns a new 'connect' function\n   * that can be used as such:\n   *\n   * const publish = connect(function onread (msg, reply, disconnect) {\n   *   if (msg === 'Hello') publish('Hey!!')\n   *   else if (msg === 'Bye') disconnect()\n   *   else if (msg === 'Hello tony!' && this.name === 'tony') reply('Bob, is that you?')\n   * })\n   */\n  createWire (externalOnOpen, opts = {}) {\n    const [hubEnd, looseEnd] = picoWire(opts)\n    hubEnd.onmessage = ([msg, reply]) => {\n      if (this._tap) {\n        this._tap(hubEnd, msg, reply)\n          .catch(err => console.error('_tap failed:', err))\n      } else {\n        return this.broadcast(msg, reply, hubEnd)\n          .catch(err => console.error('_broadcast failed:', err))\n      }\n    }\n    const antiLeakTimer = setTimeout(\n      () => hubEnd.close(new Error('NodeTimedout')),\n      30 * 1000\n    )\n    hubEnd.opened.then(open => {\n      if (!open) return console.warn('wire.opened resolved false?', open)\n      clearTimeout(antiLeakTimer)\n      this._nodes.add(hubEnd)\n      if (typeof externalOnOpen === 'function') externalOnOpen(hubEnd)\n    }).catch(err => this.disconnect(hubEnd, err))\n\n    hubEnd.closed.then(err => this.disconnect(hubEnd, err))\n    return looseEnd\n  }\n\n  disconnect (sink, err) {\n    if (!sink) return false\n    if (this._nodes.delete(sink)) {\n      if (typeof this._afterRemove === 'function') this._afterRemove(sink, err)\n      else if (err) console.warn('NodeDisconnected', err)\n      return true\n    }\n    // Attempt to delete by id equality\n    for (const sink of this._nodes) {\n      if (sink.id === sink && this._nodes.delete(sink)) {\n        if (typeof this._afterRemove === 'function') this._afterRemove(sink, err)\n        else if (err) console.warn('NodeDisconnected', err)\n        return true\n      }\n    }\n  }\n\n  get count () { return this._nodes.size }\n\n  /**\n   * A special broadcast that supports bi-directional channels\n   * */\n  async * survey (message, flags, filter) {\n    let abort = false\n    const pending = new Set()\n    // Broadcast message to all wires, push returned promise to pending\n    for (const sink of this._filterNodes(filter)) {\n      const p = sink.postMessage(message, flags)\n      pending.add(p)\n      p.catch(err => {\n        pending.delete(p)\n        console.warn('Survey node ignored:', err)\n      })\n    }\n    // race all promises and remove them from pending list as they resolve or timeout.\n    while (!abort && pending.size) {\n      const res = await Promise.race(\n        Array.from(pending)\n          .map(p => p.then(val => ({ val, p })))\n      )\n      if (!res) continue\n      pending.delete(res.p)\n      const abortSurvey = () => { abort = true }\n      yield [...res.val, abortSurvey]\n    }\n  }\n\n  /*\n   * A simplier interface for survey iterator\n   * that waits for all messages to be transmited\n   * before returning. Use survey directly if you want\n   * fast asynchroneous behaviour.\n   */\n  async broadcast (message, flags, filter) {\n    const iterator = this.survey(message, flags, filter)\n    const responses = []\n    let res = await iterator.next()\n    while (!res.done) {\n      responses.push(res.value)\n      res = await iterator.next()\n    }\n    return responses\n  }\n\n  _filterNodes (filter) {\n    if (!filter) return this._nodes\n    if (!Array.isArray(filter)) filter = [filter]\n    return Array.from(this._nodes).filter(sink =>\n      sink.isActive &&\n      !filter.find(t => isPlug(t) ? t === sink : t === sink.id)\n    )\n  }\n}\n\n/**\n * HyperWire: PicoWire <-> Stream adapter\n * Encodes callstack into vector clocks (inspired by TCP/IP sequence numbers)\n * Or maybe more like ports.\n * TODO: convert into binaryEncoderAdapter(plug) for compatibility with\n * any type of serial socket.\n */\nconst NETWORK_TIMEOUT = 30 * 1000\nfunction hyperWire (plug, hyperStream, key, extensionId = 125) {\n  if (!isPlug(plug)) throw new Error('Wire end expected')\n  const routingTable = new Map()\n  let seq = 1\n  const channel = hyperStream.open(key, {\n    onextension: onStreamReceive,\n    onclose: plug.close\n  })\n  const closeStream = () => {\n    channel.close()\n  }\n  // TODO: consider changing onmessage api to (scope: Array)\n  // to avoid unwrap/rewrap issues\n  plug.onmessage = scope => sendExt(0, scope)\n  plug.closed\n    .then(() => !channel.closed && closeStream())\n    .catch(err => hyperStream.delete(err))\n  return closeStream\n\n  function onStreamReceive (id, chunk) {\n    if (id !== extensionId) {\n      return console.warn('Message dropped! multiple extensions on this channel??', extensionId, id)\n    }\n    const dstPort = chunk.readUInt16BE(0)\n    const srcPort = chunk.readUInt16BE(2)\n    const flags = chunk[4]\n    const replyExpected = !!(flags & REPLY_EXPECTED)\n    if (routingTable.has(dstPort)) {\n      const { replyTo, timer } = routingTable.get(dstPort)\n      routingTable.delete(dstPort)\n      clearTimeout(timer)\n      replyTo(chunk.slice(5), flags)\n        .then(replyExpected && sendExt.bind(null, srcPort))\n        .catch(error => console.error('Hyperwire writeerror', error))\n    } else if (dstPort === 0) { // broadcast\n      plug.postMessage(chunk.slice(5), flags)\n        .then(replyExpected && sendExt.bind(null, srcPort))\n        .catch(error => console.error('Hyperwire writeerror', error))\n    } else {\n      console.warn('Hyperwire message dropped! unknown port', dstPort, srcPort)\n    }\n  }\n\n  function sendExt (dstPort, scope) {\n    const [message, replyTo] = scope\n    if (!Buffer.isBuffer(message)) throw new Error('Binary message expected')\n    let srcPort = 0\n    let flags = 0\n    if (typeof replyTo === 'function') {\n      srcPort = seq++\n      registerCallback(srcPort, replyTo)\n      flags = flags | REPLY_EXPECTED\n    }\n    const txBuffer = Buffer.alloc(message.length + 5)\n    txBuffer.writeUInt16BE(dstPort) // In reply to\n    txBuffer.writeUInt16BE(srcPort, 2) // this packet id\n    txBuffer[4] = flags\n    message.copy(txBuffer, 5)\n    channel.extension(extensionId, txBuffer)\n  }\n\n  function registerCallback (srcPort, replyTo) {\n    const timer = setTimeout(() => {\n      if (!routingTable.has(srcPort)) return\n      routingTable.delete(srcPort)\n      closeStream(new Error('ResponseTimeout'))\n    }, NETWORK_TIMEOUT)\n    routingTable.set(srcPort, { replyTo, timer })\n  }\n}\n\nconst MTU = 256 << 10 // 256kB\nfunction streamWire (plug, duplexStream) {\n  const routingTable = new Map()\n  let seq = 1\n  let txBuffer = Buffer.alloc(256)\n  const broadcast = plug(streamSend.bind(null, 0))\n  duplexStream.on('data', onStreamReceive)\n  duplexStream.once('close', onclose)\n  duplexStream.once('error', onclose)\n\n  const closeStream = err => err ? duplexStream.end() : duplexStream.destroy(err)\n  return closeStream\n\n  function onclose (err) {\n    duplexStream.off('data', onStreamReceive)\n    duplexStream.off('error', onclose)\n    duplexStream.off('close', onclose)\n    broadcast.close(err)\n  }\n\n  function onStreamReceive (chunk) {\n    const dstPort = chunk.readUInt16BE(0)\n    const srcPort = chunk.readUInt16BE(2)\n    // const size = chunk.readUInt16BE(4)\n    // TODO: streamWire does not support fragmentation ATM\n    // if (chunk.length < size) debugger\n\n    if (routingTable.has(dstPort)) {\n      const { replyTo, timer } = routingTable.get(dstPort)\n      routingTable.delete(dstPort)\n      clearTimeout(timer)\n      replyTo(chunk.slice(6), (msg, replyTo) => streamSend(srcPort, msg, replyTo))\n    } else if (dstPort === 0) { // broadcast\n      broadcast(chunk.slice(6), (msg, replyTo) => streamSend(srcPort, msg, replyTo))\n    } else {\n      console.warn('WARN: streamWire Message dropped', chunk[6])\n    }\n  }\n\n  function streamSend (dstPort, msg, replyTo) {\n    let srcPort = 0\n    if (typeof replyTo === 'function') {\n      srcPort = seq++\n      registerCallback(srcPort, replyTo)\n    }\n    const packetSize = msg.length + 6 // seq\n    if (packetSize > txBuffer.length) {\n      if (packetSize >= MTU) throw new Error('Message exceeds MTU')\n      txBuffer = Buffer.alloc(packetSize)\n    }\n    txBuffer.writeUInt16BE(dstPort) // In reply to\n    txBuffer.writeUInt16BE(srcPort, 2) // this packet id\n    txBuffer.writeUInt16BE(packetSize, 4) // Packet size\n    msg.copy(txBuffer, 6)\n    duplexStream.write(txBuffer.slice(0, packetSize))\n  }\n\n  function registerCallback (srcPort, replyTo) {\n    const timer = setTimeout(() => {\n      if (!routingTable.has(srcPort)) return\n      // get replyTo from table to allow GC clear up replyTo reference\n      routingTable.delete(srcPort)\n      closeStream(new Error('ResponseTimeout'))\n    }, NETWORK_TIMEOUT)\n    routingTable.set(srcPort, { replyTo, timer })\n  }\n}\n\nasync function * messageIterator (wire) {\n  const pBuffer = []\n  const rBuffer = []\n  let done = false\n  pBuffer.push(new Promise(resolve => rBuffer.push(resolve)))\n\n  const send = wire((message, reply) => {\n    pBuffer.push(new Promise(resolve => rBuffer.push(resolve)))\n    rBuffer.shift()([\n      message,\n      reply,\n      function stopGeneratorAndCloseWire () {\n        send.close()\n        done = true\n      }\n    ])\n  })\n  while (!done) yield await pBuffer.shift() // eslint-disable-line no-unmodified-loop-condition\n}\n\n// Recursivly binds JSON codec without plugging in\n// wire.\nfunction jsonTransformer (plug) {\n  return encodingTransformer(plug, {\n    encode: obj => Buffer.from(JSON.stringify(obj)),\n    decode: msg => JSON.parse(msg)\n  })\n}\n\n// Recursivly binds abstract encoding codec without plugging in\n// wire.\nfunction encodingTransformer (plug, encoder) {\n  const encode = (forward, obj, r, c) => forward(\n    encoder.encode(obj),\n    r && decode.bind(null, r, c)\n  )\n  const decode = (forward, msg, r, c) => forward(\n    encoder.decode(msg),\n    r && encode.bind(null, r, c)\n  )\n\n  return down => {\n    const up = plug(decode.bind(null, down))\n    return encode.bind(null, up)\n  }\n}\n\n// Practical starting point\nmodule.exports = PicoHub\nmodule.exports.V = 0 // verbosity level 'debug' lib is good but need conditional execution.\n// Main pipe/wire spawners\nmodule.exports.picoWire = picoWire\nmodule.exports.simpleWire = _picoWire\n\n// Adapters\nmodule.exports.streamWire = streamWire\nmodule.exports.hyperWire = hyperWire\nmodule.exports.spliceWires = spliceWires\n\n// Transformers\nmodule.exports.jsonTransformer = jsonTransformer\nmodule.exports.encodingTransformer = encodingTransformer\n\n// misc\nmodule.exports.messageIterator = messageIterator\nmodule.exports.unpromise = unpromise\n","/**\n * This RPC has 2 remote procedure calls.\n * First is \"blocks\" which sends one-or-more feeds to remote peer.\n * Second is \"query\" which expects remote peer to respond with \"blocks\".\n * Feel free to copy and modify if you need something different. (AGPL)\n */\nconst Hub = require('piconet')\nconst Feed = require('picofeed')\nconst { pack, unpack } = require('msgpackr')\nconst { write } = require('piconuro')\n\n// const { randomBytes } = require('crypto')\n// TODO: is crypto.randomBytes() available in Browser?\nconst randomBytes = n => Buffer.from(\n  Array.from(new Array(n))\n    // Not very random, used to generate a node-id\n    .map(_ => Math.floor(Math.random() * 256))\n)\n\n// Message Types\nconst OK = 0\nconst ERR = -1\nconst QUERY = 1\nconst BLOCKS = 2\nconst NODE_ID = 3\n\nclass SimpleRPC {\n  /** Handlers spec:\n   * {\n   *    // When peer conects\n   *    onconnect: send => { ... }\n   *\n   *    // When peer asks for blocks\n   *    onquery: async query => { return Feed || Feeds[] }\n   *\n   *    // When blocks received from peer\n   *    onblocks: async feed => { ... }\n   *\n   *    // When peer disconnects\n   *    ondisconnect: peer => { ... }\n   * }\n   */\n  constructor (handlers) {\n    this.nodeId = randomBytes(8)\n    this._controller = this._controller.bind(this)\n    this.hub = new Hub(\n      (...a) => this._controller(...a),\n      (...a) => this._ondisconnect(...a)\n    )\n    this.handlers = handlers\n\n    // Export connections neuron\n    const [$n, set] = write([])\n    this._setConnections = set\n    this.$connections = $n\n  }\n\n  spawnWire () {\n    // Internal 'onconnect'\n    const plug = this.hub.createWire(hubEnd => {\n      // Exchange node Id\n      hubEnd.postMessage(encodeMsg(NODE_ID, this.nodeId), true)\n        .then(([msg, reply]) => {\n          if (decodeMsg(msg).type !== OK) return // dupe-peer, wire will close\n          this._setConnections(Array.from(this.hub._nodes))\n          // Exchange done, continue with application handshake\n          return this.handlers.onconnect(hubEnd)\n        })\n        .catch(err => console.error('Handshake failed', err))\n    })\n    return plug\n  }\n\n  _ondisconnect (...a) {\n    this._setConnections(Array.from(this.hub._nodes))\n    this.handlers.ondisconnect(...a)\n  }\n\n  async _controller (node, msg, replyTo) {\n    try {\n      const { type, data } = decodeMsg(msg)\n      switch (type) {\n        // Download blocks\n        case BLOCKS:\n          for await (const blocks of this._downloadFeeds(msg, replyTo)) {\n            const forward = await this.handlers.onblocks(blocks)\n            // Gossip if our store accepted the blocks\n            if (forward) {\n              this.shareBlocks(blocks, node) // second param prevents echo\n                .catch(err => console.error('Gossip failed', err))\n            }\n          }\n          break\n\n        // Respond to queries\n        case QUERY: {\n          const feeds = await this.handlers.onquery(data)\n          // Upload feeds to peer\n          this._uploadFeeds(replyTo, feeds)\n            .catch(err => console.error('Failed uploading blocks', err))\n        } break\n\n        case NODE_ID:\n          // Prevent accidental duplicate peer connections\n          for (const n of this.hub._nodes) {\n            if (Buffer.isBuffer(n.id) && n.id.equals(data)) {\n              // Ignore dupe-ack error handling as conection is about\n              // to be killed anyway\n              replyTo(encodeMsg(ERR))\n              return node.close(new Error('DuplicatePeer')) // dedupe peers\n            }\n          }\n          node.id = data\n          await replyTo(encodeMsg(OK))\n          break\n\n        default:\n          throw new Error(`Unknown message type: ${type}`)\n      }\n    } catch (err) {\n      console.error('RPC:internal error', err)\n    }\n  }\n\n  // Shares blocks to all connected peers\n  async shareBlocks (feeds, filter) {\n    if (Feed.isFeed(feeds)) feeds = [feeds]\n    feeds = [...feeds]\n    const first = feeds.shift()\n    const iterator = this.hub.survey(encodeMsg(BLOCKS, first), !!feeds.length, filter)\n\n    for await (const [msg, sink] of iterator) {\n      if (!feeds.length) continue // one feed sent, that's it.\n      if (typeOfMsg(msg) === OK && sink) {\n        this._uploadFeeds(sink, feeds)\n          .catch(err => console.error('Failed sending subsequent feeds', err))\n      } else {\n        console.warn('Remote rejected subsequent blocks', typeOfMsg(msg))\n      }\n    }\n  }\n\n  async query (node, params = {}) {\n    const [msg, reply] = await node.postMessage(encodeMsg(QUERY, params), true)\n    if (decodeMsg(msg).type === OK) return // Empty reply\n    // Let the controller handle the rest\n    this._controller(node, msg, reply)\n  }\n\n  // Recursively uploads feeds until array\n  // is empty or aborted by remote peer\n  _uploadFeeds (sink, feeds) {\n    if (!feeds || !feeds.length) {\n      return sink(encodeMsg(OK))\n    }\n    const remaining = [...feeds]\n    const current = remaining.shift()\n    return sink(encodeMsg(BLOCKS, current), !!remaining.length)\n      .then(([msg, next]) => {\n        if (!remaining.length) return // It's done\n        if (!msg) return console.warn('Empty scope')\n        if (typeOfMsg(msg) !== OK) return console.warn('Peer rejected subsequent blocks', typeOfMsg(msg))\n        return this._uploadFeeds(next, remaining)\n      })\n  }\n\n  async * _downloadFeeds (msg, sink) {\n    let done = false\n    while (!done) {\n      done = true\n      const { type, data } = decodeMsg(msg)\n      if (type === BLOCKS) yield data\n      else if (sink) {\n        console.warn('Expected BLOCKS but got', type)\n        await sink(encodeMsg(ERR), false)\n        continue\n      }\n      if (!sink) continue // End of stream\n\n      // Download one more feed\n      // updating msg and sink then do another loop.\n      const scope = await sink(encodeMsg(OK), true)\n      msg = scope[0]\n      sink = scope[1]\n      done = false\n    }\n  }\n}\nmodule.exports = SimpleRPC\n\nfunction encodeMsg (type, obj) {\n  let buffer = null\n  switch (type) {\n    case BLOCKS:\n      // TODO: Extend picofeed with official binary pickle support.\n      if (!obj) throw new Error('Feed expected')\n      obj = Feed.from(obj)\n      buffer = Buffer.alloc(obj.tail + 1)\n      obj.buf.copy(buffer, 1, 0, obj.tail)\n      break\n\n    // Serialize signals\n    case ERR:\n    case OK:\n      buffer = Buffer.alloc(1)\n      break\n\n    // Serialize msgpack messages\n    case QUERY: {\n      const data = pack(obj)\n      buffer = Buffer.alloc(data.length + 1)\n      data.copy(buffer, 1)\n    } break\n\n    case NODE_ID:\n      buffer = Buffer.alloc(8 + 1)\n      obj.copy(buffer, 1)\n      break\n\n    default:\n      throw new Error('UnknownMessageType: ' + type)\n  }\n  buffer[0] = type\n  return buffer\n}\n\nfunction typeOfMsg (buffer) {\n  if (!Buffer.isBuffer(buffer)) throw new Error('BufferExpected')\n  return buffer[0]\n}\n\nfunction decodeMsg (buffer) {\n  if (!Buffer.isBuffer(buffer)) throw new Error('BufferExpected')\n  const type = typeOfMsg(buffer)\n  let data = null\n  switch (type) {\n    case BLOCKS:\n      // TODO: Feed.from(buffer) in picofeed\n      data = new Feed()\n      data.buf = buffer.slice(1)\n      data.tail = buffer.length - 1\n      break\n\n    // deserialize signals\n    case OK:\n      data = 'OK'\n      break\n    case ERR:\n      data = 'ERROR'\n      break\n\n    // deserialize msgpack messages\n    case QUERY:\n      data = unpack(buffer.slice(1))\n      break\n\n    case NODE_ID:\n      data = buffer.slice(1, 9)\n      break\n\n    default:\n      throw new Error('UnknownMessageType: ' + type)\n  }\n  return { type, data }\n}\n","// Kernel includes\nconst Repo = require('picorepo')\nconst Store = require('@telamon/picostore')\nconst Feed = require('picofeed')\nconst { pack, unpack } = require('msgpackr')\nconst SimpleRPC = require('./simple-rpc')\nconst KEY_SK = 'reg/sk'\n\n/* This is a simple but complete pico-kernel,\n * It sets up a user-identity, store and rpc.\n * It uses msgpack as block-encoder and also injects\n * sequence-number, type and timestamp props into each block.\n *\n * If you need something more advanced feel free to\n * fork off and hack. <3\n */\nclass SimplePicoKernel {\n  constructor (db, opts = {}) {\n    // Setup store\n    this.db = db\n    this.repo = new Repo(db)\n    this.store = new Store(this.repo, this.mergeStrategy.bind(this))\n    this.ready = false\n    this._secret = opts.secret ?? null\n\n    // Setup network\n    this.rpc = new SimpleRPC({\n      onconnect: send => this.onconnect(send),\n      ondisconnect: peer => this.ondisconnect(peer),\n      onquery: (q, reply) => this.onquery(q, reply),\n      onblocks: feed => this.onblocks(feed)\n    })\n  }\n\n  /**\n   * Returns user's public key (same thing as userId)\n   */\n  get pk () {\n    return this._secret?.slice(32)\n  }\n\n  async boot () {\n    if (this.__loading) return this.__loading\n    this.__loading = (async () => {\n      // If identity wasn't provided via opts.\n      if (!this._secret) {\n        try {\n          // Attempt to restore existing identity\n          this._secret = await this.repo.readReg(KEY_SK)\n        } catch (err) {\n          if (!err.notFound) throw err\n        }\n      }\n\n      // Fallback to generate new identity\n      if (!this._secret) {\n        const { sk } = Feed.signPair()\n        this._secret = sk\n        await this.repo.writeReg(KEY_SK, sk)\n      }\n\n      await this.store.load() // load stores\n      this.ready = true\n    })()\n    return this.__loading\n  }\n\n  /**\n   * PicoRepo: Default merge strategy restricts feeds\n   * to only allow same-author blocks to be appended.\n   * Override this method if you need different behavior.\n   */\n  mergeStrategy (block, repo) {\n    return false\n  }\n\n  /**\n   * Returns user's feed\n   */\n  async feed (limit = undefined) {\n    this._checkReady()\n    return this.repo.loadHead(this.pk)\n  }\n\n  _checkReady () {\n    if (!this.ready) throw new Error('Kernel not ready, did you await kernel.boot()?')\n  }\n\n  /**\n   * Returns the last block number of user\n   * Block sequence starts from 0 and increments by 1 for each new user-block\n   */\n  async seq () {\n    const feed = await this.feed(1)\n    if (!feed) return -1\n    return SimplePicoKernel.decodeBlock(feed.last.body).seq\n  }\n\n  /**\n   * Mutates store and reduced state\n   * returns {string[]} names of stores that were modified by this action\n   */\n  async dispatch (patch, loudFail = false) {\n    this._checkReady()\n    return await this.store.dispatch(patch, loudFail)\n  }\n\n  /**\n   * Creates a new block on parent feed and dispatches it to store\n   *\n   * - branch {Feed} the parent feed, OPTIONAL! defaults to user's private feed.\n   * - type {string} (block-type: 'profile' | 'box' | 'message')\n   * - payload {object} The data contents\n   * returns list of modified stores\n   */\n  async createBlock (branch, type, payload) {\n    if (typeof branch === 'string') return this.createBlock(null, branch, type)\n    this._checkReady() // Abort if not ready\n\n    // Use provided branch or fetch user's feed\n    // if that also fails then initialize a new empty Feed.\n    branch = branch || (await this.feed()) || new Feed()\n\n    const seq = (await this.seq()) + 1 // Increment block sequence\n    const data = SimplePicoKernel.encodeBlock(type, seq, payload) // Pack data into string/buffer\n    branch.append(data, this._secret) // Append data on selected branch\n\n    const mut = await this.dispatch(branch, true) // Dispatch blocks\n    if (!mut.length) throw new Error('createBlock() failed: rejected by store')\n    // Transmit new block on all wires.\n    this.rpc.shareBlocks(branch.slice(-1))\n    return branch\n  }\n\n  /**\n   * Forwards call to RPC,\n   * spawns a stateless Pico-net wire\n   */\n  spawnWire () {\n    return this.rpc.spawnWire()\n  }\n\n  /**\n   * RPC: on Peer disconnect handler, override for custom behaviour\n   */\n  ondisconnect (peer) {\n    // Stub\n  }\n\n  /**\n   * RPC: on Peer connect handler, override for custom behaviour\n   * (like a handshake or something.)\n   * The \"wire-end\" received contains two useful functions:\n   * wire.postMessage(data, replyExpected: boolean) // => Promise\n   * and\n   * wire.close() // disconnects the peer\n   */\n  async onconnect (node) {\n    // Ask peer for blocks\n    await this.rpc.query(node)\n  }\n\n  /**\n   * RPC: when remote Peer asks us for blocks\n   * override friendly.\n   * Expected to return a Feed or array of Feeds\n   */\n  async onquery (params) {\n    // We'll just send the entire repo for now *shrug*\n    const feeds = []\n    const heads = await this.repo.listHeads()\n    for (const { key } of heads) {\n      const f = await this.repo.loadHead(key)\n      // Tradeoff performance to reduce traffic\n      // if (f && !feeds.find(a => a.merge(f))) feeds.push(f) // what?\n      if (f) feeds.push(f)\n    }\n    return feeds\n  }\n\n  /**\n   * RPC: when blocks are received\n   * we simply dispatch them to the store.\n   * They're 'mutations' =)\n   * Expects you to return a Boolean,\n   * if true then the feed will be forwarded\n   * to all other connected peers\n   */\n  async onblocks (feed) {\n    // Bad blocks from remote should be silently ignored.\n    // But in-case-of hairloss, override this method and\n    // invoke: dispatch(feed, true)\n    const loudFail = false\n    const mutated = await this.dispatch(feed, loudFail)\n    return !!mutated.length\n  }\n\n  $connections () { return this.rpc.$connections }\n\n  /**\n   * Convert Object to buffer\n   */\n  static encodeBlock (type, seq, payload) {\n    return pack({\n      ...payload,\n      type,\n      seq,\n      date: new Date().getTime()\n    })\n  }\n\n  /**\n   * Converts buffer to Object\n   */\n  static decodeBlock (body) {\n    return unpack(body)\n  }\n\n  /**\n   * Returns block's type as a string\n   */\n  static typeOfBlock (body) {\n    return SimplePicoKernel.decodeBlock(body).type\n  }\n}\n\nmodule.exports = SimplePicoKernel\n","// SPDX-License-Identifier: AGPL-3.0-or-later\nconst Feed = require('picofeed')\nconst Store = require('@telamon/picostore')\nconst Hub = require('piconet')\nconst SimpleKernel = require('./simple-kernel')\nconst SimpleRPC = require('./simple-rpc')\n\nmodule.exports = {\n  Feed,\n  Store,\n  Hub,\n  SimpleKernel,\n  SimpleRPC\n}\n","/* eslint-disable camelcase */\nconst {\n  crypto_box_seal,\n  crypto_box_seal_open,\n  crypto_box_keypair,\n  crypto_box_SEALBYTES,\n  crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES\n} = require('sodium-universal')\n/* eslint-enable camelcase */\nconst createDebug = require('debug')\nconst { pack, unpack } = require('msgpackr')\nconst { SimpleKernel } = require('picostack')\n\n// Global registry names (used as session variables)\nconst KEY_SK = 'reg/sk'\nconst KEY_BOX_LIKES_PK = 'reg/likes_pk'\nconst KEY_BOX_LIKES_SK = 'reg/likes_sk'\n\n// Block-types\nconst TYPE_PROFILE = 'profile'\nconst TYPE_VIBE = 'vibe' // A.k.a  Like \nconst TYPE_VIBE_RESP = 'vibe-response' // <3 / </3\nconst TYPE_MESSAGE = 'message'\nconst TYPE_BYE = 'bye'\nconst TYPE_BYE_RESP = 'byebye'\n\n// Interrupts (internal lowlevel events)\n// Yes.. they look scary cause they probably are. :/\nconst EV_CHAT_END = 60\n\n// Other Constants\nconst VIBE_REJECTED = Buffer.from('')\nconst PASS_TURN = Buffer.from('')\nconst PEACE = 0\nconst UNDERSTANDING = 1\nconst LOVE = 2\n\nconst G_M = 0\nconst G_F = 1\nconst G_NB = 2\nconst G_R = 3 // Robots are people too\n\n// It's silly to waste\nconst GEO_BITS = 17\n\nconst { encodeBlock, decodeBlock, typeOfBlock } = SimpleKernel\n\nfunction bufferReplacer (k, o) {\n  return (o && typeof o === 'object' && o.type === 'Buffer') ? Buffer.from(o.data) : o\n}\n\n/**\n * Fixes JSON.parse(JSON.stringify(Buffer.alloc(1))) => Buffer\n * instead of: { type: 'Buffer', data [ 0 ] }\n */\nfunction fixJsonBuffers (o) {\n  if (typeof o === 'object' && o.type === 'Buffer') return Buffer.from(o.data)\n  if (Array.isArray(o)) return o.map(fixJsonBuffers)\n  if (typeof o === 'object') {\n    for (const prop in o) {\n      o[prop] = fixJsonBuffers(o[prop])\n    }\n  }\n  return o\n}\n\n/**\n * Converts hexString to buffer\n */\nfunction toBuffer (o) {\n  if (!o) return o\n  if (Buffer.isBuffer(o)) return o\n  if (typeof o === 'string' && /^[0-9A-f]+$/.test(o)) return Buffer.from(o, 'hex')\n  if (typeof o === 'string') return Buffer.from(o) // Not sure if like, remember PHP anyone?\n  if (typeof o === 'object' && o.type === 'Buffer') return Buffer.from(o.data)\n  else return o\n}\n\n/*\n * Sodium seal/unseal encryption\n * https://doc.libsodium.org/public-key_cryptography/sealed_boxes\n */\nfunction seal (m, pk) {\n  const c = Buffer.allocUnsafe(crypto_box_SEALBYTES + m.length) // eslint-disable-line camelcase\n  crypto_box_seal(c, m, pk)\n  return c\n}\n\nfunction unseal (c, sk, pk) {\n  const m = Buffer.allocUnsafe(c.length - crypto_box_SEALBYTES) // eslint-disable-line camelcase\n  const succ = crypto_box_seal_open(m, c, pk, sk)\n  if (!succ) throw new Error('DecryptionFailedError')\n  return m\n}\n\nfunction boxPair () {\n  const pk = Buffer.allocUnsafe(crypto_box_PUBLICKEYBYTES)\n  const sk = Buffer.allocUnsafe(crypto_box_SECRETKEYBYTES)\n  crypto_box_keypair(pk, sk)\n  return { pk, sk }\n}\n\n/*\n * Pepper `debug` lib with buf->hexstring interpolators\n */\ncreateDebug.formatters.h = v => {\n  if (!Buffer.isBuffer(v) || !v?.length) return v\n  return v.slice(0, Math.min(8, v.length)).toString('hex')\n}\ncreateDebug.formatters.H = v => {\n  if (!Buffer.isBuffer(v) || !v?.length) return v\n  return v.toString('hex')\n}\n\nmodule.exports = {\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK,\n  TYPE_PROFILE,\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  VIBE_REJECTED,\n  PASS_TURN,\n  PEACE,\n  LOVE,\n  UNDERSTANDING,\n  G_M,\n  G_F,\n  G_NB,\n  G_R,\n  GEO_BITS,\n  encodeBlock,\n  decodeBlock,\n  typeOfBlock,\n  fixJsonBuffers,\n  toBuffer,\n  boxPair,\n  seal,\n  unseal,\n  bufferReplacer\n}\n","/**\n * What is the meaning of Silence?\n *\n  |---+------------+----+----+-------------------------|\n  |   | Name       | W  | B  | Note                    |\n  |---+------------+----+----+-------------------------|\n  |   | TIER 0     |    |    |                         |\n  |---+------------+----+----+-------------------------|\n  |  | Profile    |    |    |                         |\n  |  | Vibe       |    |    |                         |\n  |  | VibeResp   |    |    |                         |\n  |  | W Msg      | +1 | +0 |                         |\n  |  | B Msg      | +0 | +1 |                         |\n  |  | W Pass     |    |    |                         |\n  |  | B Pass     |    |    |                         |\n  |  | W End      |    |    |                         |\n  |  | B End      |    |    |                         |\n  |---+------------+----+----+-------------------------|\n  |   | TIER 1     |    |    |                         |\n  |---+------------+----+----+-------------------------|\n  |  | Lock/start |    |    |                       |\n  |  | GameOver   |    |    | ,                 |\n  |  | W Advance  | +2 | +1 |                       |\n  |  | B Advance  | +1 | +2 |                       |\n  |  | W Combo    | +4 | +3 |                       |\n  |  | B Combo    | +3 | +4 |                       |\n  |  | W Unlock   | +5 | +3 |                       |\n  |  | B Unlock   | +2 | +4 |                       |\n  |  | Miss       | -1 | +2 |                       |\n  |---+------------+----+----+-------------------------|\n  |   | TIER 2     |    |    |                         |\n  |---+------------+----+----+-------------------------|\n  |  | Engarde    |    |    | ,                   |\n  |  | Evade      | -1 | +3 |                       |\n  |  | Riposte    | +2 | +4 |                      |\n  |  | D. Riposte | +2 | +5 |                      |\n  |  | Block      | +1 | +3 | , White is vulnerable |\n  |  | F.O.P      |    |    |                      |\n  |---+------------+----+----+-------------------------|\n  |   | TIER 3     |    |    |                         |\n  |---+------------+----+----+-------------------------|\n  |  | TKO        |    |    |                      |\n  |\n */\n\nconst {\n  typeOfBlock,\n  TYPE_PROFILE,\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  VIBE_REJECTED,\n  PASS_TURN,\n  PEACE,\n  LOVE,\n  UNDERSTANDING,\n  decodeBlock\n} = require('./util')\n\nfunction feedToGraph (f) {\n  let graph = ''\n  let wk = f.first.isGenesis ? f.first.key : null\n  for (const block of f.blocks()) {\n    // White is the initiator, they who sent the vibe.\n    if (typeOfBlock(block.body) === TYPE_VIBE && !wk) wk = block.key\n    const white = wk && block.key.equals(wk)\n    graph += blockToGlyph(block, white)\n  }\n  return graph\n}\n\nfunction blockToGlyph (block, white = true) {\n  switch (typeOfBlock(block.body)) {\n    case TYPE_PROFILE:\n      return ''\n    case TYPE_VIBE:\n      return ''\n    case TYPE_VIBE_RESP: {\n      const r = VIBE_REJECTED.equals(decodeBlock(block.body).box)\n      return r ? '' : ''\n    }\n    case TYPE_MESSAGE: {\n      const p = PASS_TURN.equals(decodeBlock(block.body).content)\n      return p\n        ? white ? '' : ''\n        : white ? '' : ''\n    }\n    case TYPE_BYE:\n    case TYPE_BYE_RESP: {\n      const plu = []\n      plu[PEACE] = ''\n      plu[LOVE] = ''\n      plu[UNDERSTANDING] = ''\n      // TODO: Think this through\n      return (white ? '' : '') // + plu[decodeBlock(block.body).gesture]\n    }\n  }\n}\n\nfunction scoreGraph (input) {\n  input = rewrite(input)\n  if (//.test(input)) return [0, 0]\n\n  const table = {\n    : [0, 0],\n    : [1, 0],\n    : [0, 1],\n    : [5, 3],\n    : [2, 4],\n    : [2, 1],\n    : [0, 2],\n    : [4, 3],\n    : [2, 4],\n    : [-1, 2],\n    : [-1, +3],\n    : [2, 4],\n    : [2, 5],\n    : [1, 3],\n    : [-1, 0]\n  }\n\n  let w = 0\n  let b = 0\n  for (const glyph of input.split('')) {\n    if (!table[glyph]) {\n      console.warn('Unscored glyph: ', glyph)\n      continue\n    }\n    w += table[glyph][0]\n    b += table[glyph][1]\n  }\n  // console.log('Game:', input, `score W${w}/B${b}`)\n  return [w, b]\n}\n\nfunction rewrite (input) {\n  const rules = [\n    // Tier 1\n    [//, ''], // Lock\n    [/(|)/, ''], // Game over\n    [/([])/, '$1'], // white advance\n    [/([])/, '$1'], // black advance\n    [//, ''], // WCombo\n    [//, ''], // BCombo\n    [//, ''], // Unlock WB\n    [//, ''], // Unlock BW\n    [//, ''], // Miss\n\n    // Tier 2\n    [/(|)/, ''], // Engarde\n    [//, ''], // Evade\n    [//, ''], // Reposte\n    [//, ''], // Deadly reposte\n    [//, ''], // Block, reversal.\n\n    // Tier 3\n    [//, ''], // W Retreat.\n    [//, ''], // KO, w surrender.\n    [//, ''], // FOP, w defeat.\n    [//, ''] // TKO, w defeat.\n  ]\n  let prev = null\n  while (prev !== input) {\n    prev = input\n    for (const [p, r] of rules) input = input.replace(p, r)\n  }\n  return input\n}\n\nmodule.exports = {\n  feedToGraph,\n  scoreGraph,\n  blockToGlyph,\n  rewrite\n}\n\n// Operates on arrays of tokens, if tokens in pattern are contained by\n// tokens in input, then they are replaced with tokens in replacement.\n// If pattern is not contained by input, then unmodified input is returned.\n// (Original code located in Xeno, written to allow unordered graph-rewrites)\nfunction uRewrite (input, pattern, replacement) {\n  if (typeof input === 'string') input = input.split('')\n  if (typeof pattern === 'string') pattern = pattern.split('')\n  const pool = [...input]\n\n  for (const chr of pattern) {\n    const idx = pool.findIndex((elem, n) =>\n      (chr instanceof RegExp) ? elem.match(chr) : chr === elem\n    )\n    if (!~idx) return input // idx: -1, no match; return original input\n    else pool.splice(idx, 1) // remove match from pool and continue to next token\n  }\n  if (!Array.isArray(replacement)) replacement = [replacement]\n  return [...pool, ...replacement]\n}\n\n// Recursivly rewrites an array with rules until it stops changing.\nfunction uEvolve (mem, rules) {\n  if (typeof mem === 'string') mem = mem.split('')\n  let n = 0\n  let prev = null\n  do {\n    prev = mem\n    for (const rule of rules) mem = uRewrite(mem, rule[0], rule[1])\n    if (mem.join() === prev.join()) n++\n  } while (n < 2)\n  return mem\n}\n\n// Don't know what it's supposed to do.\nfunction uRegrow (mem, rules) {\n  return mem.reduce((buf, elem) => {\n    return uEvolve([...buf, elem], rules)\n  })\n}\n","const { TYPE_PROFILE, EV_CHAT_END, decodeBlock } = require('../util')\nconst { scoreGraph } = require('../game')\n\nconst TTL = 30 * 60 * 1000 // 30min\nconst emptyProfile = (pk = null) => ({\n  name: null,\n  picture: null,\n  pk,\n  tagline: null,\n  date: null,\n  sex: 2,\n  sig: null,\n  expiresAt: 0,\n  state: 'active',\n  score: 0\n})\n\nfunction validateProfile (data) {\n  // Validate profile content\n  if (!data.picture) return 'Profile Picture missing'\n  if (Buffer.isBuffer(data.picture)) { // webp support\n    // TODO: validate webp headers && bitmap offsets?\n    if (data.picture.length > 21000) return 'Picture should be less than 21kB'\n  } else if (typeof data.picture !== 'string' || data.picture.length > 10) {\n    return 'Picture should be an emoji'\n  }\n\n  if (containsURL(data.tagline)) return 'URL in tagline not permitted'\n  if (containsURL(data.name)) return 'Links in name is not permitted'\n  if (data.name.match(/^\\s/)) return 'Name must contain only letters or numbers'\n  if (typeof data.age !== 'number') return 'Age must be a number'\n  if (data.age < 18) return 'Kids not allowed into bars'\n  if (!~[0, 1, 2].indexOf(data.sex)) return 'Sex should be 0: female, 1: male, 2: other'\n\n  return false // All good, accept block\n}\n\nfunction containsURL (s) {\n  if (typeof s !== 'string') return false\n  if (s.match('://')) return true\n  return false\n}\n\nmodule.exports = () => ({\n  name: 'peers',\n  initialValue: {}, // Initial state, empty hash\n\n  filter: ({ block, state }) => {\n    const data = decodeBlock(block.body)\n    if (data.type !== TYPE_PROFILE) return true // Ignore non-profile blocks.\n    return validateProfile(data)\n  },\n\n  // Reducer updates state with values from block\n  reducer: ({ block, state, schedule }) => {\n    const key = block.key.toString('hex')\n    state[key] = state[key] || emptyProfile(key) // Lazy initalize profile object\n    Object.assign(state[key], decodeBlock(block.body, 1)) // Set new values\n    state[key].pk = block.key // Store profile.pk as hexString\n    state[key].sig = block.sig // Store profile.pk as hexString\n    state[key].expiresAt = state[key].date + TTL\n    schedule('peer', block.key, state[key].expiresAt)\n    return state // return new state\n  },\n\n  trap ({ code, payload, root, state }) {\n    switch (code) {\n      case EV_CHAT_END: {\n        const strkey = payload.toString('hex')\n        const chat = root.chats.chats[strkey]\n        const score = scoreGraph(chat.graph)\n        state[chat.a.toString('hex')].score += score[0]\n        state[chat.b.toString('hex')].score += score[1]\n      }\n    }\n  }\n})\n\n// Experimental: attempt maintaining own profile as separate slice\n// registering it as the first controller should ensure that all other slices\n// will run after it, making it possible to use as a dependency through rootState...\nmodule.exports.ProfileCtrl = function ProfileCtrl (pubKeyGetter) {\n  let peerId = null\n  return {\n    name: 'peer',\n    initialValue: { ...emptyProfile() },\n    filter ({ block }) {\n      peerId = peerId || pubKeyGetter()\n      if (!peerId) return 'Cannot process block without knowing own identity'\n      if (!block.key.equals(peerId)) return true // Ignore non self-authored blocks\n      const data = decodeBlock(block.body)\n      if (data.type !== TYPE_PROFILE) return true // Ignore non-profile blocks.\n      return validateProfile(data)\n    },\n    reducer ({ block, state }) {\n      const data = decodeBlock(block.body)\n      Object.assign(state, data)\n      state.pk = block.key\n      state.sig = block.sig // Store profile.pk as hexString\n      state.expiresAt = state.date + TTL\n      return state\n    },\n    trap ({ code, payload, root, state }) {\n      switch (code) {\n        case EV_CHAT_END: {\n          const strkey = payload.toString('hex')\n          const chat = root.chats.chats[strkey]\n          const white = peerId.equals(chat.a)\n          if (!white && !peerId.equals(chat.b)) return // not our chat\n          const score = scoreGraph(chat.graph)\n          state.score += score[white ? 0 : 1]\n        }\n      }\n    }\n  }\n}\n","module.exports = Object.freeze({\n  profile_timeout: 3 * 60 * 60000, // 3hours\n  vibe_timeout: 5 * 60000, // 5 minutes\n  vibe_response_timeout: 3 * 1000 * 60, // 3 minutes\n  chat_timeout: 30 * 60000, // 30minutes\n  now: Date.now\n})\n","const {\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_PROFILE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  VIBE_REJECTED,\n  decodeBlock,\n  unseal\n} = require('../util')\nconst D = require('debug')('picochat:slices:vibes')\n\nconst {\n  vibe_timeout: TTL,\n  vibe_response_timeout: RESP_TTL\n} = require('../../config')\n\nclass VibeCtrl { // TODO: use same pattern as aother reducers instead of class\n  constructor (vibeTTL = TTL) {\n    this._sk = null\n    this._pk = null\n    this._reduceHasRun = false\n    this.ttl = vibeTTL\n    this.reducer = this.reducer.bind(this)\n  }\n\n  setKeys (peerId, { sk, pk }) {\n    if (this._sk) throw new Error('VibeBox secret has already been set')\n    if (this._reduceHasRun) throw new Error('Reducer has already run without box secret')\n    this._sk = sk\n    this._pk = pk\n    this._peerId = peerId\n  }\n\n  get name () { return 'vibes' }\n\n  get initialValue () {\n    return {\n      // Register to maintain flood rules/timers\n      seen: {},\n\n      // Register chatId\n      // ( ChatID is block.signature of first vibe )\n      // TODO: introducing this register creates incentive to mess with it.\n      // patch 3rd-party vibe-response by introducing a public hash(nonce) in init and reveal the nonce in reply\n      // this will most likely superseed the sent/received[] registers\n      matches: {},\n      own: []\n    }\n  }\n\n  filter ({ block, parentBlock, state }) {\n    const data = decodeBlock(block.body)\n    const { type } = data\n\n    // Silently ignore unrelated blocks\n    if (type !== TYPE_VIBE && type !== TYPE_VIBE_RESP) return true\n\n    const parentType = parentBlock && decodeBlock(parentBlock.body).type\n\n    // Assert vibes\n    if (type === TYPE_VIBE) {\n      // Ensure parent is either profile or own chat-head or tail?\n      if (\n        parentType !== TYPE_PROFILE &&\n        parentType !== TYPE_BYE_RESP // Continue where we left off\n      ) return `InvalidParent: ${parentType}`\n\n      const key = block.key.toString('hex')\n      // Reject block if vibe timestamp located in the future.\n      if (data.date > new Date().getTime()) return 'Vibe from the future'\n      const chatId = state.seen[key]\n      if (chatId) {\n        const m = state.matches[chatId.toString('hex')]\n        if (m.expiresAt >= Date.now()) return 'Only 1 active vibe allowed'\n      }\n    }\n\n    // Assert VibeResponses\n    if (type === TYPE_VIBE_RESP) {\n      // TODO: assert parent.nonce equals SHA(vibeRes.reveal)\n\n      // VibeResponses only allowed onto a Vibe\n      if (parentType !== TYPE_VIBE) return `InvalidParent: ${parentType}`\n      // TODO: return 'Expired' if match.expiresAt < now()\n    }\n    D('Accepting Vibe %h', block.sig)\n    return false // All good, accept block\n  }\n\n  // Reducer updates state with values from block\n  reducer ({ block, state, parentBlock, root, schedule }) {\n    const vibe = decodeBlock(block.body, 1)\n    const { type } = vibe\n    const chatId = type === TYPE_VIBE ? block.sig : block.parentSig\n    const key = chatId.toString('hex')\n    const rejected = VIBE_REJECTED.equals(vibe.box)\n\n    if (type === TYPE_VIBE) {\n      D('%s reducing vibe: %o %h', root.peer.name, !!state.matches[key], block.sig)\n      if (state.matches[key]) throw new Error('InternalError: Vibe already registered')\n      // Set lookup reference\n      state.seen[block.key.toString('hex')] = chatId\n      const match = state.matches[key] = mkMatch()\n      match.chatId = chatId\n      match.a = block.key\n      match.updatedAt = vibe.date\n      match.createdAt = vibe.date\n      match.expiresAt = vibe.date + TTL\n      match.state = 'wait'\n    } else { // type === TYPE_VIBE_RESP\n      const match = state.matches[key]\n      if (!match) throw new Error('InternalError: MatchNotFound')\n      match.response = block.sig\n      match.b = block.key\n      match.updatedAt = vibe.date\n      match.expiresAt = match.createdAt + RESP_TTL\n      match.state = rejected ? 'rejected' : 'match'\n    }\n\n    const peerId = root.peer.pk\n    const match = state.matches[key]\n\n    // Push sent vibes to \"own\" registry\n    if (type === TYPE_VIBE && peerId.equals(block.key)) state.own.push(chatId)\n\n    let decrypted = null\n    if (!rejected && !peerId.equals(block.key) && this._sk) { // Attempt decryption\n      try {\n        decrypted = unseal(vibe.box, this._sk, this._pk)\n      } catch (error) {\n        if (error.message !== 'DecryptionFailedError') throw error\n      }\n    }\n\n    if (decrypted) {\n      // Push decryptable received vibes/responses to \"own\" registry\n      if (!state.own.find(c => c.equals(chatId))) state.own.push(chatId)\n      match.remoteBox = decrypted\n    }\n\n    this._reduceHasRun = true\n    schedule('chat', match.chatId, match.expiresAt)\n    return state // return new state\n  }\n\n  trap ({ code, payload, root, state }) {\n    switch (code) {\n      case EV_CHAT_END: {\n        const strkey = payload.toString('hex')\n        const chat = root.chats.chats[strkey]\n        delete state.seen[chat.a.toString('hex')] // Release vibe-block\n        // delete state.matches[strkey] // remove match to please single-vibe filter.\n        // Question; should state.own be cleared here??\n        // i know too little about what to do with completed chats.\n        // they should most likely be archived.\n        D('%s Peer Unseen %h => %h', root.peer.name, chat.a.toString('hex'), payload)\n      } break\n      default:\n        return // return undefined, (interrupt ignored/state-unchanged)\n    }\n    return state\n  }\n}\n\nconst mkMatch = () => ({\n  chatId: null, // tail blocksig\n  response: null, // head blocksig\n  updatedAt: 0, // Counter for garbage collection\n  // Participants/Peers\n  a: null,\n  b: null,\n  remoteBox: null\n})\n\nmodule.exports = VibeCtrl\n","const D = require('debug')('picochat:slice:chat')\nconst {\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  PASS_TURN,\n  decodeBlock\n} = require('../util')\nconst { blockToGlyph } = require('../game')\n\nfunction ConversationCtrl (opts = {}) {\n  const {\n    ttl: ChatTimeout,\n    blockReward: BlockReward,\n    health: InitialHealth,\n    regenerate: RegenerateAmount\n  } = {\n    ttl: 3 * 60 * 1000, // 3 minutes\n    blockReward: 60 * 1000, // Each successfull block adds 1 minute\n    health: 3, // <3 <3 <3\n    regenerate: 0.3,\n    ...opts\n  }\n\n  const now = () => new Date().getTime()\n  const mkChat = chatId => ({\n    id: chatId,\n    head: null,\n    messages: [],\n    expiresAt: 0,\n    updatedAt: 0,\n    state: 'active',\n    a: null, // Peer id\n    b: null, // Peer id\n    hp: InitialHealth, // Mana/ Conversation health\n    aEnd: -1,\n    bEnd: -1,\n    graph: ''\n  })\n\n  const mkStats = peerId => ({\n    peerId,\n    lastSeen: 0,\n    nMessages: 0,\n    nExhausted: 0,\n    nPassed: 0,\n    nEnded: 0,\n    nStarted: 0,\n    blocks: 0,\n    blockSize: 0,\n    hpRegenerated: 0\n  })\n\n  return {\n    name: 'chats',\n\n    initialValue: {\n      chats: {},\n      heads: {},\n      own: [],\n      stats: {} // Indexed by peer\n    },\n\n    filter ({ block, parentBlock, state, root }) {\n      const data = decodeBlock(block.body)\n      const { type } = data\n      if (!~[TYPE_MESSAGE, TYPE_BYE, TYPE_BYE_RESP].indexOf(type)) return true\n      const parentType = parentBlock && decodeBlock(parentBlock.body).type\n      D('[%s] FilterOP: %s %h <-- %s %h', root.peer.name, parentType, parentBlock.sig, type, block.sig)\n      if (\n        // message onto message or vibe_resp\n        (type === TYPE_MESSAGE && parentType !== TYPE_MESSAGE && parentType !== TYPE_VIBE_RESP) ||\n        // bye onto message\n        (type === TYPE_BYE && parentType !== TYPE_MESSAGE) ||\n        // bye-response onto bye\n        (type === TYPE_BYE_RESP && parentType !== TYPE_BYE)\n      ) return `Invalid parent type: ${parentType}`\n\n      const from = block.key\n      if (from.equals(parentBlock.key)) return 'MonologueNotAllowed'\n\n      // Reject 3rdParty blocks\n      if (parentType === TYPE_VIBE_RESP) {\n        // need to Lookup in matches registry\n        const chatId = parentBlock.parentSig\n        const match = root.vibes.matches[chatId.toString('hex')]\n        if (!match) return true // Unknown conversation TODO: cache block for later (partially available chain)\n        if (match.state !== 'match') return 'MessagingNotAllowed'\n        if (![match.a, match.b].find(k => from.equals(k))) return 'NotYourConversation'\n        if (match.expiresAt < now()) return 'ConversationTimeout'\n      } else { // TYPE_MESSAGE || TYPE_BYE\n        const chatId = state.heads[block.parentSig.toString('hex')]\n        if (!chatId) return 'ConversationNotFound'\n        const chat = state.chats[chatId.toString('hex')]\n        const nextAuthor = chat.mLength % 2 ? chat.b : chat.a\n        if (!from.equals(nextAuthor)) return 'NotYourConversation'\n        if (chat.expiresAt < now()) return 'ConversationTimeout'\n        if (type !== TYPE_BYE_RESP && chat.state !== 'active') return 'ConversationEnded'\n        else if (type === TYPE_BYE_RESP && chat.state !== 'finalizing') return 'InvalidState'\n      }\n      return false // All good, accept block\n    },\n\n    reducer ({ block, parentBlock, root, state, schedule, signal }) {\n      const data = decodeBlock(block.body)\n      const { type } = data\n      const parentType = decodeBlock(parentBlock.body).type\n      const peerId = root.peer.pk\n      const from = block.key\n      let chatId = null\n\n      if (parentType === TYPE_VIBE_RESP) chatId = parentBlock.parentSig\n      else chatId = state.heads[block.parentSig.toString('hex')]\n\n      const indexKey = chatId.toString('hex')\n\n      // Initialize entry from vibes.matches register\n      if (parentType === TYPE_VIBE_RESP) {\n        const match = root.vibes.matches[indexKey]\n        const chat = mkChat(chatId)\n        chat.a = match.a\n        chat.b = match.b\n        chat.remoteBox = match.remoteBox\n        chat.createdAt = match.createdAt\n        chat.mLength = 0\n        state.chats[indexKey] = chat\n      }\n\n      const chat = state.chats[indexKey]\n\n      chat.updatedAt = data.date\n      chat.mLength++ // Always availble compared to messages array that's only indexed for own conversations\n      chat.expiresAt = chat.createdAt + ChatTimeout + (chat.mLength * BlockReward)\n      chat.graph += blockToGlyph(block, block.key.equals(chat.a))\n\n      const authorId = block.key.toString('hex')\n      let stats = state.stats[authorId]\n      if (!stats) {\n        stats = state.stats[authorId] = mkStats(block.key)\n        stats.nStarted++\n        D('[%s] Initating new stats for %h', root.peer.name, block.key)\n      }\n      stats.lastSeen = Math.max(stats.lastSeen, data.date)\n      stats.nMessages++\n      stats.blocks++\n      stats.blockSize += block.body.length\n\n      if (TYPE_MESSAGE === type) {\n        const turnPassed = PASS_TURN.equals(data.content)\n        turnPassed && stats.nPassed++\n        if (turnPassed && --chat.hp < 1) {\n          chat.state = 'exhausted'\n          stats.nExhausted++\n        } else if (!turnPassed) {\n          // Regenerate\n          chat.hp = Math.min(RegenerateAmount + chat.hp, InitialHealth)\n          stats.hpRegenerated += RegenerateAmount\n        }\n\n        chat.own = !![chat.a, chat.b].find(k => peerId.equals(k))\n        if (chat.own) {\n          // Push messages\n          const isSent = peerId.equals(from)\n          chat.messages.push({\n            type: isSent ? 'sent' : 'received',\n            date: data.date,\n            content: !isSent ? data.content : null, // contents are encrypted, decrypt here?\n            pass: turnPassed,\n            sig: block.sig // when type is sent, use signature to lookup decrypted copy of contents.\n          })\n        }\n\n        // Insert into \"own\" register\n        if (chat.own && !state.own.find(b => b.equals(chatId))) state.own.push(chatId)\n      } else {\n        if (TYPE_BYE === type) chat.state = 'finalizing'\n        else chat.state = 'end' // Assume BYE_RESPONSE\n        // Set gesture\n        if (chat.a.equals(from)) chat.aEnd = data.gesture\n        else chat.bEnd = data.gesture\n        D('ENDING: ', root.peer.name, type, chat.state, chat.aEnd, chat.bEnd)\n      }\n\n      if (chat.state === 'end') {\n        const aStat = state.stats[chat.b.toString('hex')]\n        const bStat = state.stats[chat.a.toString('hex')]\n        aStat.nEnded++\n        bStat.nEnded++\n        signal(EV_CHAT_END, chatId)\n      }\n\n      D('[%s] Conversation(%h) state: %s mLength: %d, head: %h => %h', root.peer.name, chatId, chat.state, chat.mLength, block.parentSig, block.sig)\n      // Bump head of findChatIdBy(parentSig) index\n      delete state.heads[block.parentSig.toString('hex')]\n      state.heads[block.sig.toString('hex')] = chatId\n      chat.head = block.sig\n      schedule('chat', chat.id, chat.expiresAt)\n      return state\n    }\n  }\n}\n\n/*\n * Some time has passed, the pass feature is decidedly\n * silence, what's the meaning of silence? check game.js\n */\n\nmodule.exports = ConversationCtrl\n","const D = require('debug')('picochat:mod:chat')\nconst {\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  PASS_TURN,\n  PEACE, LOVE,\n  UNDERSTANDING,\n  seal,\n  unseal,\n  toBuffer\n} = require('../util')\nconst { feedToGraph } = require('../game')\n\nconst { combine, mute, init, gate } = require('piconuro')\n\n/* Source of truth: Chat States\n *\n  | STATE      | DESCRIPTION                           |\n  |------------+---------------------------------------|\n  | loading    | chat found, register join in progress |\n  | error      | Failed to produce neuron              |\n  | active     | Chat in progress                      |\n  | rejected   | Vibe was rejected                     |\n  | expired    | Chat ran out of time                  |\n  | finalizing | One of players has ended              |\n  | end        | Second player responded to bye        |\n */\n\n/* A reactive store whose value is conversation object\n * containing all then necesarry tidbits and bound actions\n * to progress the conversation\n */\nmodule.exports = function ChatModule () {\n  return {\n    $chats () {\n      // For now just return list of vibes with 'match' state\n      return mute(\n        this.$vibes(),\n        vibes => vibes.filter(v => v.state === 'match')\n      )\n    },\n\n    $chat (chatId) {\n      chatId = toBuffer(chatId)\n      let localPair = null\n\n      // Actions\n      const _send = async (message, pass = false) => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        if (!pass && typeof message !== 'string') throw new Error('Message should be a string')\n        if (!pass && !message.length) throw new Error('EmptyMessage')\n        const pk = await this._getRemoteChatKey(chatId) // Remote Public Key\n\n        // Not sure which feed load is correct. loadFeed is def more efficient.\n        const branch = await this.repo.loadFeed(cache.head)\n        // const branch = await this.loadChat(chatId) // await this.repo.loadFeed(cache.head)\n\n        const content = pass ? PASS_TURN : seal(Buffer.from(message), pk)\n        // console.log('Appending message to', feedToGraph(branch))\n        await this.createBlock(branch, TYPE_MESSAGE, { content })\n        // Branch \"hopefully\" contains new block, if not use return of createBlock() in future\n        if (!pass) await this._setMessageBody(branch.last.sig, Buffer.from(message))\n      }\n      const send = async message => _send(message)\n      const pass = async () => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        return _send(0, true)\n      }\n\n      const bye = async gesture => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        if (!~[PEACE, LOVE, UNDERSTANDING].indexOf(gesture)) throw new Error('InvalidGesture')\n        if (!~['active', 'finalizing'].indexOf(cache.state)) throw new Error('InvalidState')\n\n        // loadFeed() fails tests. cached head seems outdated.\n        const branch = await this.loadChat(chatId) // await this.repo.loadFeed(cache.head)\n        if (!branch) return console.error('branch dissapeared, expected head sig:', cache.head?.toString('hex'))\n\n        await this.createBlock(branch, cache.state === 'active' ? TYPE_BYE : TYPE_BYE_RESP,\n          {\n            gesture\n            // TBD\n          }\n        )\n      }\n      const chat = {\n        id: chatId,\n        state: 'loading',\n        initiator: false,\n        myTurn: null,\n        peerId: null,\n        peer: null,\n        mLength: 0,\n        messages: [],\n        updatedAt: 0,\n        createdAt: 0,\n        expiresAt: 0,\n        health: -1,\n        errorMessage: null,\n        head: null,\n        send,\n        pass,\n        bye\n      }\n      let cache = chat\n      const computeChat = async ([vibe, chats]) => {\n        const lChat = chats.chats[chatId.toString('hex')]\n\n        // All conversations must start with a vibe\n        if (!vibe || vibe.state === 'error') {\n          chat.state = 'error'\n          chat.errorMessage = 'ChatNotFound'\n          return chat // TODO return  ERR_CHAT_NOT_FOUND causes test-fail\n        }\n        // let vibe load before processing chat\n        if (vibe.state === 'loading') return chat\n\n        chat.head = vibe.head\n        if (vibe.state === 'match') chat.state = 'active'\n        else if (vibe.state === 'rejected') chat.state = 'rejected'\n        chat.createdAt = lChat ? lChat.createdAt : vibe.createdAt\n        chat.updatedAt = lChat ? lChat.updatedAt : vibe.updatedAt\n        chat.expiresAt = lChat ? lChat.expiresAt : vibe.expiresAt\n        chat.peerId = vibe.peerId\n        chat.peer = vibe.peer\n        chat.initiator = vibe.initiator\n        chat.myTurn = vibe.myTurn\n        chat.health = vibe.health\n\n        if (!lChat) return chat\n        chat.head = lChat.head\n        chat.graph = lChat.graph\n        // chat.hgraph = rewrite(lChat.graph) // rewrite where needed for now\n\n        // Update headers\n        chat.state = lChat.state\n        if (chat.state === 'active' && chat.expiresAt < Date.now()) chat.state = 'expired'\n\n        chat.mLength = lChat.mLength\n\n        // Skip message decryption if no new messages available\n        if (chat.messages.length === lChat.messages.length) return chat\n        // Decrypt messages\n        try {\n          if (!localPair) localPair = await this._getLocalChatKey(chatId)\n          chat.messages = [...chat.messages] // copy message array\n          // loop through unread messages\n          for (let i = chat.messages.length; i < lChat.messages.length; i++) {\n            const msg = { ...lChat.messages[i] } // copy lowlevel message\n            if (!msg.pass) {\n              if (msg.type === 'received') {\n                msg.content = unseal(msg.content, localPair.sk, localPair.pk).toString()\n              } else {\n                msg.content = await this._getMessageBody(msg.sig)\n              }\n            } else msg.content = PASS_TURN.toString()\n            chat.messages[i] = msg\n          }\n        } catch (err) { console.error('Message decryption failed', err) }\n        cache = chat\n        return chat\n      }\n      return gate(\n        init(chat,\n          mute(\n            combine(\n              this._vibe(chatId),\n              s => this.store.on('chats', s)\n            ),\n            computeChat\n          )\n        )\n      )\n    },\n\n    async loadChat (chatId) {\n      chatId = toBuffer(chatId)\n      const str = chatId.toString('hex')\n      let head = null\n      const v = this.store.state.vibes.matches[str]\n      head = v?.response || v?.chatId\n      if (!v) D('vibe does not exist for chatId:', str)\n\n      const c = this.store.state.chats.chats[str]\n      if (!v && !c) D('conversation not found %h', chatId)\n      head = c?.head || head\n      if (!head) return\n      const search = await this._tracePath(head)\n      return search.feed\n    },\n\n    async _inspectChat (chatId, dump = false) {\n      const f = await this.loadChat(chatId)\n      console.log(feedToGraph(f))\n      if (dump) f.inspect()\n    }\n  }\n}\n","const { SIGNATURE_SIZE } = require('picofeed')\nconst { toBuffer } = require('../util')\n\nmodule.exports = function BufferedRegistry () {\n  const timeout = 5000\n  const pending = {}\n  return {\n    // - Buffered versions of write and read registry\n    async _writeReg (key, value) {\n      await this.repo.writeReg(key, value)\n      if (!pending[key.toString()]) return\n      const { set, timerId } = pending[key.toString()]\n      delete pending[key.toString()]\n      clearTimeout(timerId)\n      set(value)\n    },\n\n    async _readReg (key) {\n      const value = await this.repo.readReg(key)\n      if (value) return value\n      if (pending[key.toString()]) return pending[key.toString()].promise\n      let set = null\n      let timerId = null\n      const promise = new Promise((resolve, reject) => {\n        set = resolve\n        timerId = setTimeout(() => {\n          delete pending[key.toString()]\n          reject(new Error('BufferedReadTimedOut'))\n        }, timeout)\n      })\n      if (!set) throw new Error('ConcurrencyError')\n      pending[key.toString()] = { promise, set, timerId }\n      return promise\n    },\n\n    // -- Conversation encryption-key management\n    async _storeLocalChatKey (chatId, msgBox) {\n      const CONVERSATION_PREFIX = 67 // Ascii 'C'\n      // const CONVERSATION_PREFIX = 99 // Ascii 'c'\n      const vLength = msgBox.sk.length + msgBox.pk.length\n      if (vLength !== 64) throw new Error(`Expected box keypair to be 32bytes each, did algorithm change?: ${vLength}`)\n      chatId = toBuffer(chatId)\n      if (chatId.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n\n      const value = Buffer.allocUnsafe(msgBox.sk.length + msgBox.pk.length)\n      msgBox.sk.copy(value)\n      msgBox.pk.copy(value, msgBox.sk.length)\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      return await this._writeReg(key, value)\n    },\n\n    async _getLocalChatKey (chatId) {\n      const CONVERSATION_PREFIX = 67 // Ascii 'C'\n      if (typeof chatId === 'string') chatId = Buffer.from(chatId, 'hex') // Attempt normalize to buffer\n      chatId = toBuffer(chatId)\n      if (chatId.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      const value = await this._readReg(key)\n      if (!value) throw new Error('BoxPairNotFound')\n      const box = {\n        pk: value.slice(32),\n        sk: value.slice(0, 32)\n      }\n      return box\n    },\n\n    async _getRemoteChatKey (chatId) {\n      const key = chatId.toString('hex')\n      const vibe = this.store.state.vibes.matches[key]\n      if (!vibe) throw new Error('ConversationNotFound')\n      if (!vibe.remoteBox) throw new Error('BoxPublicKeyNotAvailable')\n      return vibe.remoteBox\n    },\n\n    // -- Encrypted messages can only be decrypted by receiver\n    // hence we need to store a copy of each message locally (might add some local encryption to it later)\n    async _setMessageBody (sig, message) {\n      const CONVERSATION_PREFIX = 77 // Ascii 'M'\n      sig = toBuffer(sig)\n      if (!Buffer.isBuffer(sig) || sig.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      sig.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      return await this._writeReg(key, toBuffer(message))\n    },\n\n    async _getMessageBody (sig) {\n      const CONVERSATION_PREFIX = 77 // Ascii 'M'\n      sig = toBuffer(sig)\n      if (!Buffer.isBuffer(sig) || sig.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      sig.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      const msg = await this._readReg(key)\n      if (!msg) throw new Error('MessageNotFound')\n      return msg.toString()\n    }\n  }\n}\n","const D = require('debug')('picochat:mod:gc')\nconst REG_TIMER = 116 // 't'\n\nmodule.exports = function GarbageCollectModule (store) {\n  const repo = store.repo\n  let timerId = null\n  function schedule (type, id, date) {\n    const key = mkKey(date)\n    // console.info('Scheduing removal', type, new Date(date))\n    repo._db.put(key, packValue(type, id))\n      .catch(error => console.error('Failed queing GC: ', error))\n  }\n\n  // Guerilla-patch store reducers to include the gc function.\n  for (const slice of store._stores) {\n    slice._originalReducer = slice.reducer\n    slice.reducer = ctx => slice._originalReducer({\n      ...ctx,\n      schedule\n    })\n  }\n\n  return {\n    async _collectGarbage (now) {\n      D('Locking store')\n      const unlock = await store._waitLock()\n      try {\n        const res = await collectGarbage.bind(this)(now)\n        unlock()\n        return res\n      } catch (err) {\n        unlock()\n        throw err\n      }\n    },\n\n    startGC (interval = 3 * 1000) {\n      if (!this.ready || timerId) return\n      timerId = setInterval(this._collectGarbage.bind(this), interval)\n    },\n\n    stopGC () {\n      if (!timerId) return\n      clearInterval(timerId)\n      timerId = null\n    }\n  }\n\n  async function collectGarbage (now = Date.now()) {\n    D('Starting collecting garbage...')\n    const pending = await tickQuery(repo._db, now)\n    D('Fetched pending from store:', pending.length)\n    let mutated = new Set()\n    const segments = []\n    for (const p of pending) {\n      const { type, id } = unpackValue(p.value)\n      if (!type) throw new Error('GC OP missing')\n      await sweep({ // TOO PHAT CONTEXT\n        now,\n        id,\n        gcType: type,\n        rootState: store.state,\n        didMutate: n => mutated.add(n),\n        drop: head => segments.push([head, type === 'chat' ? id : null])\n      })\n    }\n    const evicted = []\n    for (const [ptr, segmentId] of segments) {\n      // const owner = await this.repo._traceOwnerOf(ptr) // repo.ownerOf(ptr)\n      try {\n        const s = await this._tracePath(ptr)\n        if (segmentId) { // Delete a chat/vibe off a user-profile\n          if (!segmentId.equals(s.chatId)) throw new Error('InternalError: Attempted to evict wrong segment')\n          const d = await this.repo.rollback(s.keys[0], s.heads[0])\n          evicted.push(d)\n        } else { // Clear out stale profiles\n          evicted.push(await this.repo.rollback(s.keys[0]))\n        }\n      } catch (err) {\n        if (err.message === 'FeedNotFound') {\n          D('RollbackFailed, Feed already gone', err)\n        } else console.error('Rollback failed', err)\n      }\n    }\n    // notify all affected stores\n    mutated = Array.from(mutated)\n    store._notifyObservers(mutated)\n    D('Stores mutated', mutated, 'segments evicted', evicted.length)\n    /// D(evicted.map(f => f.inspect(true)))\n    return { mutated, evicted }\n  }\n\n  // TODO: if this hack works, move the time-based GarbageCollector functionality to PicoStore\n  // and allow store.register() to include a sweep function, `expiresAt` prop becomes a first citizen.\n  function sweep ({ now, rootState, drop, gcType, id, didMutate }) {\n    if (gcType === 'chat') {\n      const match = rootState.vibes.matches[id.toString('hex')]\n      const chat = rootState.chats.chats[id.toString('hex')]\n      const head = chat?.head || match?.response || match?.chatId\n      let del = false\n      if (!head) return // nothing to do\n      const expiresAt = (chat?.expiresAt || match?.expiresAt || 0)\n      const hasExpired = expiresAt < now\n      D('Chat[%h] expired: %s, timeLeft: %d', id, hasExpired, expiresAt - now)\n      if (!hasExpired) return // not yet\n\n      // Clear chat registry\n      if (chat) {\n        const { chats, heads, own } = rootState.chats\n        delete chats[id.toString('hex')]\n        delete heads[head.toString('hex')]\n        const idx = own.findIndex(b => b.equals(id))\n        if (~idx) own.splice(idx, 1)\n        didMutate('chats')\n        del = true\n      }\n\n      // Clear vibes registry\n      if (match) {\n        // Restore state\n        const { seen, matches, own } = rootState.vibes\n        if (match.a && seen[match.a.toString('hex')]?.equals(id)) delete seen[match.a.toString('hex')]\n        if (match.b && seen[match.b.toString('hex')]?.equals(id)) delete seen[match.b.toString('hex')] // redundant?\n        delete matches[id.toString('hex')]\n        const idx = own.findIndex(b => b.equals(id))\n        if (~idx) own.splice(idx, 1)\n        didMutate('vibes')\n        del = true\n      }\n      if (del) drop(head, id) // id: chatId, head: lastBlock on chat\n    } else if (gcType === 'peer') {\n      const { peers } = rootState\n      const isSelf = rootState.peer.pk.equals(id)\n      if (isSelf && rootState.peer.expiresAt < now) {\n        rootState.peer.state = 'expired' // Not sure if should delete.\n        didMutate('peer')\n      }\n      const peer = peers[id.toString('hex')]\n      if (peer && peer.expiresAt < now) {\n        peer.state = 'expired'\n        didMutate('peers')\n        if (!isSelf) {\n          delete peers[id.toString('hex')]\n          drop(peer.sig)\n        }\n      }\n    } else throw new Error(`Garbage collection for \"${gcType}\" not supported!`)\n  }\n}\n\n// TODO; Accuracy of browser might overwrite previous index,\n// add couple bytes of signature to end and maybe slice name\nfunction mkKey (date) {\n  const b = Buffer.alloc(9)\n  b.writeBigUInt64BE(BigInt(date), 1)\n  b[0] = REG_TIMER\n  return b\n}\n\nfunction packValue (sliceName, id) {\n  sliceName = Buffer.from(sliceName)\n  const sz = id.length\n  const b = Buffer.alloc(1 + sz + sliceName.length)\n  id.copy(b, 1)\n  sliceName.copy(b, sz + 1)\n  b[0] = sz\n  return b\n}\n\nfunction unpackValue (b) {\n  const len = b[0]\n  return {\n    type: b.slice(len + 1).toString(),\n    id: b.slice(1, len + 1)\n  }\n}\n\nasync function tickQuery (db, now) {\n  const query = {\n    gt: mkKey(0),\n    lt: mkKey(now)\n  }\n\n  const iter = db.iterator(query)\n  const result = []\n  while (true) {\n    try {\n      const [key, value] = await new Promise((resolve, reject) => {\n        iter.next((err, key, value) => {\n          if (err) reject(err)\n          else resolve([key, value])\n        })\n      })\n      if (!key) break\n      result.push({ key, value })\n    } catch (err) {\n      console.warn('Iterator died with an error', err)\n      break\n    }\n  }\n  await new Promise((resolve, reject) => {\n    iter.end(err => err ? reject(err) : resolve())\n  })\n  return result\n}\n","const D = require('debug')('picochat:mod:peers')\nconst Feed = require('picofeed')\nconst {\n  toBuffer,\n  boxPair,\n  TYPE_PROFILE,\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK\n} = require('../util')\nconst { mute, combine, init, gate, when } = require('piconuro')\n\nconst ERR_PEER_NOT_FOUND = Object.freeze({ state: 'error', errorMessage: 'PeerNotFound' })\nconst PEER_PLACEHOLDER = Object.freeze({ state: 'loading' })\n\nmodule.exports = function PeersModule () {\n  let setHasProfile = null\n  const hasProfile = new Promise(resolve => { setHasProfile = resolve })\n  return {\n    __setHasProfile: setHasProfile, // Used by kernel.load()\n    hasProfile,\n    /**\n     * Publishes a profile block.\n     */\n    async register (profile, sk) {\n      sk = sk || Feed.signPair().sk\n      // Signing identity\n      this._secret = sk\n\n      // A box for love-letters\n      const box = boxPair()\n      this._vibeBox = box\n      this._vibeController.setKeys(this.pk, this._vibeBox)\n\n      await this.updateProfile(profile)\n      await this.repo.writeReg(KEY_SK, sk)\n      await this.repo.writeReg(KEY_BOX_LIKES_PK, box.pk)\n      await this.repo.writeReg(KEY_BOX_LIKES_SK, box.sk)\n      setHasProfile(true)\n    },\n\n    async profileOf (key) {\n      /*\n    const tail = await this.repo.tailOf(key)\n    const block = await this.repo.readBlock(tail)\n    if (!block) throw new Error('Profile not found, error due to profileOf is WIP; Need multihead resolve + network query')\n    if (!key.equals(block.key)) throw new Error('Wrong profile encountered')\n    const profile = decodeBlock(block.body)\n    if (profile.type !== TYPE_PROFILE) throw new Error('Tail is not a profile: ' + profile.type)\n    */\n      key = toPublicKey(key)\n      const profile = this.store.state.peers[key.toString('hex')]\n      if (!profile) {\n        D('Peer does not exist in registry %h', key)\n        // throw new Error('ProfileNotFound')\n        return ERR_PEER_NOT_FOUND\n      }\n      return profile\n    },\n\n    /**\n     * Creates a new profile-block\n     */\n    async updateProfile (profile) {\n      return await this.createBlock(TYPE_PROFILE, {\n        ...profile,\n        box: this._vibeBox.pk\n      })\n    },\n\n    /**\n     * Peer by id\n     * same as _peer but introduces gate and default placeholder\n     */\n    $peer (id) {\n      return gate(init(PEER_PLACEHOLDER, this._peer(id)))\n    },\n\n    _peer (id) { // raw neuron\n      try {\n        id = toPublicKey(id)\n      } catch (err) {\n        return init({\n          ...ERR_PEER_NOT_FOUND,\n          errorMessage: err.message\n        })\n      }\n\n      if (this.pk.equals(id)) return this.$profile()\n\n      const $peer = mute(\n        s => this.store.on('peers', s),\n        peers => peers[id.toString('hex')] || ERR_PEER_NOT_FOUND\n      )\n      const _chats = s => this.store.on('chats', s)\n      return mute(\n        combine($peer, _chats),\n        computeProfile\n      )\n    },\n\n    /**\n     * List of known and active peers\n     */\n    $peers () {\n      // TODO: make LRU-backed $profiles singleton-neuron\n      const $peers = mute( // filter own profile.\n        this.store.on.bind(this.store, 'peers'),\n        peerMap => this.pk\n          ? Object.values(peerMap).filter(p => !this.pk.equals(p.pk))\n          : Object.values(peerMap)\n      )\n      const $chats = this.store.on.bind(this.store, 'chats')\n\n      // Higher level profiles neuron\n      const $profiles = gate(init([],\n        mute(\n          combine($peers, $chats),\n          ([peers, chats]) => peers\n            .map(peer => computeProfile([peer, chats]))\n            .filter(p => p.state !== 'expired')\n        )\n      ))\n      return $profiles\n    },\n\n    /**\n     * Local peer/-profile\n     */\n    $profile () {\n      const $chats = s => this.store.on('chats', s)\n      const $loaded = when(this.boot())\n      return gate(init(PEER_PLACEHOLDER,\n        mute(\n          combine(\n            mute(\n              s => this.store.on('peer', s),\n              async peer => {\n                await hasProfile\n                return peer\n              }\n            ),\n            $chats,\n            $loaded\n          ),\n          computeProfile\n        )\n      ))\n    }\n  }\n}\n\nfunction computeProfile ([peer, chats]) {\n  if (!peer) return ERR_PEER_NOT_FOUND // TODO: most likely redundant\n  if (peer.date === null) return PEER_PLACEHOLDER // when neuron invoked pre-kernel load.\n  if (peer.state === 'error') return peer\n  if (!peer.pk) throw new Error('kernel.$peers invoked before kernel.load() finished?')\n  const stats = chats.stats[peer.pk.toString('hex')] || {\n    nEnded: 0,\n    nStarted: 0,\n    nMessages: 0,\n    nPassed: 0,\n    nExhausted: 0\n  }\n  const extraTime = !stats ? 0 : stats.nEnded * (7 * 60 * 1000)\n  // TODO: bug, next line should be valid but score is 0\n  // const extraTime = peer.score * 60 * 1000\n  // console.info('PEER SCORE', peer.score, stats.nEnded)\n  const expiresAt = peer.expiresAt + extraTime\n  return {\n    ...peer,\n    stats,\n    expiresAt,\n    state: expiresAt < Date.now() ? 'expired' : peer.state\n  }\n}\n\nfunction toPublicKey (key) {\n  if (!key ||\n    !(\n      (Buffer.isBuffer(key) && key.length === 32) ||\n      (typeof key !== 'string' && key.length === 64)\n    )\n  ) {\n    throw new Error(`PublicKey expected got \"${key}\"`)\n  }\n  return toBuffer(key)\n}\n\nmodule.exports.PEER_PLACEHOLDER = PEER_PLACEHOLDER\nmodule.exports.ERR_PEER_NOT_FOUND = ERR_PEER_NOT_FOUND\n","const Feed = require('picofeed')\nconst {\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  VIBE_REJECTED,\n  toBuffer,\n  seal,\n  boxPair\n} = require('../util')\nconst { mute, combine, gate, init, until } = require('piconuro')\nconst { PEER_PLACEHOLDER } = require('./peers.mod')\nconst D = require('debug')('picochat:mod:vibes')\n\nmodule.exports = function VibesModule () {\n  return {\n    /**\n     * Sends a vibe to a peer giving initiating a private\n     * channel for communication.\n     * params:\n     * - peerId {SignaturePublicKey} a peer's signing key\n     */\n    async sendVibe (peerId) {\n      peerId = toBuffer(peerId)\n      if (this.pk.equals(peerId)) throw new Error('SelfVibeNotAllowed')\n      // Don't sendVibes to peers waiting for your response.\n      const { matches, own } = this.store.state.vibes\n      for (const ckey of own) {\n        const match = matches[ckey.toString('hex')]\n        // Send response to received vibes\n        if (match.state === 'wait' && peerId.equals(match.a)) {\n          return this.respondVibe(match.chatId)\n        }\n      }\n\n      const cd = await until(this.$cooldowns(), cd => cd.state !== 'loading')\n      if (!cd.canVibe) throw new Error('VibeNotReady')\n\n      const msgBox = boxPair()\n      const peer = await this.profileOf(peerId)\n      if (peer.state === 'error') throw new Error(peer.errorMessage)\n      const sealedMessage = seal(msgBox.pk, peer.box)\n      const convo = await this.createBlock(TYPE_VIBE, {\n        box: sealedMessage\n      })\n      const chatId = convo.last.sig\n      await this._storeLocalChatKey(chatId, msgBox)\n      // Store target ref\n      const key = Buffer.allocUnsafe(Feed.SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = 84 // ASCII: 'T'\n      await this._writeReg(key, peer.pk)\n      return chatId\n    },\n\n    /**\n     * Responds to a vibe by generating the second box pair\n     * params:\n     * - chatId {BlockSignature} id of the initial vibe-block.\n     */\n    async respondVibe (chatId, like = true) {\n      chatId = toBuffer(chatId)\n      const msgBox = boxPair()\n      const { own, matches } = this.store.state.vibes\n      if (!own.find(v => v.equals(chatId))) throw new Error('NotYourVibe')\n\n      const vibe = matches[chatId.toString('hex')]\n      if (!vibe) throw new Error('VibeNotFound')\n      if (vibe.state !== 'wait') throw new Error('VibeResponseNotApplicable')\n      const peer = await this.profileOf(vibe.a)\n\n      if (!peer) throw new Error('PeerNotFound')\n      const sealedMessage = seal(msgBox.pk, peer.box)\n\n      const block = await this.repo.readBlock(chatId)\n      if (!block) throw new Error('Vibe no longer exists')\n      const convo = await this.createBlock(Feed.from(block), TYPE_VIBE_RESP, {\n        box: !like ? VIBE_REJECTED : sealedMessage,\n        link: this.store.state.peer.sig // Weak-ref to own checkpoint\n      })\n      if (!convo) throw new Error('Failed creating block')\n      if (like) await this._storeLocalChatKey(vibe.chatId, msgBox)\n      return chatId\n    },\n\n    $vibe (chatId) {\n      return gate(init({ state: 'loading', type: 'vibe' }, this._vibe(chatId)))\n    },\n    _vibe (chatId) { // ungated/inited raw\n      try {\n        chatId = toChatId(chatId)\n      } catch (err) {\n        return init({\n          state: 'error',\n          errorMessage: err.message\n        })\n      }\n      return mute(\n        combine(\n          s => this.store.on('chats', s),\n          s => this.store.on('vibes', s)\n        ),\n        ([chats, { matches }]) => {\n          const match = matches[chatId.toString('hex')]\n          const chat = chats.chats[chatId.toString('hex')]\n          if (!match) return { state: 'error', errorMessage: 'VibeNotFound' }\n          const initiator = this.pk.equals(match.a)\n          const vibe = computeVibe(chatId, match, initiator, chat)\n          return joinPeer.bind(this)(vibe)\n        }\n      )\n    },\n\n    $vibes () {\n      const joinPeers = async vibes => {\n        // INNER JOIN profile of 'other' on vibe\n        const out = []\n        for (let i = 0; i < vibes.length; i++) {\n          const vibe = { ...vibes[i] }\n          await joinPeer.bind(this)(vibe)\n          out.push(vibe)\n        }\n        D('emit $vibes async')\n        return out\n      }\n      return gate(init([], mute(this._vibes(), joinPeers)))\n    },\n    // Lower-level alternative without\n    // Vibe.peer joined in which requires readReg lookup\n    _vibes () {\n      return mute(\n        combine(\n          s => this.store.on('chats', s),\n          s => this.store.on('vibes', s)\n        ),\n        ([chats, { sent, received, own, matches }], set) => {\n          const vibes = []\n          for (const chatId of own) {\n            const match = matches[chatId.toString('hex')]\n            const chat = chats.chats[chatId.toString('hex')]\n            const initiator = this.pk.equals(match.a)\n            const vibe = computeVibe(chatId, match, initiator, chat)\n            if (vibe.state === 'expired') continue // let GC handle the rest\n            if (chat && chat.state === 'end') continue\n            vibes.push(vibe)\n          }\n          D('emit _vibes')\n          return vibes\n        }\n      )\n    }\n  }\n}\n\nasync function joinPeer (vibe) {\n  try {\n    if (!vibe.peerId && vibe.initiator) {\n      // Attempt to remember who we sent what to.\n      const key = Buffer.allocUnsafe(Feed.SIGNATURE_SIZE + 1)\n      vibe.id.copy(key, 1)\n      key[0] = 84 // ASCII: 'T'\n      const pk = await this._readReg(key)\n      vibe.peerId = pk\n    }\n\n    if (vibe.peer.state === 'loading') {\n      vibe.peer = await this.profileOf(vibe.peerId)\n    }\n  } catch (err) {\n    console.warn('Failed resolving vibe.peer', err)\n    vibe.peer = { state: 'error', errorMessage: err.message }\n  }\n  return vibe\n}\n\nfunction computeVibe (chatId, match, initiator, chat) {\n  const out = {\n    ...initVibe(chatId),\n    updatedAt: match.updatedAt,\n    createdAt: match.createdAt,\n    expiresAt: chat?.expiresAt || match.expiresAt,\n    box: match.remoteBox,\n    initiator, // : initiator ? 'local' : 'remote',\n    localRejected: initiator && match.state === 'rejected',\n    remoteRejected: !initiator && match.state === 'rejected',\n    a: match.a,\n    b: match.b,\n    head: match.response\n  }\n  if (!initiator) out.peerId = out.a\n  else if (match.b) out.peerId = out.b\n  // else gotta lookup using _readReg(chatId), handled higher up\n\n  if (match.state === 'rejected') out.state = 'rejected'\n  else if (match.a && match.b) out.state = 'match'\n  else if (!initiator && !match.b) out.state = 'waiting_local'\n  else if (initiator && !match.b) out.state = 'waiting_remote'\n  else out.state = 'mental_error'\n\n  out.myTurn = out.state === 'match'\n    ? !chat\n        ? initiator\n        : !((chat.mLength % 2) ^ (initiator ? 0 : 1))\n    : out.state === 'waiting_local'\n  if (chat?.state === 'end') out.myTurn = false\n\n  out.health = !chat\n    ? 3\n    : Math.floor(chat.hp)\n\n  if (\n    ~['waiting_remote', 'waiting_local'].indexOf(out.state) &&\n    out.expiresAt < Date.now()\n  ) out.state = 'expired'\n  return out\n\n  function initVibe (id) {\n    return {\n      id,\n      head: null,\n      peer: PEER_PLACEHOLDER,\n      peerId: null,\n      box: null,\n      state: 'waiting',\n      updatedAt: 0,\n      createdAt: Infinity,\n      expiresAt: 0,\n      remoteRejected: false,\n      localRejected: false,\n      a: null,\n      b: null,\n      myTurn: false,\n      health: -1\n    }\n  }\n}\n\nfunction toChatId (key) {\n  if (!key ||\n    !(\n      (Buffer.isBuffer(key) && key.length === 64) ||\n      (typeof key !== 'string' && key.length === 128)\n    )\n  ) {\n    throw new Error(`ChatID expected got \"${key}\"`)\n  }\n  return toBuffer(key)\n}\n","const { mute, combine } = require('piconuro')\nmodule.exports = function MonitorModule () {\n  return {\n    $cooldowns () {\n      return mute(\n        combine(\n          this.$profile(),\n          s => this.store.on('vibes', s),\n          s => this.store.on('chats', s)\n        ),\n        ([profile, vibes, chats]) => {\n          const cd = {\n            canVibe: false,\n            vibe: -1\n          }\n\n          if (profile.state === 'loading') return { state: 'loading', ...cd }\n\n          // Peer has a sent vibe\n          const sent = vibes.seen[profile.pk.toString('hex')]\n          if (!sent) {\n            cd.vibe = 0\n            cd.canVibe = true\n            return cd\n          }\n\n          // Peer is initiating a conversation\n          const match = vibes.matches[sent.toString('hex')]\n          if (!match) throw new Error('MentalError')\n          cd.canVibe = false\n          cd.vibe = match.expiresAt\n\n          // Peer is having an conversation\n          const chat = chats.chats[sent.toString('hex')]\n          if (chat) {\n            cd.vibe = chat.expiresAt\n          }\n          return cd\n        }\n      )\n    }\n  }\n}\n","const { SimpleKernel } = require('picostack')\nconst Feed = require('picofeed')\n// Lowlevel registers that hold block-state\nconst PeerCtrl = require('./slices/peers.reg')\nconst VibeCtrl = require('./slices/vibes.reg')\nconst ConversationCtrl = require('./slices/chats.reg')\n// const StatsCtrl = require('./slices/stats')\n// Kernel Modules (simply mixins)\nconst ChatModule = require('./mod/chat.mod')\nconst BufferedRegistry = require('./mod/buffered-registry.mod')\nconst GarbageCollector = require('./mod/gc.mod')\nconst PeersModule = require('./mod/peers.mod')\nconst VibesModule = require('./mod/vibes.mod')\nconst MonitorModule = require('./mod/monitor.mod')\n\n// Util\nconst {\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK,\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_PROFILE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  VIBE_REJECTED,\n  decodeBlock,\n  typeOfBlock\n} = require('./util')\nconst debug = require('debug')\nconst D = debug('picochat:kernel')\n// debug.enable('pico*')\n\nclass Kernel extends SimpleKernel {\n  constructor (db, opts = {}) {\n    super(db, opts)\n    // Process opts\n    this._vibeBox = opts.box ?? null // Vibe box-pair\n\n    // Setup slices\n    this.store.register(PeerCtrl.ProfileCtrl(() => this.pk))\n    this.store.register(PeerCtrl()) // Register PeerStore that holds user profiles\n    this._vibeController = new VibeCtrl() // TODO: return { resolveKeys: fn, controller: fn }\n    this.store.register(this._vibeController)\n    this.store.register(ConversationCtrl())\n    // this.store.register(StatsCtrl())\n\n    // Load Mixins/ Kernel Modules\n    Object.assign(this, PeersModule())\n    Object.assign(this, VibesModule())\n    Object.assign(this, ChatModule())\n    Object.assign(this, BufferedRegistry())\n    // Object.assign(this, Network(this))\n    Object.assign(this, GarbageCollector(this.store))\n    Object.assign(this, MonitorModule())\n  }\n\n  /**\n   * Restores session/data from store\n   * returns {boolean} true if user exists\n   */\n  async boot () {\n    if (this.__loading) return this.__loading\n    this.__loading = (async () => {\n      // If identity wasn't provided via opts.\n      if (!this._secret) {\n        try {\n          // Attempt to restore existing identity\n          this._secret = await this.repo.readReg(KEY_SK)\n        } catch (err) {\n          if (!err.notFound) throw err\n        }\n      }\n      // Fallback to generate new identity\n      /**\n       * TODO: bugged state, before profile was assumed if\n       * secret was available, SimpleKernel autogenerates\n       * anonymous secret but profile is not guaranteed.\n       * Think... Do i want to accidentally initialize\n       * slices with wrong identity?\n      if (!this._secret) {\n        const { sk } = Feed.signPair()\n        this._secret = sk\n        await this.repo.writeReg(KEY_SK, sk)\n      }\n      */\n\n      if (this._secret) {\n        this._vibeBox = {\n          sk: await this.repo.readReg(KEY_BOX_LIKES_SK),\n          pk: await this.repo.readReg(KEY_BOX_LIKES_PK)\n        }\n        this._vibeController.setKeys(this.pk, this._vibeBox)\n      }\n      await this.store.load() // load stores\n      this.ready = true\n\n      if (this._secret && this.store.state.peer) {\n        this.__setHasProfile(true)\n        return true\n      }\n      return false\n    })()\n    return this.__loading\n  }\n\n  async _tracePath (head) {\n    const keys = []\n    const heads = []\n    let chatId = null\n    let nLoaded = 0\n    const feed = await this.repo.loadFeed(head, (block, abort) => {\n      const type = typeOfBlock(block.body)\n      switch (type) {\n        case TYPE_VIBE_RESP:\n          keys[1] = block.key\n          heads[1] = decodeBlock(block.body).link\n          break\n\n        case TYPE_PROFILE:\n        case TYPE_BYE_RESP:\n          keys[0] = block.key\n          heads[0] = block.sig\n          // If this is not the first block encountered\n          // and we reached a bye or profile, then we've reached\n          // end of segment and should not load further.\n          // to load that next segment rerun tracepath with exported\n          // head[0]\n          if (nLoaded) abort()\n          // abort(!nLoaded && type !== TYPE_BYE_RESP)\n          break\n        case TYPE_VIBE:\n          chatId = block.sig\n          break\n      }\n      nLoaded++\n    })\n    if (!feed) throw new Error('FeedNotFound')\n    return { keys, heads, feed, chatId }\n  }\n\n  // The idea of merge strategy needs to be reworked a bit.\n  // besides passing block here, pico-repo should pass an array\n  // of keys that are already encountered in the feed.\n  //\n  // Strategy attempts to answer the question:\n  //  \"When block with foreign identity encountered,\n  //  should the block be allowed to bump the peer's head?\"\n  //\n  // Vibe is an invitation to participate so: yes. (if it was adressed to you)\n  // Message? \"yes\" if you were the one that was adressed.\n  // Same thing with bye.\n  // There are identity checks in store-filters but\n  // maybe should be handled on strategy level.\n  async mergeStrategy (block, repo) { // TODO: expose loudFail flag? mergStr(b, r, !dryMerge && loud)\n    const content = decodeBlock(block.body)\n    const { type } = content\n    const pBlock = await repo.readBlock(block.parentSig)\n    const parentType = typeOfBlock(pBlock.body)\n\n    // Allow VibeResponses to be merged onto foreign vibes\n    if (type === TYPE_VIBE_RESP) {\n      const pBlock = await repo.readBlock(block.parentSig)\n      if (parentType !== TYPE_VIBE) return false\n      if (!VIBE_REJECTED.equals(content.box)) {\n        D('Match detected: %h <3 %h', block.key, pBlock.key)\n      } else {\n        D('Rejection detected: %h </3 %h', block.key, pBlock.key)\n      }\n      return true // All good, merge permitted\n    }\n\n    // Allow Messages onto foreign VibeResponses or Messages\n    if (type === TYPE_MESSAGE) {\n      if (parentType === TYPE_MESSAGE) return true\n    }\n    if (type === TYPE_BYE && parentType === TYPE_MESSAGE) return true\n    if (type === TYPE_BYE_RESP && parentType === TYPE_BYE) return true\n\n    console.warn('MergeStrategy rejected', parentType, '<--', type)\n    return false // disallow by default\n  }\n}\n\nmodule.exports = Kernel\n","// const { randomBytes } = require('crypto')\n\n/*\n * const randomBytes = (n) => {\n  const buf = new Uint8Array(n)\n  window.crypto.getRandomValues(buf)\n  return buf\n} */\n\n// Exports\nmodule.exports = {\n  // functions\n  binstr,\n  roundByte,\n  shift,\n  unshift,\n  countTrailingZeroes,\n  countOnes,\n  proximityOf,\n  mapOverlap,\n  packGeo,\n  unpackGeo,\n  gammaShift,\n  gammaUnshift,\n  dGapEncode,\n  decodeSL,\n  bitAt,\n  setBit\n}\n\n/*\nfunction countLeadingZeroes (p, SIZE = DEF_SIZE) {\n  let n = 0\n  for (let i = 0; i < SIZE; i++) {\n    let b = p[i]\n    for (let j = 0; j < 8; j++) {\n      if (b & 1) return n\n      n++\n      b >>= 1\n    }\n  }\n}\n*/\n\n// Round bits upwards to closet byte\nfunction roundByte (b) { return (b >> 3) + (b % 8 ? 1 : 0) }\n\n/*\n * Treats buffer as a series of latched 8bit shift-registers\n * shifts all bits 1 step from low to high.\n *             _____________\n *   input -> | 0 1 0 1 1 1 | -> return overflow\n *             -------------\n *           Low            High\n */\nfunction shift (x, inp = 0) {\n  let c = inp ? 1 : 0\n  for (let i = 0; i < x.length; i++) {\n    const nc = (x[i] >> 7) & 1\n    x[i] = (x[i] << 1) | c\n    c = nc\n  }\n  return c\n}\n\n/*\n * Opposite of shift, shifts all bits\n * 1 step towards low.\n *              _____________\n *   output <- | 0 1 0 1 1 1 | <- input\n *              -------------\n *           Low            High\n */\nfunction unshift (x, inp = 0) {\n  let i = x.length\n  let c = (inp ? 1 : 0) << 7\n  while (i--) {\n    const nc = (x[i] & 1) << 7\n    x[i] = c | x[i] >> 1\n    c = nc\n  }\n  return c ? 1 : 0\n}\n/*\nfunction roll (bits) {\n  const size = roundByte(bits)\n  const o = randomBytes(size)\n  const r = bits % 8 ? bits % 8 : 8\n  o[size - 1] = o[size - 1] & // Fix last byte\n    ((1 << r) - 1) | // Mask after LIFE marker\n    (1 << (r - 1)) // Insert LIFE marker\n  return o\n}\n*/\n\nfunction countTrailingZeroes (x) {\n  let i = x.length\n  let n = 0 // vBits - (x.length << 3)\n  while (i--) {\n    for (let j = 7; j >= 0; j--) {\n      if (x[i] & (1 << j)) return n\n      n++\n    }\n  }\n  return n\n}\n\nfunction countOnes (p) {\n  let out = 0\n  for (let i = 0; i < p.length; i++) {\n    let b = p[i]\n    while (b) {\n      if (b & 1) out++\n      b >>= 1\n    }\n  }\n  return out\n}\n\n// Higher order function to align multiple registers\n// and iterate the bits within the overlap.\n//\n//                  Operational zone\n//     Start bit    _____\n//               * | | | |\n// A:    0 0 0 0 1 1 0 1 0 1 1\n// B:        0 0 1 0 1 1 1 1 1 1 0\n// C:      0 0 0 1 0 0 1 0\n//       HI        ^            LOW\n//            idx: 0 1 2 3\n//\nfunction mapOverlap (registers, process) {\n  process = process || (() => {})\n  const o = registers.map(() => 0)\n  const found = registers.map(() => 0)\n  const outputs = registers.map(() => 0)\n  let sync = false\n  const result = []\n  let cancel = false\n  while (!cancel) {\n    for (let r = 0; r < registers.length; r++) {\n      if (!sync && found[r]) continue // wait-state reached\n      const reg = registers[r]\n      const bitIdx = o[r]++\n      const byteIdx = reg.length - 1 - (bitIdx >> 3)\n      // return function as soon as first buffer end is reached.\n      if (byteIdx < 0) return result\n\n      const bit = (reg[byteIdx] >> (7 - (bitIdx % 8))) & 1\n      if (!found[r]) {\n        if (bit) found[r] = true\n        continue\n      }\n      outputs[r] = bit\n    }\n\n    if (!sync) {\n      sync = found.reduce((c, n) => c && n, true)\n      continue\n    }\n    const z = process(outputs, () => { cancel = true })\n    if (shift(result, z)) result[result.length] = 1\n  }\n  return result\n}\n\nfunction binstr (x, cap) {\n  cap = cap || x.length * 8\n  let str = ''\n  for (let i = 0; i < x.length; i++) {\n    for (let j = 0; j < 8; j++) {\n      if (cap === i * 8 + j) str += '|'\n      str += x[i] & (1 << j) ? '1' : '0'\n    }\n  }\n  return str\n}\n\nconst GHSMAP = '0123456789bcdefghjkmnpqrstuvwxyz' // (geohash-specific) Base32 map\nconst GHSUNMAP = GHSMAP.split('').reduce((h, l, i) => { h[l] = i; return h }, {})\n/**\n * Bitpacks a geohash string containing quintets to arbitrary bit-precision:\n *\n *  'u120fw' <-- contains 6*5 bits accurate to ~1.2 Kilometers\n * MSB    LSB\n *\n *  'u' being is the most significant coordinate,\n *  'w' is the least significant coordinate.\n *\n *  References:\n *  Format specification:  https://en.m.wikipedia.org/wiki/Geohash\n *  Bitdepthchart: https://www.ibm.com/docs/en/streams/4.3.0?topic=334-geohashes\n *\n */\nfunction packGeo (str, nBits, buf) {\n  if (!nBits) nBits = str.length * 5\n  // if (nBits > 64) throw new Error('unsupported precision')\n  if (nBits < 5) throw new Error('precision has to be at least 5')\n\n  // const nQuints = (nBits >> 2) + (nBits % 5 ? 1 : 0)\n  const nBytes = roundByte(nBits)\n  // This is horribly inefficient and ugly but i'm tired. have mercy.\n  if (!buf) buf = Buffer.alloc(nBytes) // Array.from(new Array(nBytes).map(() => 0)\n  // buf[0] = 1\n  const val = str\n    .split('')\n    .reverse()\n    .reduce((sum, c, b) => sum + (GHSUNMAP[c] * (32 ** b)), 0)\n  const bits = val.toString(2).slice(0, nBits).split('').reverse() // lsb\n  for (const bit of bits) { // buf.writeUInt32BE(bits)\n    shift(buf, bit === '0' ? 0 : 1) // msb\n  }\n  return buf\n}\n\n/**\n * Unpacks bitarray back into base32 string\n */\nfunction unpackGeo (buf, nBits = 16) {\n  const nBytes = roundByte(nBits)\n  if (buf.length < nBytes) throw new Error('BufferUnderflow, dst buffer too small')\n  const cpy = []\n  for (let i = 0; i < nBytes; i++) cpy[i] = buf[i]\n  let str = ''\n  let tmp = 0\n  for (let n = 0; n < nBits; n++) {\n    const bit = unshift(cpy)\n    tmp = tmp | bit << (4 - (n % 5))\n    if (n && !(n % 5)) {\n      str += GHSMAP.charAt(tmp)\n      tmp = 0\n    }\n  }\n  str += GHSMAP.charAt(tmp)\n  return str.replace(/0+$/, '') // Truncate trailing zero-fields\n}\n\n// Elias gamma encoding\n// https://en.wikipedia.org/wiki/Elias_gamma_coding\n// http://bitmagic.io/dGap-gamma.html\nfunction gammaShift (buf, x) {\n  // x++ // 0support\n  const N = Math.ceil(Math.log2(x))\n  for (let n = 0; n < N; n++) unshift(buf, 0)\n  unshift(buf, 1)\n  for (let n = 0; n < N; n++) unshift(buf, (x >> n) & 1)\n}\n\nfunction gammaUnshift (buf) {\n  let N = 0\n  const cap = buf.length * 8\n  for (; N < cap; N++) {\n    const b = unshift(buf)\n    if (b) break\n    if (N === cap - 1 && !b) throw new Error('NBitNotFound: end of buffer reached')\n  }\n  let x = 1 << N\n  while (N--) x = x | (unshift(buf) << N)\n  return x\n  // return --x // 0support\n}\n\nfunction bitAt (buf, idx) {\n  return (buf[idx >> 3] >> (idx % 8)) & 1\n}\n\nfunction setBit (buf, idx, v = 1) {\n  if (v) buf[idx >> 3] = (buf[idx >> 3] || 0) | (1 << (idx % 8)) // set\n  else buf[idx >> 3] = (buf[idx >> 3] || 0) & (~(1 << (idx % 8))) // clear\n  return buf\n}\n\nfunction dGapEncode (buf, cap) {\n  if (!cap) cap = buf.length * 8\n  const out = [bitAt(buf, 0)]\n  let n = 0\n  let seek = out[0]\n  let i = 0\n  while (i < cap) {\n    const b = bitAt(buf, i)\n    if (b !== seek) {\n      seek = b\n      out.push(n)\n      n = 0\n    } n++\n    i++\n  }\n  out.push(n)\n  return out\n}\n\nfunction decodeSL (buf, geoPrecision = 16) {\n  const nBits = geoPrecision + 1\n  const tmp = []\n  for (let i = 0; i < roundByte(nBits); i++) tmp[i] = buf[i]\n  const sex = unshift(tmp) // (unshift(tmp) << 1) | unshift(tmp)\n  const geohash = unpackGeo(tmp, geoPrecision)\n  return { sex, geohash }\n}\n\nfunction proximityOf (a, b) {\n  let n = 0\n  for (;n < a.length; n++) {\n    if (bitAt(a, n) !== bitAt(b, n)) break\n  }\n  return n\n}\n","/* eslint-disable camelcase */\nconst {\n  crypto_sign_SECRETKEYBYTES: SIGN_SKBYTES,\n  crypto_sign_PUBLICKEYBYTES: SIGN_PKBYTES,\n  crypto_sign_keypair\n} = require('sodium-universal')\n/* eslint-enable camelcase */\nconst { packGeo, shift, binstr, roundByte, decodeSL } = require('./bits')\nconst { GEO_BITS } = require('./util')\nconst { pack, unpack } = require('msgpackr')\nconst DEFAULT_SIGN = 'default_signpair'\nconst DEFAULT_PROFILE = 'default_profile'\n\nclass Keychain {\n  constructor (db) {\n    this.db = db\n  }\n\n  /*\n   * TODO:\n   * async addFriend (alias, pk)\n   * async removeFriend (alias)\n   * async listFriends ()\n   */\n\n  async readIdentity (alias = DEFAULT_SIGN) {\n    return this.db.get(alias)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n  }\n\n  async writeIdentity (sk, alias = DEFAULT_SIGN) {\n    if (!Buffer.isBuffer(sk) || sk.length !== SIGN_SKBYTES) throw new Error('Expected SigningSecret')\n    return this.db.put(alias, sk)\n  }\n\n  async writeProfile (profile, alias = DEFAULT_PROFILE) {\n    return this.db.put(alias, pack(profile))\n  }\n\n  async readProfile (alias = DEFAULT_PROFILE) {\n    const p = await this.db.get(alias)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    if (p) return unpack(p)\n  }\n\n  static generateAnonymous () {\n    const sk = Buffer.allocUnsafe(SIGN_SKBYTES)\n    const pk = Buffer.allocUnsafe(SIGN_PKBYTES)\n    crypto_sign_keypair(pk, sk)\n    return { pk, sk }\n  }\n\n  static generate (gender, geohash, maxTries) {\n    console.info('generate(', gender, geohash, maxTries, ')')\n    gender = gender ?? 666\n    if (gender === 666 && !geohash) return Keychain.generateAnonymous()\n    if (!geohash) return prayFor(Buffer.from([gender]), 0b11, maxTries)\n\n    const nBits = GEO_BITS + 1\n    const buf = Buffer.allocUnsafe(roundByte(nBits))\n    const prefix = packGeo(geohash, GEO_BITS, buf)\n    shift(prefix, gender & 1)\n    // shift(prefix, (gender >> 1) & 1) // TODO: Move this flag to profile block?\n    const mask = nBits % 8\n      ? (1 << (nBits % 8)) - 1\n      : 0xff\n    console.info('Searching for', nBits, prefix.toString('hex'), binstr(prefix).length, 'mask', mask.toString(2))\n    return prayFor(prefix, mask, maxTries)\n  }\n\n  static decodePk (pk) {\n    return decodeSL(pk, GEO_BITS)\n  }\n}\n\nconst MAX_SEARCH = 500000 // ~10second on my laptop\nfunction prayFor (b, mask = 0xff, max = MAX_SEARCH) {\n  if (!Buffer.isBuffer(b) && !Array.isArray(b)) throw new Error('Array or Buffer Expected')\n  const pk = Buffer.allocUnsafe(SIGN_PKBYTES)\n  const sk = Buffer.allocUnsafe(SIGN_SKBYTES)\n  const nBytes = b.length\n\n  for (let i = 0; i < max; i++) {\n    crypto_sign_keypair(pk, sk)\n    let v = true\n    for (let n = 0; v && n < nBytes; n++) {\n      v = (n + 1 === nBytes)\n        ? (pk[n] & mask) === (b[n] & mask)\n        : v = pk[n] === b[n]\n    }\n    if (v) return { pk, sk }\n  }\n}\n\nmodule.exports = Keychain\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.3' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import levelup from 'levelup'\nimport leveljs from 'level-js'\nimport Geohash from 'latlon-geohash'\nimport Kernel from '../blockend/'\nimport Keychain from '../blockend/keychain'\nimport { readable } from 'svelte/store'\nimport { mute, gate, init, write, combine, get, nfo } from 'piconuro'\nimport { navigate } from './router'\nconst Modem56 = window.Modem56\nconst TOPIC = 'picochat-testnet'\n\n/**\n * Pico::N(e)uro -> svelte adapter\n * */\nexport function svlt (neuron, dbg) {\n  return readable(null, set =>\n    !dbg\n      ? neuron(set)\n      : nfo(neuron, dbg)(set)\n  )\n}\nconst DB = levelup(leveljs('picochat')) // Open IndexedDB\nconst personalBucket = levelup(leveljs('keychain')) // Open IndexedDB\nexport const kernel = new Kernel(DB)\nexport const keychain = new Keychain(personalBucket)\n\nexport const keygen = (gender, geo, attempts) => {\n  return Keychain.generate(gender, geo, attempts)\n}\n\nexport function decodePk (pk) {\n  const info = Keychain.decodePk(pk)\n  const ll = Geohash.decode(info.geohash)\n  return { ...info, ...ll }\n}\n\n// Helpers hooks for quick register access\nexport function Profile (dbg) {\n  return svlt(kernel.$profile(), dbg)\n}\n\nexport function Peers (dbg) {\n  return svlt(kernel.$peers(), dbg)\n}\n\nexport function Peer (id, dbg) {\n  return svlt(kernel.$peer(id), dbg)\n}\n\nexport function Vibes (dbg) {\n  return svlt(\n    kernel.$vibes(), dbg\n  )\n}\n\nexport function NotificationsCount () {\n  return svlt(\n    mute(\n      combine(kernel.$vibes(), kernel.$chats()),\n      ([vibes, chats]) => vibes.reduce(\n        (sum, v) => v.state === 'waiting_local' ? sum + 1 : sum,\n        0\n      ) +\n      chats.reduce( // Dosen't work cause chats are actually vibe-objects.\n        (sum, c) => c.myTurn ? sum + 1 : sum,\n        0\n      )\n    )\n  )\n}\n\nexport function Chats () {\n  return svlt(kernel.$chats())\n}\n\nexport function Cooldowns () {\n  return svlt(kernel.$cooldowns())\n}\n\nexport function Connections () {\n  return svlt(\n    gate(init(0, mute(kernel.$connections(), cnns => cnns.length)))\n  )\n}\n\nexport function GameOver () {\n  return svlt(\n    mute(\n      kernel.$profile(), p => p.state === 'expired'\n    )\n  )\n}\n\n// Boot up\nlet tryBoot = null\nexport let lastError = null\n\nconst [$kstate, setKstate] = write('loading')\nconst [$error, setError] = write()\nconst [$entered, setEntered] = write(false) // block published/ participating\nconst [$swarming, setSwarming] = write(false) // are the m56 lights blinking?\nconst [$hasKey, setHasKey] = write(false)\nconst [$hasProfile, setHasProfile] = write(false)\nconst [$profilePicture, setProfilePicture] = write(null)\n\nconst $state = combine({\n  state: $kstate,\n  error: $error,\n  hasKey: $hasKey,\n  hasProfile: $hasProfile,\n  entered: $entered,\n  swarming: $swarming\n})\n\nexport const state = svlt($state)\nexport const profilePicture = svlt($profilePicture)\n\n/* Bootloader */\nexport function boot () {\n  if (!tryBoot) {\n    tryBoot = keychain.readIdentity()\n      .then(sk => {\n        setHasKey(!!sk)\n        return keychain.readProfile()\n      })\n      .then(pTemplate => {\n        setHasProfile(!!pTemplate)\n        if (pTemplate?.picture) setProfilePicture(pTemplate.picture)\n        return kernel.boot()\n      })\n      .then(entered => {\n        setEntered(entered)\n        kernel.startGC()\n      })\n      .catch(err => {\n        console.error('kernel boot failure', err)\n        lastError = err\n        setError(err)\n        setKstate('error')\n        throw err\n      })\n      .then(entered => { // Auto-redirect if needed\n        setKstate('running')\n        const s = get($state)\n        console.info('Final state', s)\n        const autoSwarm = JSON.parse(window.localStorage.getItem('auto_swarm'))\n        if (s.error) window.location.hash = '/error?message=' + s.error.message\n        else if (!s.hasKey) navigate('/keygen')\n        else if (!s.hasProfile) navigate('/profile')\n        else return autoSwarm && connectSwarm()\n      })\n  }\n  // tryBoot.then(do something everytime boot is invoked)\n  return tryBoot\n}\n\n/*\n * subscribes your component to a specific conversation.\n * returns a high-level object containing both stats and actions\n *\n * usage example:\n * const {\n *   // Props\n *   myTurn, // boolean, actions can only be invoked when true.\n *   updatedAt, // Last activity of chat\n *   status, // string '|active|timeout|exhausted|ended'\n *   messages // Array of messages.\n *\n *   // Actions\n *   send, // async function, send(message: string)\n *   pass, // async function, passes turn to opponent\n *   bye,  // async function, bye(mood)\n * } = useChat(id) // <-- same id as vibeId\n */\nexport function Chat (chatId, d) {\n  if (chatId === 'mock') return svlt(mockChat())\n  return svlt(kernel.$chat(chatId), d)\n}\n\n/**\n *  It's **beep** time!\n *      \n *   ___|_\n *  /____/|  ~ Modem 56 ~\n * |_o_=_|/\n *\n */\nlet modem = null // hardware is expensive, we can only afford a single modem for now.\n// Helper to wire up modem56 to kernel and enter a pub in a single action.\nexport async function connectSwarm () {\n  if (!Modem56) throw new Error('Modem not available, did you load it?')\n  const devOpts = {\n    // Attempted to debug: https://github.com/RangerMauve/hyperswarm-web/issues/20\n    // announceLocalAddress: true,\n    // webrtcBootstrap: ['ws://localhost:4977/signal']\n  }\n  if (!modem) modem = new Modem56(null, devOpts)\n  else return // already connected\n  // else modem.leave()\n  modem.join(TOPIC, kernel.spawnWire.bind(kernel))\n  setSwarming(true)\n}\n\nexport function encodeImage (url) {\n  const regex = /^data:([^;]+);base64,/\n  const m = url.match(regex)\n  if (m[1] !== 'image/jpeg') throw new Error('CanvasExportedUnexpectedFiletype: ' + m[1])\n  return Buffer.from(url.replace(regex, ''), 'base64')\n}\n\nexport function decodeImage (buf) {\n  return 'data:image/jpeg;base64,' + buf?.toString('base64')\n}\n\nexport async function updateProfile (profile) {\n  await keychain.writeProfile(profile)\n  setHasProfile(true)\n  if (profile.picture) setProfilePicture(profile.picture)\n  if (get($hasKey) && !get($swarming)) {\n    await connectSwarm()\n    navigate('/pub')\n  }\n}\n\nexport async function storeIdentity (sk) {\n  await keychain.writeIdentity(sk)\n  setHasKey(true)\n}\n\nexport async function enter () {\n  if (!get($hasKey)) return navigate('/keygen')\n  if (!get($hasProfile)) return navigate('/profile')\n  // TODO: in this contexted $entered refers to if profile-block is published or not\n  // need to refactor kernel states for clarity\n  if (!get($entered)) {\n    const sk = await keychain.readIdentity()\n    const profile = await keychain.readProfile()\n    await kernel.register(profile, sk)\n    setEntered(true)\n  }\n  return connectSwarm()\n}\n\nexport async function purge (purgeKeychain = false) {\n  const msg = purgeKeychain\n    ? 'You are about to burn your passport and everything with it... you sure about this?'\n    : 'Permanently wipe ALL data, you sure?'\n  if (!window.confirm(msg)) return\n  if (purgeKeychain) await keychain.db.clear()\n  await kernel.db.clear()\n  window.location.reload()\n}\n\nexport async function saveBackup () {\n  const File = window.File\n  const secret = await keychain.readIdentity()\n  const b = new File(\n    [secret.toString('hex')],\n    'idsqr-insecure-backup.txt',\n    { type: 'application/text' }\n  )\n  const u = URL.createObjectURL(b)\n  window.open(u, '_blank')\n  // TODO: revokeObjectURL\n}\n\nfunction mockChat () {\n  const [$initiator, setInitiator] = write(true)\n  const [$turn, setTurn] = write(true)\n  const $msgs = init([\n    'Hello',\n    'Hi',\n    'Weather\\'s nice! ',\n    'You\\'re joking right?',\n    undefined,\n    'There\\'s a thunderstorm going on!',\n    'No way! That\\'s so cool!',\n    'The roof is gone ',\n    'Is your pants still on?',\n    undefined,\n    'Please tell me you\\'re not stroking yourself during a hurricane',\n    'Yup!'\n  ])\n\n  return mute(\n    combine($initiator, $turn, $msgs, $profilePicture),\n    ([initiator, myTurn, msgs, picture]) => {\n      let graph = ''\n      const messages = msgs.map((m, i) => {\n        const remote = i % 2\n        const type = remote ^ initiator ? 'sent' : 'received'\n        graph += m\n          ? remote ? '' : ''\n          : remote ? '' : ''\n        return { type, content: m || '', pass: !m }\n      })\n\n      return {\n        peer: {\n          name: !initiator ? 'Whitemane' : 'Blackie',\n          picture,\n          tagline: 'mock tag',\n          date: Date.now(),\n          sex: 0,\n          score: 99,\n          age: 23\n        },\n        myTurn,\n        initiator,\n        state: 'active',\n        graph,\n        health: 2,\n        expiresAt: Date.now() + 24 * 60 * 60 * 1000,\n        async send () {},\n        async pass () {\n          setTurn(false)\n          return new Promise(resolve => {\n            setTimeout(() => {\n              setTurn(true)\n              resolve()\n            }, 1000)\n          })\n        },\n        async bye () {\n          setInitiator(!initiator)\n        },\n        mLength: messages.length,\n        messages\n      }\n    }\n  )\n}\n","<script>\nimport { createEventDispatcher } from 'svelte'\n// Silly workaround for svelte props clashing with custom attrs.\nexport let open = false\nconst dispatch = createEventDispatcher()\nlet elem\nfunction updateAttribute(node, name, value) {\n  if (value === null || value === false) {\n    node.removeAttribute(name);\n  }\n  else node.setAttribute(name, value+\"\")\n}\nfunction attr(node, entry) {\n  if(entry) {\n     updateAttribute(node, entry[0], entry[1])\n   }\n  return {\n    update(updated) {\n      if(!updated) return\n      updateAttribute(node, updated[0], updated[1])\n    }\n  }\n}\nfunction onClick (ev) {\n  if (ev.target !== elem) return\n  dispatch('fade')\n}\n\n</script>\n<dialog  use:attr={[\"open\", !!open]} on:click={onClick} bind:this={elem}>\n  <slot>Empty Modal</slot>\n</dialog>\n","<script>\nexport let id = ''\nexport let tag = ''\nexport let nofill = false\nconst SPRITE_URL = 'build/sprites.svg'\nconst ref = `${SPRITE_URL}#${id}`\nconst classes = `icon ${tag}`.trim()\n</script>\n<svg class={classes} class:nofill={nofill}>\n  <use xlink:href={ref} href={ref}></use>\n</svg>\n<style>\n.icon { fill: unset; }\n.nofill { fill: none; }\n</style>\n","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '': '',\n        ' ': '',\n        ' ': '',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '': '',\n        ' ': '',\n        ' ': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","<script>\nimport QR from 'qrcode-generator'\nimport { onMount } from 'svelte'\nexport let data = null\nexport let size = 2\nexport let margin = 0\nexport let level = 'L'\n// export let colorDark = '#000' // '#253900'\n// export let colorLight = '#808000'\nlet imgElem\nfunction paint (bin) {\n  if (!bin) return\n  if (Buffer.isBuffer(bin)) bin = bin.toString('base64')\n  // TODO: hack to modify colors,\n  // maybe use qr.drawToContext() + canvas instead of img.\n  const qr = new QR(0, level)\n  qr.addData(bin)\n  qr.make()\n  const url = qr.createDataURL(size, margin)\n  imgElem.src = url\n}\nonMount(() => {\n  if (typeof data?.subscribe === 'function') return data.subscribe(paint)\n  else data && paint(data)\n})\n</script>\n<pico-qr>\n  <img bind:this=\"{imgElem}\"/>\n</pico-qr>\n<style>\n  pico-qr { display: block; }\n</style>\n","<script>\nimport { navigate } from '../router'\nimport { keychain, keygen, decodePk, storeIdentity, purge, saveBackup } from '../api'\nimport { writable } from 'svelte/store'\nimport Geohash from 'latlon-geohash'\nimport Dialog from '../components/Dialog.svelte'\nimport Icon from '../components/Icon.svelte'\nimport QRCode from '../components/QRCode.svelte'\n\nconst progress = writable(100)\nconst idsqr = writable()\nconst secret = writable()\nconst geohash = writable(null) // Geohash.encode(52.20, 0.12, 6))\nconst gender = writable(0)\nconst unlucky = writable(false)\nconst fails = writable(0)\nconst showImportDialog = writable(false)\nconst importInput = writable('')\nconst showAboutDialog = writable(false)\n\nasync function loadKeychain () {\n  try {\n    const sk = await keychain.readIdentity()\n    if (!sk) return\n    $secret = sk\n    const res = decodePk(sk.slice(32))\n    $gender = res.sex\n    $geohash = res.geohash\n  } catch (err) {\n    console.error('loadKeychain() failed:', err)\n    throw err\n  }\n}\n\nasync function roll (mode = 0) {\n  if ($secret) return // Refuse to roll while secret exists\n  console.info(`roll(${mode})`)\n  $progress = 0\n  $unlucky = false\n  let pair = null\n  for (let i = 0; i < 100; i++) {\n    $progress++\n    pair = keygen(\n      mode < 2 ? $gender : null,\n      mode < 1 ? $geohash : null,\n      500\n    )\n    if (pair) break\n    await new Promise(resolve => setTimeout(resolve, 100)) // give browser some breathing space\n  }\n\n  if (pair) {\n    await storeIdentity(pair.sk)\n    $secret = pair.sk\n  } else {\n    $unlucky = true\n    $fails++\n  }\n  $progress = 100\n}\n/* Geolocation is being moved to profile */\nfunction fetchPosition (options) {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) reject(new Error('Browser does not support geolocation APIs'))\n    else navigator.geolocation.getCurrentPosition(resolve, reject, options)\n  })\n}\nasync function autoGeohash () {\n  const res = await fetchPosition()\n  console.log(res)\n  const { latitude: lat, longitude: lng } = res.coords\n  $geohash = Geohash.encode(lat, lng, 6)\n\n}\nasync function validateImport () {\n  console.error('TODO: not yet implemented')\n}\n\n</script>\n<keygen-view class=\"block container\">\n  <h1 on:click={() => $showAboutDialog = true}>\n    Setup\n    <Icon id=\"icon-info\" />\n  </h1>\n  <h5>Gender</h5>\n  <fieldset>\n    <input type=\"radio\" value={1} bind:group={$gender} id=\"M\" name=\"gender\"/>\n    <label for=\"M\">M</label>\n    <input type=\"radio\" value={0} bind:group={$gender} id=\"F\" name=\"gender\"/>\n    <label for=\"F\">F</label>\n    <input type=\"radio\" value={2} bind:group={$gender} id=\"NB\" name=\"gender\"/>\n    <label for=\"NB\">NB</label>\n  </fieldset>\n  <br/>\n  <!--\n  <h5>Location</h5>\n  <div class=\"flex row\">\n    <div>\n      <a role=\"button\" on:click={autoGeohash}><Icon id=\"icon-location\" /></a>\n    </div>\n    <div>\n      <input type=\"text\"\n        placeholder=\"Geohash\"\n        readonly\n        on:click={autoGeohash}\n        bind:value={$geohash} >\n    </div>\n  </div>\n  -->\n  <h5>IDSQR</h5>\n\n  <div class=\"flex column xcenter\">\n    <idsqr data-theme=\"dark\" class=\"flex column space-around\">\n      {#await loadKeychain()}\n        <h1 aria-busy=\"true\">%nbsp;</h1>\n      {:then}\n        {#if !$secret}\n          <!--<h5 class=\"text-center\">Keygen</h5>-->\n          <div>\n            {#if $progress === 100}\n              <p class=\"text-center\">Press the button to generate your own unique passport</p>\n            {:else}\n              <progress min=\"0\" max=\"100\" value={$progress}/>\n              <!-- <p>Finding a key might take a while, but you only have to do it once.</p>-->\n            {/if}\n          </div>\n          <div>\n            <div class=\"row space-between xcenter\">\n              {#if $fails > 1}\n                <button on:click={() => roll(1)} disabled={$progress !== 100}>Give up</button>\n              {/if}\n              <!-- Defaults to gender only; Geohash mining disabled for now -->\n              <button on:click={() => roll(1)} disabled={$progress !== 100 || $secret}>Create</button>\n            </div>\n            {#if $unlucky}\n              <danger>Sorry.. RNG0D ignored your prayers, please try again</danger>\n            {/if}\n          </div>\n        {:else}\n          <QRCode data={$secret.slice(32)} size={10}/>\n        {/if}\n      {:catch error}\n        <div>\n          <h5>Error:</h5>\n          <danger>{error.message}</danger>\n        </div>\n      {/await}\n    </idsqr>\n  </div>\n  <div class=\"row end hpad\">\n    <small>\n      {#if $secret}\n        <a on:click={() => purge(true)}>Destroy</a> |\n        <a on:click={saveBackup}>Backup</a>\n      {:else}\n        <a on:click={() => roll(2)}>Anonkey</a> |\n        <a on:click={() => $showImportDialog = true}>Import</a>\n      {/if}\n    </small>\n  </div>\n  <br/>\n  <button disabled={!$secret} on:click={() => navigate('/profile')}>next</button>\n\n  {#if $showImportDialog}\n    <Dialog open={true} on:fade={() => $showImportDialog = false}>\n      <article>\n        <header><h5>Import Secret</h5></header>\n        <p>Paste the secret as a hex-string</p>\n        <textarea bind:value={$importInput}></textarea>\n        <footer>\n          <div class=\"row space-between\">\n            <a role=\"button\" on:click={() => $showImportDialog = false}>Cancel</a>\n            <a role=\"button\" on:click={validateImport}>Import</a>\n          </div>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n\n  {#if $showAboutDialog}\n    <Dialog open={true} on:fade={() => $showAboutDialog = false}>\n      <article>\n        <h3>Welcome to True Decentralization</h3>\n        <div class=\"about\">\n          <p>\n            Picochat is a <strong>coinless blockchain</strong>, there\n            are no super-nodes and everything is slightly different from\n            what you're used to.<br/>\n            But don't worry, it's all good.\n          </p>\n          <p>\n            First of all, you have to generate your own key.<br/>\n            It takes about a minute or two on a handheld device.<br/>\n            Once you've found a one, keep it safe, it's your passport to hyperspace.\n            \n          </p>\n          <p>\n            If you don't care about location nor gender, then\n            feel free to use an <i>anonymous</i> key.<br/>\n            Trees say \"Thanks!\" \n          </p>\n          <p>\n            Please don't generate more keys than you need, mining of any form is a pointless waste of world-resources.\n            Hate to say it; but don't ever trade a key, it is <strong>insecure and dangerous</strong>.\n          </p>\n          <p><i>\n            The hyperspace is vast.<br/>\n            It's real-estate, just like air -\n            worth nothing while there's enough for everyone.<br/>\n            Let's keep it that way\n          </i> </p>\n        </div>\n        <footer>\n          <button on:click={() => $showAboutDialog = false}>gotcha</button>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n</keygen-view>\n<style>\ndanger { color: var(--blood); }\n.about {\n  max-height: 50vh;\n  overflow-y: scroll;\n}\n</style>\n\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","<script>\nimport dayjs from 'dayjs'\nimport { onMount, afterUpdate } from 'svelte'\nimport { writable } from 'svelte/store'\nexport let expiresAt\nexport let format = 'HH:mm'\nlet intervalId = null\nconst timeLeft = writable(expiresAt - Date.now())\n/*\nlet classes = 'count-down'\nif (timeLeft < 10 * 1000) classes += ' danger'\nelse if (timeLeft < 60 * 1000) classes += ' warning'\nelse if (timeLeft <= 0) classes += ' expired'\n*/\nonMount(() => {\n  if (intervalId) {\n    clearInterval(intervalId)\n    intervalId = null\n  }\n  intervalId = setInterval(() => {\n    $timeLeft = expiresAt - Date.now()\n    if ($timeLeft <= 0) clearInterval(intervalId)\n  }, 200)\n\n  return () => {\n    clearInterval(intervalId)\n  }\n})\n</script>\n<timer>\n{dayjs.duration($timeLeft > 0 ? $timeLeft : 0).format(format)}\n</timer>\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.areaConversion=exports.timeConversion=exports.distanceConversion=exports.altitudeKeys=exports.latitudeKeys=exports.longitudeKeys=exports.MAXLON=exports.MINLON=exports.MAXLAT=exports.MINLAT=exports.earthRadius=exports.sexagesimalPattern=void 0;var sexagesimalPattern=/^([0-9]{1,3})\\s*([0-9]{1,3}(?:\\.(?:[0-9]{1,}))?)[']\\s*(([0-9]{1,3}(\\.([0-9]{1,}))?)[\"]\\s*)?([NEOSW]?)$/;exports.sexagesimalPattern=sexagesimalPattern;var earthRadius=6378137;exports.earthRadius=earthRadius;var MINLAT=-90;exports.MINLAT=MINLAT;var MAXLAT=90;exports.MAXLAT=MAXLAT;var MINLON=-180;exports.MINLON=MINLON;var MAXLON=180;exports.MAXLON=MAXLON;var longitudeKeys=[\"lng\",\"lon\",\"longitude\",0];exports.longitudeKeys=longitudeKeys;var latitudeKeys=[\"lat\",\"latitude\",1];exports.latitudeKeys=latitudeKeys;var altitudeKeys=[\"alt\",\"altitude\",\"elevation\",\"elev\",2];exports.altitudeKeys=altitudeKeys;var distanceConversion={m:1,km:0.001,cm:100,mm:1000,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/0.9144};exports.distanceConversion=distanceConversion;var timeConversion={m:60,h:3600,d:86400};exports.timeConversion=timeConversion;var areaConversion={m2:1,km2:0.000001,ha:0.0001,a:0.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};exports.areaConversion=areaConversion;areaConversion.sqm=areaConversion.m2;areaConversion.sqkm=areaConversion.km2;areaConversion.sqft=areaConversion.ft2;areaConversion.sqyd=areaConversion.yd2;areaConversion.sqin=areaConversion.in2;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var getCoordinateKey=function getCoordinateKey(point,keysToLookup){return keysToLookup.reduce(function(foundKey,key){if(typeof point===\"undefined\"||point===null){throw new Error(\"'\".concat(point,\"' is no valid coordinate.\"))}if(Object.prototype.hasOwnProperty.call(point,key)&&typeof key!==\"undefined\"&&typeof foundKey===\"undefined\"){foundKey=key;return key}return foundKey},undefined)};var _default=getCoordinateKey;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var isDecimal=function isDecimal(value){var checkedValue=value.toString().trim();if(isNaN(parseFloat(checkedValue))){return false}return parseFloat(checkedValue)===Number(checkedValue)};var _default=isDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var isSexagesimal=function isSexagesimal(value){return _constants.sexagesimalPattern.test(value.toString().trim())};var _default=isSexagesimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var sexagesimalToDecimal=function sexagesimalToDecimal(sexagesimal){var data=new RegExp(_constants.sexagesimalPattern).exec(sexagesimal.toString().trim());if(typeof data===\"undefined\"||data===null){throw new Error(\"Given value is not in sexagesimal format\")}var min=Number(data[2])/60||0;var sec=Number(data[4])/3600||0;var decimal=parseFloat(data[1])+min+sec;return[\"S\",\"W\"].includes(data[7])?-decimal:decimal};var _default=sexagesimalToDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getCoordinateKeys=function getCoordinateKeys(point){var keysToLookup=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{longitude:_constants.longitudeKeys,latitude:_constants.latitudeKeys,altitude:_constants.altitudeKeys};var longitude=(0,_getCoordinateKey.default)(point,keysToLookup.longitude);var latitude=(0,_getCoordinateKey.default)(point,keysToLookup.latitude);var altitude=(0,_getCoordinateKey.default)(point,keysToLookup.altitude);return _objectSpread({latitude:latitude,longitude:longitude},altitude?{altitude:altitude}:{})};var _default=getCoordinateKeys;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidLatitude=function isValidLatitude(value){if((0,_isDecimal.default)(value)){if(parseFloat(value)>_constants.MAXLAT||value<_constants.MINLAT){return false}return true}if((0,_isSexagesimal.default)(value)){return isValidLatitude((0,_sexagesimalToDecimal.default)(value))}return false};var _default=isValidLatitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidLongitude=function isValidLongitude(value){if((0,_isDecimal.default)(value)){if(parseFloat(value)>_constants.MAXLON||value<_constants.MINLON){return false}return true}if((0,_isSexagesimal.default)(value)){return isValidLongitude((0,_sexagesimalToDecimal.default)(value))}return false};var _default=isValidLongitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getCoordinateKeys2=_interopRequireDefault(require(\"./getCoordinateKeys\"));var _isValidLatitude=_interopRequireDefault(require(\"./isValidLatitude\"));var _isValidLongitude=_interopRequireDefault(require(\"./isValidLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidCoordinate=function isValidCoordinate(point){var _getCoordinateKeys=(0,_getCoordinateKeys2.default)(point),latitude=_getCoordinateKeys.latitude,longitude=_getCoordinateKeys.longitude;if(Array.isArray(point)&&point.length>=2){return(0,_isValidLongitude.default)(point[0])&&(0,_isValidLatitude.default)(point[1])}if(typeof latitude===\"undefined\"||typeof longitude===\"undefined\"){return false}var lon=point[longitude];var lat=point[latitude];if(typeof lat===\"undefined\"||typeof lon===\"undefined\"){return false}if((0,_isValidLatitude.default)(lat)===false||(0,_isValidLongitude.default)(lon)===false){return false}return true};var _default=isValidCoordinate;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _isValidCoordinate=_interopRequireDefault(require(\"./isValidCoordinate\"));var _getCoordinateKeys=_interopRequireDefault(require(\"./getCoordinateKeys\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var toDecimal=function toDecimal(value){if((0,_isDecimal.default)(value)){return Number(value)}if((0,_isSexagesimal.default)(value)){return(0,_sexagesimalToDecimal.default)(value)}if((0,_isValidCoordinate.default)(value)){var keys=(0,_getCoordinateKeys.default)(value);if(Array.isArray(value)){return value.map(function(v,index){return[0,1].includes(index)?toDecimal(v):v})}return _objectSpread(_objectSpread(_objectSpread({},value),keys.latitude&&_defineProperty({},keys.latitude,toDecimal(value[keys.latitude]))),keys.longitude&&_defineProperty({},keys.longitude,toDecimal(value[keys.longitude])))}if(Array.isArray(value)){return value.map(function(point){return(0,_isValidCoordinate.default)(point)?toDecimal(point):point})}return value};var _default=toDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getLatitude=function getLatitude(point,raw){var latKey=(0,_getCoordinateKey.default)(point,_constants.latitudeKeys);if(typeof latKey===\"undefined\"||latKey===null){return}var value=point[latKey];return raw===true?value:(0,_toDecimal.default)(value)};var _default=getLatitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getLongitude=function getLongitude(point,raw){var latKey=(0,_getCoordinateKey.default)(point,_constants.longitudeKeys);if(typeof latKey===\"undefined\"||latKey===null){return}var value=point[latKey];return raw===true?value:(0,_toDecimal.default)(value)};var _default=getLongitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var toRad=function toRad(value){return value*Math.PI/180};var _default=toRad;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var toDeg=function toDeg(value){return value*180/Math.PI};var _default=toDeg;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var computeDestinationPoint=function computeDestinationPoint(start,distance,bearing){var radius=arguments.length>3&&arguments[3]!==undefined?arguments[3]:6371000;var lat=(0,_getLatitude.default)(start);var lng=(0,_getLongitude.default)(start);var delta=distance/radius;var theta=(0,_toRad.default)(bearing);var phi1=(0,_toRad.default)(lat);var lambda1=(0,_toRad.default)(lng);var phi2=Math.asin(Math.sin(phi1)*Math.cos(delta)+Math.cos(phi1)*Math.sin(delta)*Math.cos(theta));var lambda2=lambda1+Math.atan2(Math.sin(theta)*Math.sin(delta)*Math.cos(phi1),Math.cos(delta)-Math.sin(phi1)*Math.sin(phi2));var longitude=(0,_toDeg.default)(lambda2);if(longitude<_constants.MINLON||longitude>_constants.MAXLON){lambda2=(lambda2+3*Math.PI)%(2*Math.PI)-Math.PI;longitude=(0,_toDeg.default)(lambda2)}return{latitude:(0,_toDeg.default)(phi2),longitude:longitude}};var _default=computeDestinationPoint;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertArea=function convertArea(squareMeters){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"m\";var factor=_constants.areaConversion[targetUnit];if(factor){return squareMeters*factor}throw new Error(\"Invalid unit used for area conversion.\")};var _default=convertArea;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertDistance=function convertDistance(meters){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"m\";var factor=_constants.distanceConversion[targetUnit];if(factor){return meters*factor}throw new Error(\"Invalid unit used for distance conversion.\")};var _default=convertDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertSpeed=function convertSpeed(metersPerSecond){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"kmh\";switch(targetUnit){case\"kmh\":return metersPerSecond*_constants.timeConversion.h*_constants.distanceConversion.km;case\"mph\":return metersPerSecond*_constants.timeConversion.h*_constants.distanceConversion.mi;default:return metersPerSecond;}};var _default=convertSpeed;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol===\"undefined\"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var imprecise=function imprecise(number){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var factor=Math.pow(10,decimals);return Math.round(number*factor)/factor};var decimal2sexagesimalNext=function decimal2sexagesimalNext(decimal){var _decimal$toString$spl=decimal.toString().split(\".\"),_decimal$toString$spl2=_slicedToArray(_decimal$toString$spl,2),pre=_decimal$toString$spl2[0],post=_decimal$toString$spl2[1];var deg=Math.abs(Number(pre));var min0=Number(\"0.\"+(post||0))*60;var sec0=min0.toString().split(\".\");var min=Math.floor(min0);var sec=imprecise(Number(\"0.\"+(sec0[1]||0))*60).toString();var _sec$split=sec.split(\".\"),_sec$split2=_slicedToArray(_sec$split,2),secPreDec=_sec$split2[0],_sec$split2$=_sec$split2[1],secDec=_sec$split2$===void 0?\"0\":_sec$split2$;return deg+\"\\xB0 \"+min.toString().padStart(2,\"0\")+\"' \"+secPreDec.padStart(2,\"0\")+\".\"+secDec.padEnd(1,\"0\")+\"\\\"\"};var _default=decimal2sexagesimalNext;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var robustAcos=function robustAcos(value){if(value>1){return 1}if(value<-1){return-1}return value};var _default=robustAcos;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _robustAcos=_interopRequireDefault(require(\"./robustAcos\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistance=function getDistance(from,to){var accuracy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;accuracy=typeof accuracy!==\"undefined\"&&!isNaN(accuracy)?accuracy:1;var fromLat=(0,_getLatitude.default)(from);var fromLon=(0,_getLongitude.default)(from);var toLat=(0,_getLatitude.default)(to);var toLon=(0,_getLongitude.default)(to);var distance=Math.acos((0,_robustAcos.default)(Math.sin((0,_toRad.default)(toLat))*Math.sin((0,_toRad.default)(fromLat))+Math.cos((0,_toRad.default)(toLat))*Math.cos((0,_toRad.default)(fromLat))*Math.cos((0,_toRad.default)(fromLon)-(0,_toRad.default)(toLon))))*_constants.earthRadius;return Math.round(distance/accuracy)*accuracy};var _default=getDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var orderByDistance=function orderByDistance(point,coords){var distanceFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getDistance.default;distanceFn=typeof distanceFn===\"function\"?distanceFn:_getDistance.default;return coords.slice().sort(function(a,b){return distanceFn(point,a)-distanceFn(point,b)})};var _default=orderByDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _orderByDistance=_interopRequireDefault(require(\"./orderByDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var findNearest=function findNearest(point,coords){return(0,_orderByDistance.default)(point,coords)[0]};var _default=findNearest;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _toRad=_interopRequireDefault(require(\"./toRad\"));var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getAreaOfPolygon=function getAreaOfPolygon(points){var area=0;if(points.length>2){var lowerIndex;var middleIndex;var upperIndex;for(var i=0;i<points.length;i++){if(i===points.length-2){lowerIndex=points.length-2;middleIndex=points.length-1;upperIndex=0}else if(i===points.length-1){lowerIndex=points.length-1;middleIndex=0;upperIndex=1}else{lowerIndex=i;middleIndex=i+1;upperIndex=i+2}var p1lon=(0,_getLongitude.default)(points[lowerIndex]);var p2lat=(0,_getLatitude.default)(points[middleIndex]);var p3lon=(0,_getLongitude.default)(points[upperIndex]);area+=((0,_toRad.default)(p3lon)-(0,_toRad.default)(p1lon))*Math.sin((0,_toRad.default)(p2lat))}area=area*_constants.earthRadius*_constants.earthRadius/2}return Math.abs(area)};var _default=getAreaOfPolygon;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getBounds=function getBounds(points){if(Array.isArray(points)===false||points.length===0){throw new Error(\"No points were given.\")}return points.reduce(function(stats,point){var latitude=(0,_getLatitude.default)(point);var longitude=(0,_getLongitude.default)(point);return{maxLat:Math.max(latitude,stats.maxLat),minLat:Math.min(latitude,stats.minLat),maxLng:Math.max(longitude,stats.maxLng),minLng:Math.min(longitude,stats.minLng)}},{maxLat:-Infinity,minLat:Infinity,maxLng:-Infinity,minLng:Infinity})};var _default=getBounds;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getBoundsOfDistance=function getBoundsOfDistance(point,distance){var latitude=(0,_getLatitude.default)(point);var longitude=(0,_getLongitude.default)(point);var radLat=(0,_toRad.default)(latitude);var radLon=(0,_toRad.default)(longitude);var radDist=distance/_constants.earthRadius;var minLat=radLat-radDist;var maxLat=radLat+radDist;var MAX_LAT_RAD=(0,_toRad.default)(_constants.MAXLAT);var MIN_LAT_RAD=(0,_toRad.default)(_constants.MINLAT);var MAX_LON_RAD=(0,_toRad.default)(_constants.MAXLON);var MIN_LON_RAD=(0,_toRad.default)(_constants.MINLON);var minLon;var maxLon;if(minLat>MIN_LAT_RAD&&maxLat<MAX_LAT_RAD){var deltaLon=Math.asin(Math.sin(radDist)/Math.cos(radLat));minLon=radLon-deltaLon;if(minLon<MIN_LON_RAD){minLon+=Math.PI*2}maxLon=radLon+deltaLon;if(maxLon>MAX_LON_RAD){maxLon-=Math.PI*2}}else{minLat=Math.max(minLat,MIN_LAT_RAD);maxLat=Math.min(maxLat,MAX_LAT_RAD);minLon=MIN_LON_RAD;maxLon=MAX_LON_RAD}return[{latitude:(0,_toDeg.default)(minLat),longitude:(0,_toDeg.default)(minLon)},{latitude:(0,_toDeg.default)(maxLat),longitude:(0,_toDeg.default)(maxLon)}]};var _default=getBoundsOfDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCenter=function getCenter(points){if(Array.isArray(points)===false||points.length===0){return false}var numberOfPoints=points.length;var sum=points.reduce(function(acc,point){var pointLat=(0,_toRad.default)((0,_getLatitude.default)(point));var pointLon=(0,_toRad.default)((0,_getLongitude.default)(point));return{X:acc.X+Math.cos(pointLat)*Math.cos(pointLon),Y:acc.Y+Math.cos(pointLat)*Math.sin(pointLon),Z:acc.Z+Math.sin(pointLat)}},{X:0,Y:0,Z:0});var X=sum.X/numberOfPoints;var Y=sum.Y/numberOfPoints;var Z=sum.Z/numberOfPoints;return{longitude:(0,_toDeg.default)(Math.atan2(Y,X)),latitude:(0,_toDeg.default)(Math.atan2(Z,Math.sqrt(X*X+Y*Y)))}};var _default=getCenter;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getBounds=_interopRequireDefault(require(\"./getBounds\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCenterOfBounds=function getCenterOfBounds(coords){var bounds=(0,_getBounds.default)(coords);var latitude=bounds.minLat+(bounds.maxLat-bounds.minLat)/2;var longitude=bounds.minLng+(bounds.maxLng-bounds.minLng)/2;return{latitude:parseFloat(latitude.toFixed(6)),longitude:parseFloat(longitude.toFixed(6))}};var _default=getCenterOfBounds;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getRhumbLineBearing=function getRhumbLineBearing(origin,dest){var diffLon=(0,_toRad.default)((0,_getLongitude.default)(dest))-(0,_toRad.default)((0,_getLongitude.default)(origin));var diffPhi=Math.log(Math.tan((0,_toRad.default)((0,_getLatitude.default)(dest))/2+Math.PI/4)/Math.tan((0,_toRad.default)((0,_getLatitude.default)(origin))/2+Math.PI/4));if(Math.abs(diffLon)>Math.PI){if(diffLon>0){diffLon=(Math.PI*2-diffLon)*-1}else{diffLon=Math.PI*2+diffLon}}return((0,_toDeg.default)(Math.atan2(diffLon,diffPhi))+360)%360};var _default=getRhumbLineBearing;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getRhumbLineBearing=_interopRequireDefault(require(\"./getRhumbLineBearing\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCompassDirection=function getCompassDirection(origin,dest){var bearingFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getRhumbLineBearing.default;var bearing=typeof bearingFn===\"function\"?bearingFn(origin,dest):(0,_getRhumbLineBearing.default)(origin,dest);if(isNaN(bearing)){throw new Error(\"Could not calculate bearing for given points. Check your bearing function\")}switch(Math.round(bearing/22.5)){case 1:return\"NNE\";case 2:return\"NE\";case 3:return\"ENE\";case 4:return\"E\";case 5:return\"ESE\";case 6:return\"SE\";case 7:return\"SSE\";case 8:return\"S\";case 9:return\"SSW\";case 10:return\"SW\";case 11:return\"WSW\";case 12:return\"W\";case 13:return\"WNW\";case 14:return\"NW\";case 15:return\"NNW\";default:return\"N\";}};var _default=getCompassDirection;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));var _robustAcos=_interopRequireDefault(require(\"./robustAcos\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistanceFromLine=function getDistanceFromLine(point,lineStart,lineEnd){var accuracy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var d1=(0,_getDistance.default)(lineStart,point,accuracy);var d2=(0,_getDistance.default)(point,lineEnd,accuracy);var d3=(0,_getDistance.default)(lineStart,lineEnd,accuracy);var alpha=Math.acos((0,_robustAcos.default)((d1*d1+d3*d3-d2*d2)/(2*d1*d3)));var beta=Math.acos((0,_robustAcos.default)((d2*d2+d3*d3-d1*d1)/(2*d2*d3)));if(alpha>Math.PI/2){return d1}if(beta>Math.PI/2){return d2}return Math.sin(alpha)*d1};var _default=getDistanceFromLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getGreatCircleBearing=function getGreatCircleBearing(origin,dest){var destLat=(0,_getLatitude.default)(dest);var detLon=(0,_getLongitude.default)(dest);var originLat=(0,_getLatitude.default)(origin);var originLon=(0,_getLongitude.default)(origin);var bearing=((0,_toDeg.default)(Math.atan2(Math.sin((0,_toRad.default)(detLon)-(0,_toRad.default)(originLon))*Math.cos((0,_toRad.default)(destLat)),Math.cos((0,_toRad.default)(originLat))*Math.sin((0,_toRad.default)(destLat))-Math.sin((0,_toRad.default)(originLat))*Math.cos((0,_toRad.default)(destLat))*Math.cos((0,_toRad.default)(detLon)-(0,_toRad.default)(originLon))))+360)%360;return bearing};var _default=getGreatCircleBearing;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}var getPathLength=function getPathLength(points){var distanceFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_getDistance.default;return points.reduce(function(acc,point){if(_typeof(acc)===\"object\"&&acc.last!==null){acc.distance+=distanceFn(point,acc.last)}acc.last=point;return acc},{last:null,distance:0}).distance};var _default=getPathLength;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistance=function getDistance(start,end){var accuracy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;accuracy=typeof accuracy!==\"undefined\"&&!isNaN(accuracy)?accuracy:1;var startLat=(0,_getLatitude.default)(start);var startLon=(0,_getLongitude.default)(start);var endLat=(0,_getLatitude.default)(end);var endLon=(0,_getLongitude.default)(end);var b=6356752.314245;var ellipsoidParams=1/298.257223563;var L=(0,_toRad.default)(endLon-startLon);var cosSigma;var sigma;var sinAlpha;var cosSqAlpha;var cos2SigmaM;var sinSigma;var U1=Math.atan((1-ellipsoidParams)*Math.tan((0,_toRad.default)(parseFloat(startLat))));var U2=Math.atan((1-ellipsoidParams)*Math.tan((0,_toRad.default)(parseFloat(endLat))));var sinU1=Math.sin(U1);var cosU1=Math.cos(U1);var sinU2=Math.sin(U2);var cosU2=Math.cos(U2);var lambda=L;var lambdaP;var iterLimit=100;do{var sinLambda=Math.sin(lambda);var cosLambda=Math.cos(lambda);sinSigma=Math.sqrt(cosU2*sinLambda*(cosU2*sinLambda)+(cosU1*sinU2-sinU1*cosU2*cosLambda)*(cosU1*sinU2-sinU1*cosU2*cosLambda));if(sinSigma===0){return 0}cosSigma=sinU1*sinU2+cosU1*cosU2*cosLambda;sigma=Math.atan2(sinSigma,cosSigma);sinAlpha=cosU1*cosU2*sinLambda/sinSigma;cosSqAlpha=1-sinAlpha*sinAlpha;cos2SigmaM=cosSigma-2*sinU1*sinU2/cosSqAlpha;if(isNaN(cos2SigmaM)){cos2SigmaM=0}var C=ellipsoidParams/16*cosSqAlpha*(4+ellipsoidParams*(4-3*cosSqAlpha));lambdaP=lambda;lambda=L+(1-C)*ellipsoidParams*sinAlpha*(sigma+C*sinSigma*(cos2SigmaM+C*cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)))}while(Math.abs(lambda-lambdaP)>1e-12&&--iterLimit>0);if(iterLimit===0){return NaN}var uSq=cosSqAlpha*(_constants.earthRadius*_constants.earthRadius-b*b)/(b*b);var A=1+uSq/16384*(4096+uSq*(-768+uSq*(320-175*uSq)));var B=uSq/1024*(256+uSq*(-128+uSq*(74-47*uSq)));var deltaSigma=B*sinSigma*(cos2SigmaM+B/4*(cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)-B/6*cos2SigmaM*(-3+4*sinSigma*sinSigma)*(-3+4*cos2SigmaM*cos2SigmaM)));var distance=b*A*(sigma-deltaSigma);return Math.round(distance/accuracy)*accuracy};var _default=getDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var getRoughCompassDirection=function getRoughCompassDirection(exact){if(/^NNE|NE|NNW|N$/.test(exact)){return\"N\"}if(/^ENE|E|ESE|SE$/.test(exact)){return\"E\"}if(/^SSE|S|SSW|SW$/.test(exact)){return\"S\"}if(/^WSW|W|WNW|NW$/.test(exact)){return\"W\"}};var _default=getRoughCompassDirection;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getSpeed=function getSpeed(start,end){var distanceFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getDistance.default;var distance=distanceFn(start,end);var time=Number(end.time)-Number(start.time);var metersPerSecond=distance/time*1000;return metersPerSecond};var _default=getSpeed;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointInLine=function isPointInLine(point,lineStart,lineEnd){return(0,_getDistance.default)(lineStart,point)+(0,_getDistance.default)(point,lineEnd)===(0,_getDistance.default)(lineStart,lineEnd)};var _default=isPointInLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointInPolygon=function isPointInPolygon(point,polygon){var isInside=false;var totalPolys=polygon.length;for(var i=-1,j=totalPolys-1;++i<totalPolys;j=i){if(((0,_getLongitude.default)(polygon[i])<=(0,_getLongitude.default)(point)&&(0,_getLongitude.default)(point)<(0,_getLongitude.default)(polygon[j])||(0,_getLongitude.default)(polygon[j])<=(0,_getLongitude.default)(point)&&(0,_getLongitude.default)(point)<(0,_getLongitude.default)(polygon[i]))&&(0,_getLatitude.default)(point)<((0,_getLatitude.default)(polygon[j])-(0,_getLatitude.default)(polygon[i]))*((0,_getLongitude.default)(point)-(0,_getLongitude.default)(polygon[i]))/((0,_getLongitude.default)(polygon[j])-(0,_getLongitude.default)(polygon[i]))+(0,_getLatitude.default)(polygon[i])){isInside=!isInside}}return isInside};var _default=isPointInPolygon;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistanceFromLine=_interopRequireDefault(require(\"./getDistanceFromLine\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointNearLine=function isPointNearLine(point,start,end,distance){return(0,_getDistanceFromLine.default)(point,start,end)<distance};var _default=isPointNearLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointWithinRadius=function isPointWithinRadius(point,center,radius){return(0,_getDistance.default)(point,center)<radius};var _default=isPointWithinRadius;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol===\"undefined\"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var wktToPolygon=function wktToPolygon(wkt){if(!wkt.startsWith(\"POLYGON\")){throw new Error(\"Invalid wkt.\")}var coordsText=wkt.slice(wkt.indexOf(\"(\")+2,wkt.indexOf(\")\")).split(\", \");var polygon=coordsText.map(function(coordText){var _coordText$split=coordText.split(\" \"),_coordText$split2=_slicedToArray(_coordText$split,2),longitude=_coordText$split2[0],latitude=_coordText$split2[1];return{longitude:parseFloat(longitude),latitude:parseFloat(latitude)}});return polygon};var _default=wktToPolygon;exports.default=_default;","<script>\nimport { decodeImage } from '../api'\nexport let src = null\nexport let size = null\n/*\n  import { onMount } from 'svelte'\n  const url = ''\n  onMount(() => {\n    return () => URL.revokeObjectURL(url)\n  })\n*/\nconst style = !(size ?? false) ? '' : `width: ${size}; height: ${size}`\n</script>\n<img\n  class=\"bimg\"\n  style={style}\n  src={decodeImage(src)}>\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _exportNames={computeDestinationPoint:true,convertArea:true,convertDistance:true,convertSpeed:true,decimalToSexagesimal:true,findNearest:true,getAreaOfPolygon:true,getBounds:true,getBoundsOfDistance:true,getCenter:true,getCenterOfBounds:true,getCompassDirection:true,getCoordinateKey:true,getCoordinateKeys:true,getDistance:true,getDistanceFromLine:true,getGreatCircleBearing:true,getLatitude:true,getLongitude:true,getPathLength:true,getPreciseDistance:true,getRhumbLineBearing:true,getRoughCompassDirection:true,getSpeed:true,isDecimal:true,isPointInLine:true,isPointInPolygon:true,isPointNearLine:true,isPointWithinRadius:true,isSexagesimal:true,isValidCoordinate:true,isValidLatitude:true,isValidLongitude:true,orderByDistance:true,sexagesimalToDecimal:true,toDecimal:true,toRad:true,toDeg:true,wktToPolygon:true};Object.defineProperty(exports,\"computeDestinationPoint\",{enumerable:true,get:function get(){return _computeDestinationPoint.default}});Object.defineProperty(exports,\"convertArea\",{enumerable:true,get:function get(){return _convertArea.default}});Object.defineProperty(exports,\"convertDistance\",{enumerable:true,get:function get(){return _convertDistance.default}});Object.defineProperty(exports,\"convertSpeed\",{enumerable:true,get:function get(){return _convertSpeed.default}});Object.defineProperty(exports,\"decimalToSexagesimal\",{enumerable:true,get:function get(){return _decimalToSexagesimal.default}});Object.defineProperty(exports,\"findNearest\",{enumerable:true,get:function get(){return _findNearest.default}});Object.defineProperty(exports,\"getAreaOfPolygon\",{enumerable:true,get:function get(){return _getAreaOfPolygon.default}});Object.defineProperty(exports,\"getBounds\",{enumerable:true,get:function get(){return _getBounds.default}});Object.defineProperty(exports,\"getBoundsOfDistance\",{enumerable:true,get:function get(){return _getBoundsOfDistance.default}});Object.defineProperty(exports,\"getCenter\",{enumerable:true,get:function get(){return _getCenter.default}});Object.defineProperty(exports,\"getCenterOfBounds\",{enumerable:true,get:function get(){return _getCenterOfBounds.default}});Object.defineProperty(exports,\"getCompassDirection\",{enumerable:true,get:function get(){return _getCompassDirection.default}});Object.defineProperty(exports,\"getCoordinateKey\",{enumerable:true,get:function get(){return _getCoordinateKey.default}});Object.defineProperty(exports,\"getCoordinateKeys\",{enumerable:true,get:function get(){return _getCoordinateKeys.default}});Object.defineProperty(exports,\"getDistance\",{enumerable:true,get:function get(){return _getDistance.default}});Object.defineProperty(exports,\"getDistanceFromLine\",{enumerable:true,get:function get(){return _getDistanceFromLine.default}});Object.defineProperty(exports,\"getGreatCircleBearing\",{enumerable:true,get:function get(){return _getGreatCircleBearing.default}});Object.defineProperty(exports,\"getLatitude\",{enumerable:true,get:function get(){return _getLatitude.default}});Object.defineProperty(exports,\"getLongitude\",{enumerable:true,get:function get(){return _getLongitude.default}});Object.defineProperty(exports,\"getPathLength\",{enumerable:true,get:function get(){return _getPathLength.default}});Object.defineProperty(exports,\"getPreciseDistance\",{enumerable:true,get:function get(){return _getPreciseDistance.default}});Object.defineProperty(exports,\"getRhumbLineBearing\",{enumerable:true,get:function get(){return _getRhumbLineBearing.default}});Object.defineProperty(exports,\"getRoughCompassDirection\",{enumerable:true,get:function get(){return _getRoughCompassDirection.default}});Object.defineProperty(exports,\"getSpeed\",{enumerable:true,get:function get(){return _getSpeed.default}});Object.defineProperty(exports,\"isDecimal\",{enumerable:true,get:function get(){return _isDecimal.default}});Object.defineProperty(exports,\"isPointInLine\",{enumerable:true,get:function get(){return _isPointInLine.default}});Object.defineProperty(exports,\"isPointInPolygon\",{enumerable:true,get:function get(){return _isPointInPolygon.default}});Object.defineProperty(exports,\"isPointNearLine\",{enumerable:true,get:function get(){return _isPointNearLine.default}});Object.defineProperty(exports,\"isPointWithinRadius\",{enumerable:true,get:function get(){return _isPointWithinRadius.default}});Object.defineProperty(exports,\"isSexagesimal\",{enumerable:true,get:function get(){return _isSexagesimal.default}});Object.defineProperty(exports,\"isValidCoordinate\",{enumerable:true,get:function get(){return _isValidCoordinate.default}});Object.defineProperty(exports,\"isValidLatitude\",{enumerable:true,get:function get(){return _isValidLatitude.default}});Object.defineProperty(exports,\"isValidLongitude\",{enumerable:true,get:function get(){return _isValidLongitude.default}});Object.defineProperty(exports,\"orderByDistance\",{enumerable:true,get:function get(){return _orderByDistance.default}});Object.defineProperty(exports,\"sexagesimalToDecimal\",{enumerable:true,get:function get(){return _sexagesimalToDecimal.default}});Object.defineProperty(exports,\"toDecimal\",{enumerable:true,get:function get(){return _toDecimal.default}});Object.defineProperty(exports,\"toRad\",{enumerable:true,get:function get(){return _toRad.default}});Object.defineProperty(exports,\"toDeg\",{enumerable:true,get:function get(){return _toDeg.default}});Object.defineProperty(exports,\"wktToPolygon\",{enumerable:true,get:function get(){return _wktToPolygon.default}});var _computeDestinationPoint=_interopRequireDefault(require(\"./computeDestinationPoint\"));var _convertArea=_interopRequireDefault(require(\"./convertArea\"));var _convertDistance=_interopRequireDefault(require(\"./convertDistance\"));var _convertSpeed=_interopRequireDefault(require(\"./convertSpeed\"));var _decimalToSexagesimal=_interopRequireDefault(require(\"./decimalToSexagesimal\"));var _findNearest=_interopRequireDefault(require(\"./findNearest\"));var _getAreaOfPolygon=_interopRequireDefault(require(\"./getAreaOfPolygon\"));var _getBounds=_interopRequireDefault(require(\"./getBounds\"));var _getBoundsOfDistance=_interopRequireDefault(require(\"./getBoundsOfDistance\"));var _getCenter=_interopRequireDefault(require(\"./getCenter\"));var _getCenterOfBounds=_interopRequireDefault(require(\"./getCenterOfBounds\"));var _getCompassDirection=_interopRequireDefault(require(\"./getCompassDirection\"));var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _getCoordinateKeys=_interopRequireDefault(require(\"./getCoordinateKeys\"));var _getDistance=_interopRequireDefault(require(\"./getDistance\"));var _getDistanceFromLine=_interopRequireDefault(require(\"./getDistanceFromLine\"));var _getGreatCircleBearing=_interopRequireDefault(require(\"./getGreatCircleBearing\"));var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _getPathLength=_interopRequireDefault(require(\"./getPathLength\"));var _getPreciseDistance=_interopRequireDefault(require(\"./getPreciseDistance\"));var _getRhumbLineBearing=_interopRequireDefault(require(\"./getRhumbLineBearing\"));var _getRoughCompassDirection=_interopRequireDefault(require(\"./getRoughCompassDirection\"));var _getSpeed=_interopRequireDefault(require(\"./getSpeed\"));var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isPointInLine=_interopRequireDefault(require(\"./isPointInLine\"));var _isPointInPolygon=_interopRequireDefault(require(\"./isPointInPolygon\"));var _isPointNearLine=_interopRequireDefault(require(\"./isPointNearLine\"));var _isPointWithinRadius=_interopRequireDefault(require(\"./isPointWithinRadius\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _isValidCoordinate=_interopRequireDefault(require(\"./isValidCoordinate\"));var _isValidLatitude=_interopRequireDefault(require(\"./isValidLatitude\"));var _isValidLongitude=_interopRequireDefault(require(\"./isValidLongitude\"));var _orderByDistance=_interopRequireDefault(require(\"./orderByDistance\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _wktToPolygon=_interopRequireDefault(require(\"./wktToPolygon\"));var _constants=require(\"./constants\");Object.keys(_constants).forEach(function(key){if(key===\"default\"||key===\"__esModule\")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _constants[key]}})});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}","<script>\nimport { getDistance } from 'geolib'\nimport BinaryImage from './BinaryImage.svelte'\nimport { kernel, decodePk } from '../api'\nexport let peer\nexport let size = 'normal'\nlet distance = null\nif (kernel.pk) {\n  const a = decodePk(kernel.pk)\n  const b = decodePk(peer.pk)\n  distance = getDistance(a, b, 1000)\n}\n</script>\n  <article class=\"peer\">\n    <legend>\n      <overlay>\n        <h3 style=\"grid-area: nw;\"><dot class=\"vibing\">&nbsp;</dot>{peer.score}</h3>\n        <div style=\"grid-area: sw; align-self: end;\">\n          <h2>{peer.name}</h2>\n        </div>\n        <div style=\"grid-area: se; align-self: end; justify-self: end;\" class=\"end\">\n          <h2></h2>\n        </div>\n      </overlay>\n      <BinaryImage src={peer.picture}/>\n    </legend>\n    <slot name=\"genderloc\">\n      {#if distance !== null}\n        Distance {distance}Km\n      {/if}\n    </slot>\n    <slot></slot>\n  </article>\n<style>\n</style>\n","<script>\nimport { onMount } from 'svelte'\nimport { writable } from 'svelte/store'\nimport {\n  state,\n  kernel,\n  boot,\n  Peers,\n  Cooldowns,\n  Vibes,\n} from '../api'\nimport Timer from '../components/Timer.svelte'\nimport Portrait from '../components/PeerPortrait.svelte'\nimport Icon from '../components/Icon.svelte'\nimport Dialog from '../components/Dialog.svelte'\n\nconst cooldowns = Cooldowns()\nconst peers = Peers()\nconst vibes = Vibes()\nconst showFiltersDialog = writable(false)\n\n// Auto-connect to swarm-topic\nif (!$state.swarming) boot()\n  .catch(console.error.bind(null, 'Auto-connect failed'))\n\nfunction sendVibe (pk) {\n  kernel.sendVibe(pk)\n    .catch(err => console.error('Failed sending vibe', err))\n}\n</script>\n<pub-view class=\"block container\">\n  <h1 class=\"view-header\"> Club Room</h1>\n  <p>\n    This is the common room, see someone interesting?<br/>\n    Shoot!\n  </p>\n  {#if !$state.entered}\n    Press the <strong>Enter</strong> button to play.\n  {:else}\n    {#if !$cooldowns.vibe}\n      <small>Your  is primed and loaded!</small>\n    {:else}\n      <small>Vibe available in <Timer expiresAt={$cooldowns.vibe} format=\"mm:ss\" /></small>\n    {/if}\n  {/if}\n  <div class=\"row space-between xcenter\">\n    <h6 class=\"nogap\">Patrons {$peers.length}</h6>\n    <a role=\"button\"\n       class=\"outline hpad vgap\"\n       on:click={() => $showFiltersDialog = true}>\n      Filter\n    </a>\n  </div>\n  <peers class=\"row wrap space-between\">\n  {#each $peers as peer}\n    <!-- TODO: Make a small thumbnail cb style,\n      it's awkward to be up in someone's face, when you\n      enter a bar you wanna start out as part of a herd -->\n    <Portrait peer={peer}>\n      <div class=\"flex row space-between\">\n        <p class=\"hpad\">\n          {peer.tagline}\n        </p>\n        <div>\n          {#if !!$vibes.find(v => v.peerId?.equals(peer.pk)) }\n            <small>Waiting</small>\n            <Timer expiresAt={$vibes.find(v => v.peerId?.equals(peer.pk)).expiresAt} format=\"mm:ss\" />\n          {:else if $state.entered && !$cooldowns.vibe}\n            <a role=\"button\"\n              class=\"nofill\"\n              on:click={() => sendVibe(peer.pk)}>\n              <Icon id=\"gfx-vibe\" />\n            </a>\n          {/if}\n        </div>\n      </div>\n    </Portrait>\n  {/each}\n  </peers>\n  {#if $showFiltersDialog}\n    <Dialog open={true} on:fade={() => $showFiltersDialog = false}>\n      <article>\n        <h6>Genders</h6>\n        <fieldset>\n          <label for=\"m\">\n            <input type=\"checkbox\" id=\"m\" name=\"m\" role=\"switch\">\n            M\n          </label>\n        </fieldset>\n        <fieldset>\n          <label for=\"f\">\n            <input type=\"checkbox\" id=\"f\" name=\"f\" role=\"switch\">\n            F\n          </label>\n        </fieldset>\n        <fieldset>\n          <label for=\"nb\">\n            <input type=\"checkbox\" id=\"nb\" name=\"nb\" role=\"switch\">\n            NB\n          </label>\n        </fieldset>\n        <h6>Distance</h6>\n        <label for=\"distance\">\n          GLOBAL\n          <input type=\"range\" min=\"0\" max=\"100\" value=\"100\" id=\"distance\" name=\"distance\">\n        </label>\n        <footer>\n          <a role=\"button\">reset</a>\n          <a role=\"button\" on:click={() => $showFiltersDialog = false}>filter</a>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n</pub-view>\n<style>\n.view-header {\n  border-bottom: 1px solid var(--wizardry);\n}\n</style>\n","/**\n * Compute the dimension of the crop area based on image size and aspect ratio\n * @param {number} imgWidth width of the src image in pixels\n * @param {number} imgHeight height of the src image in pixels\n * @param {number} aspect aspect ratio of the crop\n */\nexport function getCropSize(imgWidth, imgHeight, aspect) {\n  if (imgWidth >= imgHeight * aspect) {\n    return {\n      width: imgHeight * aspect,\n      height: imgHeight,\n    }\n  }\n  return {\n    width: imgWidth,\n    height: imgWidth / aspect,\n  }\n}\n\n/**\n * Ensure a new image position stays in the crop area.\n * @param {{x: number, y: number}} position new x/y position requested for the image\n * @param {{width: number, height: number}} imageSize width/height of the src image\n * @param {{width: number, height: number}} cropSize width/height of the crop area\n * @param {number} zoom zoom value\n * @returns {{x: number, y: number}}\n */\nexport function restrictPosition(position, imageSize, cropSize, zoom) {\n  return {\n    x: restrictPositionCoord(position.x, imageSize.width, cropSize.width, zoom),\n    y: restrictPositionCoord(position.y, imageSize.height, cropSize.height, zoom),\n  }\n}\n\nfunction restrictPositionCoord(position, imageSize, cropSize, zoom) {\n  const maxPosition = (imageSize * zoom) / 2 - cropSize / 2\n  return Math.min(maxPosition, Math.max(position, -maxPosition))\n}\n\nexport function getDistanceBetweenPoints(pointA, pointB) {\n  return Math.sqrt(Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2))\n}\n\n/**\n * Compute the output cropped area of the image in percentages and pixels.\n * x/y are the top-left coordinates on the src image\n * @param {{x: number, y number}} crop x/y position of the current center of the image\n * @param {{width: number, height: number, naturalWidth: number, naturelHeight: number}} imageSize width/height of the src image (default is size on the screen, natural is the original size)\n * @param {{width: number, height: number}} cropSize width/height of the crop area\n * @param {number} aspect aspect value\n * @param {number} zoom zoom value\n * @param {boolean} restrictPosition whether we should limit or not the cropped area\n */\nexport function computeCroppedArea(crop, imgSize, cropSize, aspect, zoom, restrictPosition = true) {\n  const limitAreaFn = restrictPosition ? limitArea : noOp\n  const croppedAreaPercentages = {\n    x: limitAreaFn(\n      100,\n      (((imgSize.width - cropSize.width / zoom) / 2 - crop.x / zoom) / imgSize.width) * 100\n    ),\n    y: limitAreaFn(\n      100,\n      (((imgSize.height - cropSize.height / zoom) / 2 - crop.y / zoom) / imgSize.height) * 100\n    ),\n    width: limitAreaFn(100, ((cropSize.width / imgSize.width) * 100) / zoom),\n    height: limitAreaFn(100, ((cropSize.height / imgSize.height) * 100) / zoom),\n  }\n\n  // we compute the pixels size naively\n  const widthInPixels = limitAreaFn(\n    imgSize.naturalWidth,\n    (croppedAreaPercentages.width * imgSize.naturalWidth) / 100,\n    true\n  )\n  const heightInPixels = limitAreaFn(\n    imgSize.naturalHeight,\n    (croppedAreaPercentages.height * imgSize.naturalHeight) / 100,\n    true\n  )\n  const isImgWiderThanHigh = imgSize.naturalWidth >= imgSize.naturalHeight * aspect\n\n  // then we ensure the width and height exactly match the aspect (to avoid rounding approximations)\n  // if the image is wider than high, when zoom is 0, the crop height will be equals to iamge height\n  // thus we want to compute the width from the height and aspect for accuracy.\n  // Otherwise, we compute the height from width and aspect.\n  const sizePixels = isImgWiderThanHigh\n    ? {\n        width: Math.round(heightInPixels * aspect),\n        height: heightInPixels,\n      }\n    : {\n        width: widthInPixels,\n        height: Math.round(widthInPixels / aspect),\n      }\n  const croppedAreaPixels = {\n    ...sizePixels,\n    x: limitAreaFn(\n      imgSize.naturalWidth - sizePixels.width,\n      (croppedAreaPercentages.x * imgSize.naturalWidth) / 100,\n      true\n    ),\n    y: limitAreaFn(\n      imgSize.naturalHeight - sizePixels.height,\n      (croppedAreaPercentages.y * imgSize.naturalHeight) / 100,\n      true\n    ),\n  }\n  return { croppedAreaPercentages, croppedAreaPixels }\n}\n\n/**\n * Ensure the returned value is between 0 and max\n * @param {number} max\n * @param {number} value\n * @param {boolean} shouldRound\n */\nfunction limitArea(max, value, shouldRound = false) {\n  const v = shouldRound ? Math.round(value) : value\n  return Math.min(max, Math.max(0, v))\n}\n\nfunction noOp(max, value) {\n  return value\n}\n\n/**\n * Return the point that is the center of point a and b\n * @param {{x: number, y: number}} a\n * @param {{x: number, y: number}} b\n */\nexport function getCenter(a, b) {\n  return {\n    x: (b.x + a.x) / 2,\n    y: (b.y + a.y) / 2,\n  }\n}\n","<script>\n  import { onMount, onDestroy, createEventDispatcher } from 'svelte'\n  import * as helpers from './helpers'\n\n  export let image\n  export let crop = { x: 0, y: 0 }\n  export let zoom = 1\n  export let aspect = 4 / 3\n  export let minZoom = 1\n  export let maxZoom = 3\n  export let cropSize = null\n  export let cropShape = 'rect'\n  export let showGrid = true\n  export let zoomSpeed = 1\n  export let crossOrigin = null\n  export let restrictPosition = true\n\n  let cropperSize = null\n  let imageSize = { width: 0, height: 0, naturalWidth: 0, naturalHeight: 0 }\n  let containerEl = null\n  let containerRect = null\n  let imgEl = null\n  let dragStartPosition = { x: 0, y: 0 }\n  let dragStartCrop = { x: 0, y: 0 }\n  let lastPinchDistance = 0\n  let rafDragTimeout = null\n  let rafZoomTimeout = null\n  let isDragging = false\n\n  let dispatch = createEventDispatcher()\n\n  onMount(() => {\n    // when rendered via SSR, the image can already be loaded and its onLoad callback will never be called\n    if (imgEl && imgEl.complete) {\n      onImgLoad()\n    }\n  })\n\n  onDestroy(() => {\n    dispatch = null\n  })\n\n  const onImgLoad = () => {\n    computeSizes()\n    emitCropData()\n  }\n\n  const getAspect = () => {\n    if (cropSize) {\n      return cropSize.width / cropSize.height\n    }\n    return aspect\n  }\n\n  const computeSizes = () => {\n    if (imgEl) {\n      imageSize = {\n        width: imgEl.width,\n        height: imgEl.height,\n        naturalWidth: imgEl.naturalWidth,\n        naturalHeight: imgEl.naturalHeight,\n      }\n      cropperSize = cropSize ? cropSize : helpers.getCropSize(imgEl.width, imgEl.height, aspect)\n    }\n    if (containerEl) {\n      containerRect = containerEl.getBoundingClientRect()\n    }\n  }\n\n  const getMousePoint = e => ({ x: Number(e.clientX), y: Number(e.clientY) })\n\n  const getTouchPoint = touch => ({\n    x: Number(touch.clientX),\n    y: Number(touch.clientY),\n  })\n\n  const onMouseDown = e => {\n    isDragging = true\n    onDragStart(getMousePoint(e))\n  }\n\n  const onMouseMove = e => {\n    if (!isDragging) {\n      return\n    }\n\n    onDrag(getMousePoint(e))\n  }\n\n  const onTouchStart = e => {\n    if (e.touches.length === 2) {\n      onPinchStart(e)\n    } else if (e.touches.length === 1) {\n      onDragStart(getTouchPoint(e.touches[0]))\n    }\n  }\n\n  const onTouchMove = e => {\n    isDragging = true\n    // Prevent whole page from scrolling on iOS.\n    if (e.touches.length === 2) {\n      onPinchMove(e)\n    } else if (e.touches.length === 1) {\n      onDrag(getTouchPoint(e.touches[0]))\n    }\n  }\n\n  const onDragStart = ({ x, y }) => {\n    dragStartPosition = { x, y }\n    dragStartCrop = { x: crop.x, y: crop.y }\n  }\n\n  const onDrag = ({ x, y }) => {\n    if (rafDragTimeout) window.cancelAnimationFrame(rafDragTimeout)\n\n    rafDragTimeout = window.requestAnimationFrame(() => {\n      if (x === undefined || y === undefined) return\n      const offsetX = x - dragStartPosition.x\n      const offsetY = y - dragStartPosition.y\n      const requestedPosition = {\n        x: dragStartCrop.x + offsetX,\n        y: dragStartCrop.y + offsetY,\n      }\n\n      crop = restrictPosition\n        ? helpers.restrictPosition(requestedPosition, imageSize, cropperSize, zoom)\n        : requestedPosition\n    })\n  }\n\n  const onDragStopped = () => {\n    isDragging = false\n    emitCropData()\n  }\n\n  const onPinchStart = e => {\n    const pointA = getTouchPoint(e.touches[0])\n    const pointB = getTouchPoint(e.touches[1])\n    lastPinchDistance = helpers.getDistanceBetweenPoints(pointA, pointB)\n    onDragStart(helpers.getCenter(pointA, pointB))\n  }\n\n  const onPinchMove = e => {\n    const pointA = getTouchPoint(e.touches[0])\n    const pointB = getTouchPoint(e.touches[1])\n    const center = helpers.getCenter(pointA, pointB)\n    onDrag(center)\n\n    if (rafZoomTimeout) window.cancelAnimationFrame(rafZoomTimeout)\n    rafZoomTimeout = window.requestAnimationFrame(() => {\n      const distance = helpers.getDistanceBetweenPoints(pointA, pointB)\n      const newZoom = zoom * (distance / lastPinchDistance)\n      setNewZoom(newZoom, center)\n      lastPinchDistance = distance\n    })\n  }\n\n  const onWheel = e => {\n    const point = getMousePoint(e)\n    const newZoom = zoom - (e.deltaY * zoomSpeed) / 200\n    setNewZoom(newZoom, point)\n  }\n\n  const getPointOnContainer = ({ x, y }) => {\n    if (!containerRect) {\n      throw new Error('The Cropper is not mounted')\n    }\n    return {\n      x: containerRect.width / 2 - (x - containerRect.left),\n      y: containerRect.height / 2 - (y - containerRect.top),\n    }\n  }\n\n  const getPointOnImage = ({ x, y }) => ({\n    x: (x + crop.x) / zoom,\n    y: (y + crop.y) / zoom,\n  })\n\n  const setNewZoom = (newZoom, point) => {\n    const zoomPoint = getPointOnContainer(point)\n    const zoomTarget = getPointOnImage(zoomPoint)\n    zoom = Math.min(maxZoom, Math.max(newZoom, minZoom))\n\n    const requestedPosition = {\n      x: zoomTarget.x * zoom - zoomPoint.x,\n      y: zoomTarget.y * zoom - zoomPoint.y,\n    }\n    crop = restrictPosition\n      ? helpers.restrictPosition(requestedPosition, imageSize, cropperSize, zoom)\n      : requestedPosition\n  }\n\n  const emitCropData = () => {\n    if (!cropperSize || cropperSize.width === 0) return\n    // this is to ensure the crop is correctly restricted after a zoom back (https://github.com/ricardo-ch/svelte-easy-crop/issues/6)\n    const position = restrictPosition\n      ? helpers.restrictPosition(crop, imageSize, cropperSize, zoom)\n      : crop\n    const { croppedAreaPercentages, croppedAreaPixels } = helpers.computeCroppedArea(\n      position,\n      imageSize,\n      cropperSize,\n      getAspect(),\n      zoom,\n      restrictPosition\n    )\n\n    dispatch('cropcomplete', {\n      percent: croppedAreaPercentages,\n      pixels: croppedAreaPixels,\n    })\n  }\n\n  // ------ Reactive statement ------\n  //when aspect changes, we reset the cropperSize\n  $: if (imgEl) {\n    cropperSize = cropSize ? cropSize : helpers.getCropSize(imgEl.width, imgEl.height, aspect)\n  }\n\n  // when zoom changes, we recompute the cropped area\n  $: zoom && emitCropData()\n</script>\n\n<svelte:window\n  on:resize={computeSizes}\n  on:mousemove={onMouseMove}\n  on:mouseup|capture={onDragStopped}\n  on:touchmove|nonpassive|preventDefault={onTouchMove}\n  on:touchend={onDragStopped}\n/>\n<div\n  class=\"container\"\n  bind:this={containerEl}\n  on:mousedown|preventDefault={onMouseDown}\n  on:touchstart|preventDefault={onTouchStart}\n  on:wheel|preventDefault={onWheel}\n  on:gesturestart|preventDefault\n  on:gesturechange|preventDefault\n  data-testid=\"container\"\n>\n  <img\n    bind:this={imgEl}\n    class=\"image\"\n    src={image}\n    on:load={onImgLoad}\n    alt=\"\"\n    style=\"transform: translate({crop.x}px, {crop.y}px) scale({zoom});\"\n    crossorigin={crossOrigin}\n  />\n  {#if cropperSize}\n    <div\n      class=\"cropperArea\"\n      class:round={cropShape === 'round'}\n      class:grid={showGrid}\n      style=\"width: {cropperSize.width}px; height: {cropperSize.height}px;\"\n      data-testid=\"cropper\"\n    />\n  {/if}\n</div>\n\n<style>\n  .container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    user-select: none;\n    touch-action: none;\n    cursor: move;\n  }\n\n  .image {\n    max-width: 100%;\n    max-height: 100%;\n    margin: auto;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    will-change: transform;\n  }\n\n  .cropperArea {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    box-shadow: 0 0 0 9999em;\n    box-sizing: border-box;\n    color: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    overflow: hidden;\n  }\n\n  .grid:before {\n    content: ' ';\n    box-sizing: border-box;\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 33.33%;\n    right: 33.33%;\n    border-top: 0;\n    border-bottom: 0;\n  }\n\n  .grid:after {\n    content: ' ';\n    box-sizing: border-box;\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    position: absolute;\n    top: 33.33%;\n    bottom: 33.33%;\n    left: 0;\n    right: 0;\n    border-left: 0;\n    border-right: 0;\n  }\n\n  .round {\n    border-radius: 50%;\n  }\n</style>\n","<script>\nimport { onMount } from 'svelte'\nimport Cropper from 'svelte-easy-crop' // The guy who wrote this built a hammer without a shaft.\n// Other candidates\n// https://www.npmjs.com/package/svelte-imgcrop\nimport { writable } from 'svelte/store'\nimport { encodeImage, decodeImage } from '../api'\nexport let output\nlet canvasElement, ctx, imgElement\nconst cropURL = writable()\nlet files\nlet crop = { x: 0, y: 0 }\nlet zoom = 1\n$: if (files) {\n  const file = files[0]\n  preprocessFile(file).catch(console.error.bind(null, 'Preprocess failed'))\n}\n\nasync function setImage (url) {\n  return new Promise(resolve => {\n    imgElement.onload = () => {\n      if (imgElement.src === '') return\n      ctx.drawImage(imgElement, 0, 0, 300, 300)\n      imgElement.src = ''\n      resolve()\n    }\n    imgElement.src = url\n  })\n}\n\nasync function preprocessFile(file) {\n  let url\n  try {\n    url = URL.createObjectURL(file)\n    await setImage(url)\n    URL.revokeObjectURL(url)\n\n    const dataUrl = canvasElement.toDataURL('image/jpeg', 0.35)\n    const buf = encodeImage(dataUrl)\n    console.info(`DataURL: ${dataUrl.length}, Binary: ${buf.length}, compression: ${buf.length / dataUrl.length}`)\n    $output = buf\n    /*\n\t\tlet reader = new FileReader()\n\t\treader.onload = e => {\n\t\t\timage = e.target.result\n\t\t}\n\t\treader.readAsDataURL(imageFile)\n    */\n  } catch (e) {\n    // URL.revokeObjectURL(url)\n    throw e\n  }\n}\n\nfunction onCrop (ev) {\n  const { percent, pixels } = ev.detail\n  console.info('CropComplete', percent, pixels)\n  console.info('Crop', crop, 'Zoom', zoom)\n  // transform: translate(11.64px, 21.84px) scale(1.84);\n  // $doCrop = false\n  $output = false\n}\n\nonMount(() => {\n  ctx = canvasElement.getContext('2d')\n  ctx.fillStyle = 'gray'\n  ctx.fillRect(0, 0, 300, 300)\n  const unsub = output?.subscribe(blob => {\n    console.info('Redrawing preview due to change', blob?.length)\n    if (blob) {\n      // gonna have to tweak $profile and $peer neurons to provide object-urls\n      // also have to not load peer.picture blob into register memory.\n      // also have to use an interrupt to catch each incoming image and store\n      // to some separate store that allows createObjectURL api/reference\n      const url = decodeImage($output)\n      setImage(url)\n    }\n  })\n\n  return () => { // Destroy\n    unsub && unsub()\n  }\n})\n</script>\n<image-loader>\n  <input type=\"file\" bind:files accept=\"image/*\" id=\"picture\" name=\"picture\">\n  {#if false}\n    <button>done</button>\n    <Cropper\n      image={$cropURL}\n      aspect={1}\n      bind:crop bind:zoom\n      on:cropcomplete={onCrop}\n      showGrid={false}\n      />\n  {:else}\n    <div class=\"row center\">\n      <canvas bind:this={canvasElement} width=\"300\" height=\"300\"/>\n    </div>\n    <img bind:this={imgElement} alt=\"preview\" id=\"preview\" style=\"display:none\"/>\n  {/if}\n</image-loader>\n<style>\n  #preview {\n    width: 300px;\n    height: 300px;\n  }\n</style>\n","<script>\nimport { kernel, keychain, updateProfile, decodePk, purge, saveBackup } from '../api'\nimport { navigate } from '../router'\nimport { writable } from 'svelte/store'\nimport Geohash from 'latlon-geohash'\nimport ImageLoader from '../components/ImageLoader.svelte'\nimport Icon from '../components/Icon.svelte'\nimport Dialog from '../components/Dialog.svelte'\nimport QRCode from '../components/QRCode.svelte'\n\nconst name = writable()\nconst tagline = writable()\nconst picture = writable()\nconst geohash = writable()\nconst pk = writable()\nconst sk = writable()\nconst showKeyDialog = writable(false)\n\nasync function save () {\n  await updateProfile({\n    name: $name,\n    tagline: $tagline,\n    age: 99,\n    sex: 0,\n    picture: $picture,\n    geohash: $geohash\n  })\n}\n\nasync function load () {\n  const p = await keychain.readProfile()\n  if (!p) return\n  $name = p.name\n  $tagline = p.tagline\n  $picture = p.picture\n  $sk = await keychain.readIdentity()\n  $pk = $sk.slice(32)\n  $geohash = p.geohash\n  if (!$geohash) {\n    try {\n      $geohash = await getCurrentGeohash()\n    } catch (err) {\n      console.log('BrowserLocation failed, let user set manually', err)\n    }\n  }\n  return p\n}\n\nasync function getCurrentGeohash () {\n  const res = await fetchPosition()\n  // console.log(res)\n  const { latitude: lat, longitude: lng } = res.coords\n  return Geohash.encode(lat, lng, 6)\n  function fetchPosition (options) {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) reject(new Error('Browser does not support geolocation APIs'))\n      else navigator.geolocation.getCurrentPosition(resolve, reject, options)\n    })\n  }\n}\n\nlet _loading = load()\n</script>\n<profile-view class=\"block container\">\n  <div class=\"row space-between xstart\">\n    <h1> Profile</h1>\n    <div class=\"row\">\n      <h2 on:click={() => $showKeyDialog = true}>\n        <Icon id=\"icon-qr\" />\n      </h2>\n      <h2 on:click={() => navigate('/about')}>\n        <Icon id=\"icon-info\" />\n      </h2>\n    </div>\n  </div>\n\n  <label for=\"file\">\n    <h5>picture</h5>\n    <ImageLoader output={picture} />\n    {#if $picture?.length}\n      <small class=\"block text-center\">{$picture?.length} B</small>\n    {/if}\n    <!--<img src={$pictureURI} alt=\"profile picture preview\"/>-->\n  </label>\n\n  <label for=\"name\">\n    <h5>name</h5>\n    <input type=\"text\" bind:value={$name} placeholder=\"You got a street name?\" id=\"name\" name=\"name\">\n  </label>\n  <label for=\"tagline\">\n    <h5>spark</h5>\n    <input type=\"text\" bind:value={$tagline} placeholder=\"what's on your mind?\" id=\"tagline\" name=\"tagline\">\n  </label>\n  {#await _loading}\n    Loading...\n  {:then}\n  <button on:click={() => _loading = save()}>save</button>\n  {:catch error}\n    <danger>Loading profile failed {error.message}</danger>\n    <pre>{error.stack}</pre>\n  {/await}\n\n  {#if $showKeyDialog}\n    <Dialog open={true} on:fade={() => $showKeyDialog = false}>\n      <article>\n        <header><h5>IDSQR</h5></header>\n        <div class=\"column xcenter\">\n          {#if $pk}\n            <ul>\n              <li>Gender: {['F', 'M', 'NB'][decodePk($pk).sex]}</li>\n              <li>Location: {decodePk($pk).geohash}</li>\n            </ul>\n          {/if}\n          <div class=\"vpad\">\n            <QRCode data={pk} size={6}/>\n          </div>\n          <p>\n            This is your cryptographic identity.\n            <br/>\n            Let your friends scan your code\n            but keep the backed up image safe.\n          </p>\n        </div>\n        <footer>\n          <div class=\"row space-between\">\n            <a role=\"button\" on:click={() => purge(true)}>purge</a>\n            <a role=\"button\" on:click={saveBackup}>backup</a>\n            <a role=\"button\" on:click={() => $showKeyDialog = false}>close</a>\n          </div>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n</profile-view>\n<style>\n</style>\n","<script>\nimport inventory from '../inventory.yaml'\n</script>\n<shop-view data-theme=\"dark\">\n  <splash class=\"column xcenter\">\n    <img src=\"/gfx/shop.jpg\" alt=\"The Bar\"/>\n  </splash>\n  <section class=\"block container\">\n    <h1 class=\"text-center\">Drinks</h1>\n    <drinks>\n      {#each inventory.drinks as drink}\n        <item class=\"drink row xcenter\">\n          <iimage>img</iimage>\n          <description class=\"column xstart grow2 space-between\">\n            <h3>{drink.name}</h3>\n            <h6>\n              {drink.time} min\n              {#if drink.mod}\n                | {drink.mod}\n              {/if}\n            </h6>\n            <short>{drink.short}</short>\n          </description>\n          <buy class=\"column center\">\n            <button>{drink.price}</button>\n          </buy>\n        </item>\n      {/each}\n    </drinks>\n    <h1 class=\"text-center\">Gear</h1>\n  </section>\n</shop-view>\n<style>\n  splash { margin-bottom: -3em; }\n  item {\n    border-bottom: 1px solid var(--slate);\n    margin-bottom: 7px;\n    padding-bottom: 7px;\n  }\n  drinks item:last-child { border-bottom: none; }\n\n  item iimage {\n    display: block;\n    width: 50px;\n    height: 50px;\n    border: 1px solid var(--slate);\n  }\n  item description {\n    line-height: 1em;\n  }\n  item description h3, item description h6, item description short { margin: 3px; }\n  item buy button {\n    margin: 0;\n    padding: 4px 1em;\n  }\n  item description short { color: var(--h6-color); }\n  item description h6 { color: var(--muted-color); }\n</style>\n\n","<script>\n// TODO: rewrite this component using canvas or interactive svg?\nimport { readable } from 'svelte/store'\nimport BinaryImage from '../components/BinaryImage.svelte'\nexport let vibe\nconst VIBE_TTL = vibe.expiresAt - vibe.createdAt // 5mins\n\nconst progress = readable(1, set => {\n  const id = setInterval(() => {\n    const left = vibe.expiresAt - Date.now()\n    if (left <= 0) {\n      set(0)\n      clearInterval(id)\n    } else set(left / VIBE_TTL)\n  }, 1000)\n  return () => clearInterval(id)\n})\n\n</script>\n<vibe>\n  <tint style={`width: ${$progress * 100}px;`}>&nbsp;</tint>\n  <portrait><BinaryImage src={vibe.peer.picture}/></portrait>\n</vibe>\n<style>\nvibe tint {\n  z-index: 3;\n  display: block;\n  position: absolute;\n  background-color: var(--wizardry);\n  opacity: 0.5;\n  height: 100px;\n}\nvibe {\n  --size: 100px;\n  display: inline-block;\n  width: var(--size);\n  height: var(--size);\n  border: 4px solid var(--background-color);\n  border-radius: 100%;\n  overflow: hidden;\n  box-shadow: var(--card-box-shadow);\n}\nvibe portrait {\n  z-index: 2;\n  display: block;\n  position: relative;\n}\n</style>\n","<script>\nimport { writable } from 'svelte/store'\nimport PendingVibe from '../components/PendingVibe.svelte'\nimport PeerPortrait from '../components/PeerPortrait.svelte'\nimport Timer from '../components/Timer.svelte'\nimport Dialog from '../components/Dialog.svelte'\nimport Icon from '../components/Icon.svelte'\nimport BinaryImage from '../components/BinaryImage.svelte'\nimport {\n  kernel,\n  Vibes,\n  Chats\n} from '../api'\nimport { navigate } from '../router'\nconst chats = Chats()\nconst vibes = Vibes()\nconst vibeDetail = writable(null)\nfunction respondVibe (chatId, rejected) {\n  kernel.respondVibe(chatId, rejected)\n    .then(() => { $vibeDetail = null })\n    .catch(err => console.error('Vibe response failed', err))\n}\n</script>\n<messages-view class=\"block container\">\n  <h1> Messages</h1>\n  <h5>Vibes</h5>\n  <vibes class=\"row xcenter\">\n  {#each $vibes as vibe}\n    {#if vibe.state !== 'match'}\n    <div on:click={() => $vibeDetail = vibe}>\n      <PendingVibe vibe={vibe}/>\n    </div>\n    {/if}\n  {/each}\n  </vibes>\n  <h5>Conversations</h5>\n  <conversations>\n  {#each $chats as chat}\n    <chat class=\"row space-between\"\n      on:click={() => navigate('/chat/' + chat.id.toString('hex'))}>\n      <div class=\"row xcenter\">\n        <BinaryImage src={chat.peer.picture} size=\"80px\"/>\n        <div class=\"columns space-between gap\">\n          <h3 class=\"no-margin\">{chat.peer.name}</h3>\n          <h6 class=\"no-margin\">{chat.myTurn ? 'your turn' : 'waiting'}</h6>\n        </div>\n      </div>\n      <div class=\"columns xcenter gap\">\n        <health>\n          <Icon id=\"heal_resp\" tag=\"full\" />\n          <Icon id=\"heal_resp\" tag=\"full\" />\n          <Icon id=\"heal_resp\" tag=\"full\" />\n        </health>\n        <h3 class=\"no-margin\"><Timer expiresAt={chat.expiresAt} format=\"mm:ss\" /></h3>\n      </div>\n    </chat>\n  {/each}\n  </conversations>\n  {#if $vibeDetail}\n  <Dialog open={true} on:fade={() => $vibeDetail = null}>\n    <PeerPortrait peer={$vibeDetail.peer}>\n      <p>{$vibeDetail.peer.tagline}</p>\n      <h6 class=\"text-center no-margin\">Vibe Expires in</h6>\n      <h2 class=\"text-center timer\"><Timer expiresAt={$vibeDetail.expiresAt} format=\"mm:ss\"/></h2>\n      {#if !$vibeDetail.initiator}\n        <div class=\"text-center\">\n          <a role=\"button\" class=\"reject\" on:click={() => respondVibe($vibeDetail.id, true)}>reject</a>\n          <a role=\"button\" class=\"accept\" on:click={() => respondVibe($vibeDetail.id)}>accept</a>\n        </div>\n      {:else}\n        <div class=\"text-center\">Waiting for player2</div>\n      {/if}\n      <br/>\n    </PeerPortrait>\n  </Dialog>\n  {/if}\n</messages-view>\n<style>\n.reject { color: var(--blood); }\n.accept { color: var(--wizardry); }\n.timer { margin-top: 0; margin-bottom: 0.5em; }\nchat { border-bottom: 1px solid var(--ash); }\n</style>\n","<script>\nimport { afterUpdate } from 'svelte'\nimport { writable, derived } from 'svelte/store'\nimport { Chat } from '../api'\nimport BinaryImage from '../components/BinaryImage.svelte'\nimport Icon from '../components/Icon.svelte'\nimport Timer from '../components/Timer.svelte'\nimport { rewrite, scoreGraph } from '../../blockend/game'\nexport let id\n\nlet messagesElement\nlet inputElement\nconst chat = Chat(id, 'Chat')\nconst showInput = writable(false)\nconst line = writable('')\n\n// Auto-bye\n$: if ($chat.state === 'finalizing' && $chat.myTurn) end()\n\nconst health = derived(chat, c =>\n  Array.from(new Array(3)).map((_, n) => n < c.health)\n)\n\nconst score = derived(chat, c => {\n  if (!c.graph) return [0, 0]\n  return c.initiator\n    ? scoreGraph(c.graph)\n    : scoreGraph(c.graph).reverse()\n})\n\nconst preview = derived([chat, score], ([c, s]) => {\n  if (!c.graph) return [[0, 0], [0, 0], [0, 0]]\n  if (!c.initiator) s = s.reverse()\n  return [\n    c.initiator ? '' : '',\n    c.initiator ? '' : '',\n    c.initiator ? '' : ''\n  ].map(glyph => {\n    const path = scoreGraph(c.graph + glyph).map((n, i) => n - s[i])\n      .map(n => nf(n))\n    return c.initiator ? path : path.reverse()\n  })\n})\nfunction nf (n) { return  n > 0 ? `+${n}` : n }\n\n// Auto-scroll\nafterUpdate(() => {\n  messagesElement.scrollTo({\n    top: messagesElement.scrollHeight,\n    left: 0,\n    behaviour: 'smooth'\n  })\n  if ($showInput) inputElement.focus()\n})\n\nfunction sendMessage () {\n  $chat.send($line.trim())\n    .then(() => {\n      console.info('Message published')\n      $line = ''\n      $showInput = false\n    })\n    .catch(err => console.error('Failed publishing Message', err))\n}\n\nfunction end (gesture = 0) {\n  console.log('Bye button pressed')\n  $chat.bye(gesture)\n    .then(() => console.info('Bye published'))\n    .catch(err => console.error('Failed publishing Bye', err))\n}\n\nfunction pass () {\n  $chat.pass()\n    .then(() => console.info('Pass published'))\n    .catch(err => console.error('Failed publishing Pass', err))\n}\n\nfunction onKeyPress ({ charCode }) {\n  switch (charCode) {\n    case 13:\n      sendMessage()\n      break\n    default:\n      break\n  }\n}\n</script>\n<chat class:white={$chat.initiator} class:black={!$chat.initiator}>\n  <header class=\"container row space-between\">\n    <div class=\"row xcenter\">\n      {#if $chat.peer}\n        <portrait><BinaryImage src={$chat.peer.picture} size=\"70px\" /></portrait>\n        <div class=\"column\">\n          <h1 class=\"hgap\">\n            {$chat.peer.name}\n          </h1>\n          <div class=\"hgap\">\n          </div>\n        </div>\n      {:else}\n        <placeholder aria-busy=\"true\">&nbsp;</placeholder>\n      {/if}\n    </div>\n    <div class=\"column xend\">\n      <health>\n        {#each $health as heart}\n          {#if heart}\n            <Icon id=\"heal_resp\" tag=\"full\" />\n          {:else}\n            <Icon id=\"heal_resp\" tag=\"empty\" />\n          {/if}\n        {/each}\n      </health>\n      <h3><Timer expiresAt={$chat.expiresAt} format=\"mm:ss\" /></h3>\n    </div>\n  </header>\n  <messages bind:this={messagesElement} class=\"container\">\n    <p class=\"text-center\">{rewrite($chat.graph || '')}</p>\n    {#each $chat.messages as message}\n      <msg\n        class=\"row xcenter\"\n        class:start={message.type === 'received'}\n        class:remote={message.type === 'received'}\n        class:local={message.type === 'sent'}\n        class:end={message.type === 'sent'}>\n        {#if message.pass}\n          <sym class=\"hgap\">\n            {#if ($chat.initiator && message.type === 'sent') ||\n              (!$chat.initiator && message.type === 'received')\n            }\n              \n              <!---->\n            {:else}\n              \n              <!---->\n            {/if}\n\n          </sym>\n        {:else}\n          <txt>{message.content}</txt>\n        {/if}\n      </msg>\n    {/each}\n    <msg class=\"row xcenter center\">\n      <balance class:inv={!$chat.initiator}>\n        {#if $chat.initiator}\n          <black>{$score[1]}</black>\n          <white>{$score[0]}</white>\n        {:else}\n          <white>{$score[0]}</white>\n          <black>{$score[1]}</black>\n        {/if}\n      </balance>\n    </msg>\n  </messages>\n  <ctrls>\n  {#if $chat.state === 'active'}\n    <h2 class=\"text-center nogap\">\n        {#if $chat.myTurn}\n          Your turn\n        {:else}\n          Waiting\n        {/if}\n    </h2>\n    <div class=\"row space-between\">\n      {#if !$showInput}\n      <button class=\"hgap\" disabled={!$chat.myTurn}\n        on:click={() => end(0)}>end</button>\n\n      <button class=\"hgap\"\n        disabled={!$chat.myTurn}\n        on:click={() => $showInput = true}>\n        msg\n      </button>\n\n      <button class=\"hgap\" disabled={!$chat.myTurn}\n        on:click={pass}>\n        pass\n      </button>\n      {:else}\n        <input bind:this={inputElement}\n          class=\"line\"\n          bind:value={$line}\n          on:keypress={onKeyPress}\n          on:blur={() => $showInput = !!$line.length} />\n      {/if}\n    </div>\n    <div class=\"row space-between\">\n      <samp>{$preview[0].join('/')}</samp>\n      <samp>{$preview[1].join('/')}</samp>\n      <samp>{$preview[2].join('/')}</samp>\n    </div>\n  {:else if $chat.state === 'end'}\n    <h1 class=\"text-center nogap\">\n      {#if $chat.messages % 2} <!-- ended by responder -->\n        <Icon id=\"bye_resp\" tag=\"black\" /><Icon id=\"bye_res_init\" tag=\"white\" />\n      {:else} <!-- ended by initator -->\n        <Icon id=\"bye_init\" tag=\"white\" /><Icon id=\"bye_res_resp\" tag=\"black\" />\n      {/if}\n    </h1>\n    <h2 class=\"text-center nogap\">Conversion ended</h2>\n  {:else}\n    <h2 class=\"text-center nogap\">{$chat.state}</h2>\n  {/if}\n  </ctrls>\n</chat>\n<style>\nheader h1, header h2, header h3 { margin-bottom: unset; }\n.black header, .black header h1, .black header h2, .black header h3 {\n  background-color: var(--p2);\n  color: var(--ash);\n}\n/* header { margin-top: 1em; }*/\nportrait {\n  border-radius: 4px;\n  overflow: hidden;\n  height: 70px;\n  width: 70px;\n  box-shadow: var(--card-box-shadow);\n}\nmessages {\n  display: block;\n  /* height: 59vh;*/\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n/* Common */\nmsg {\n  margin-bottom: 0.4em;\n}\nmsg txt {\n  border-radius: 2em;\n  display: inline-block;\n  padding: 0.2em 1.5em;\n  max-width: 65%;\n}\n/* White */\n.white msg.local txt, .black msg.remote txt {\n  color: var(--p2);\n  background-color: var(--p1);\n  border: 1.6px solid var(--ash);\n\n  /*\n  border: 1.4px solid var(--reef);\n  box-shadow: 0 0 3px var(--wizardry);\n  margin: 2px;\n  */\n}\n/* Black */\n.white msg.remote txt, .black msg.local txt {\n  color: var(--p1);\n  background-color: var(--p2);\n  border: 1.4px solid var(--p1);\n}\n\n\nmsg sym {\n  --sz: 1.6em;\n  display: inline-block;\n  line-height: calc(var(--sz) * 0.93);\n  width: var(--sz);\n  height: var(--sz);\n  font-size: calc(var(--sz) * 0.8);\n  border-radius: 50%;\n  vertical-align: middle;\n  text-align: center;\n}\n/* White Ev/Glyph/Pass */\n.white msg.local sym, .black msg.remote sym {\n  color: var(--p2);\n  background-color: var(--p1);\n  border: 1.4px solid gold;\n  box-shadow: 0 0 5px var(--ember);\n}\n\n/* Black Ev/Glyph/Pass */\n.white msg.remote sym, .black msg.local sym {\n  color: var(--p1);\n  background-color: var(--p2);\n  border: 1.4px solid var(--wizardry); /*var(--p1);*/\n  box-shadow: 0 0 5px var(--blood);\n}\n</style>\n","<script>\nimport Icon from '../components/Icon.svelte'\n</script>\n<about class=\"block container\">\n  <div class=\"column xcenter vgap\">\n    <logo>\n      <Icon id=\"dl-logo-red\" />\n    </logo>\n  </div>\n  <h1>\n    Picochat\n    <samp>{'__VERSION__'.replace(/^(\\d+).+/, '$1')}</samp>\n  </h1>\n  <p>\n    Where ever we're going, we'll get there eventually.\n    Meanwhile, come say hi!\n  <ul>\n    <li><a href=\"https://discord.gg/K5XjmZx\">Discord (community chat)</a></li>\n    <li><a href=\"https://github.com/telamon/picochat/issues\">Questions &amp; Support</a></li>\n    <li><a href=\"https://github.com/telamon/picochat\">Source code</a></li>\n  </ul>\n\n  <h5>Legalities</h5>\n  <table>\n    <tdata>\n      <tr><td>build</td><td>__ENV__-__VERSION__-{'__COMMIT__'.substr(0, 8)}</td></tr>\n      <tr><td>Cookies</td><td>none, zilch, zero</td></tr>\n      <tr><td>GDPR</td><td>All blocks are automatically erased when timers hit <code>00:00</code></td></tr>\n      <tr><td>User</td><td>We have absolutley no control over p2p interactions, apply common sense, be polite</td></tr>\n      <tr><td>License</td><td>GNU AGPL version 3</td></tr>\n      <tr><td>Motto</td><td>No servers, no supernodes, liberate humans and machines alike</td></tr>\n    </tdata>\n  </table>\n  <p>\n    <sub>Bottom line</sub><br/>\n    <samp>\n      This software is presented to you as is,\n      Decent Labs AB takes no responsibility for how this software is used or distributed.\n      <br/>\n      Refer to the contents of the aforementioned license for more details.\n    </samp>\n  </p>\n</about>\n<style>\n  ul a { color: var(--pool); }\n  ul li { list-style: circle; }\n</style>\n","import { writable, gate, mute } from 'piconuro'\nimport { svlt } from './api'\n\n// Import Views\nimport Keygen from './views/Keygen.svelte'\nimport Pub from './views/Pub.svelte'\nimport Profile from './views/Profile.svelte'\nimport Shop from './views/Shop.svelte'\nimport Messages from './views/Messages.svelte'\nimport Chat from './views/Chat.svelte'\nimport About from './views/About.svelte'\n\nconst [$name, setName] = writable()\nconst [$id, setId] = writable()\nconst [$q, setQ] = writable()\n// map name to component\nconst $view = gate(mute($name, name => {\n  switch (name) {\n    case 'shop': return Shop\n    case 'msgs': return Messages\n    case 'profile': return Profile\n    case 'chat': return Chat\n    case 'about': return About\n    case 'keygen': return Keygen\n    case 'pub': default: return Pub\n  }\n}))\n\n// -----------------------------------------\n// Internal router code\n// (just pretend it's not here)\n// ----------------------------------------\nexport const routeName = svlt($name)\nexport const view = svlt($view)\nexport const id = svlt($id)\nexport const q = svlt($q)\n\nlet current = null\nexport function setView (path, id, search) {\n  if (current && path === current) return false\n  current = path\n  console.info('Rerouting to path:', path, 'id:', id, 'Q/Search:', search)\n  setName(path)\n  setId(id)\n  setQ(search)\n}\nfunction apply () {\n  if (window.location.hash === '') return setView('pub', null, new URLSearchParams())\n  const virt = new URL(\n    window.location.hash.replace(/^#\\/?/, 'x:').toLowerCase()\n  )\n  const [path, id] = virt.pathname.split('/')\n  const search = new URLSearchParams(virt.search)\n  setView(path, id, search)\n}\nexport function navigate (path) {\n  window.history.pushState(null, null, `/#${path}`.replace(/^#\\/+/, '#/'))\n  apply()\n}\nwindow.addEventListener('popstate', apply)\napply()\n","<script>\nimport { writable } from 'svelte/store'\nimport debug from 'debug'\nimport Dialog from './Dialog.svelte'\nexport let open = null ?? writable(false)\n// patterns.map(name => ({ name, enabled: debug.enabled(name) }))\nconst patterns = [\n  '*',\n  'hyper*',\n  'pico*',\n  'picochat:kernel',\n  'picochat:mod:*',\n  'picochat:mod:net',\n  'picochat:mod:gc',\n  'picochat:mod:reg',\n  'picochat:slice*'\n]\nconst namespaces = writable(debug.namespaces)\n\nfunction set (value) {\n  if (value === '') {\n    debug.disable()\n    $namespaces = ''\n  } else {\n    debug.enable(value)\n    $namespaces = debug.namespaces\n  }\n}\n\n</script>\n<Dialog open={$open} on:fade={() => $open = false}>\n  <article>\n    <h6>namespaces</h6>\n    <input type=\"text\" bind:value={$namespaces} />\n    <h6>quickfilters</h6>\n    <div><a on:click={() => set('')}><code>DEBUG:OFF</code></a></div>\n    {#each patterns as pattern}\n      <div>\n        <a on:click={() => set(pattern)}><code>{pattern}</code></a>\n      </div>\n    {/each}\n    <footer>\n      <!--\n      <a href=\"#cancel\" role=\"button\" class=\"secondary\" on:click={() => $open = false}>Cancel</a>\n      <a href=\"#confirm\" role=\"button\" on:click={() => $open = false}>Confirm</a>\n      -->\n      <button on:click={() => $open = false}>ok</button>\n    </footer>\n  </article>\n</Dialog>\n<style>\n</style>\n","<script>\n// \nimport { onMount } from 'svelte'\nimport { writable, derived } from 'svelte/store'\nimport { view, id, setView, navigate, routeName } from './router'\nimport {\n  boot,\n  enter,\n  state,\n  kernel,\n  Connections,\n  Profile,\n  profilePicture,\n  NotificationsCount,\n  purge\n} from './api'\nimport Icon from './components/Icon.svelte'\nimport Timer from './components/Timer.svelte'\nimport BinaryImage from './components/BinaryImage.svelte'\nimport DebugSelector from './components/DebugSelector.svelte'\nconst _loading = boot()\nconst conn = Connections()\nconst showBar = derived(state, s => s.hasKey && s.hasProfile)\nconst showDev = writable(true)\nconst showDebugSelector = writable(false)\nconst nCount = NotificationsCount()\nconst profile = Profile()\n\nasync function inspectFeed () {\n  const feed = await kernel.feed()\n  feed.inspect()\n  console.log(`Size: ${(feed.tail / 1024).toFixed(2)} kB`, )\n}\nasync function reloadStores () {\n  await kernel.store.reload()\n  console.info('Internal cache`s cleared')\n}\n\nfunction toggleTheme () {\n  const htmlTag = document.documentElement\n  if(htmlTag.dataset.theme) delete htmlTag.dataset.theme\n  else htmlTag.dataset.theme = 'dark'\n}\n\nfunction enterPub () {\n  enter()\n}\n\nconst autoSwarm = JSON.parse(window.localStorage.getItem('auto_swarm'))\nfunction toggleAutoConnect() {\n  window.localStorage.setItem('auto_swarm', !autoSwarm)\n  window.location.reload()\n}\nfunction globReject (error) {\n  console.error('[Unhandled Rejection]', error)\n}\nfunction globError (error) {\n  console.error('[GlobError]', error)\n}\n\n// Scroll top on route change\nonMount(() =>\n  view.subscribe(() => {\n    window.document.scrollingElement.scrollTo({ top: 0, left: 0})\n  })\n)\n</script>\n\n<root class={'view-' + $routeName}>\n  {#if $showDev}\n  <!-- Developer bar -->\n  <dev-bar class=\"flex row xcenter space-between\">\n    <div >\n      K[{$state?.state[0]}]\n      ID[{$state.hasKey ? 1 : 0}]\n      P[{$state.hasProfile ? 1 : 0}]\n      m56[{$conn}]\n      E[{$state.entered ? 1 : 0}]\n    </div>\n    <div>\n      <!--\n        sometimes you just need to\n        let yourself have some fun.\n        Say hello to modem-kun!\n      -->\n      <btn on:click={toggleAutoConnect} class={autoSwarm ? 'm56 auto' : 'm56 no-auto'}>\n        {#if !$state.swarming}\n          |=_=|\n        {:else if !$conn}\n          |o_=|\n        {:else if 2 > $conn}\n          |o_o|\n        {:else}\n          |_|\n        {/if}\n      </btn>\n      <btn on:click={() => $showDebugSelector = true}>D</btn>\n      <btn on:click={toggleTheme}>t</btn>\n      <btn on:click={inspectFeed}>i</btn>\n      <btn class=\"danger\" on:click={() => purge(false)}>X</btn>\n    </div>\n  </dev-bar>\n  <DebugSelector open={showDebugSelector}/>\n  {/if}\n\n  <!-- Main container -->\n  <main class:has-dev={$showDev}\n        class:has-bar={$showBar}>\n    {#await _loading}\n      <div class=\"column center xcenter\" style=\"height: 100%\">\n        <h5 aria-busy=\"true\">Booting up...</h5>\n      </div>\n    {:then}\n      {#if $id}\n        <svelte:component this={$view} id={$id} />\n      {:else}\n        <svelte:component this={$view} />\n      {/if}\n    {:catch err}\n      <h3>KernelPanic! {err.message}</h3>\n      <pre>{err.stack}</pre>\n    {/await}\n  </main>\n  {#if $showBar}\n  <!-- Bottom bar with phat buttons -->\n  <bar class=\"flex row xcenter space-between\">\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('pub')}>\n      <Icon id=\"gfx-vibe\" nofill/>\n    </round>\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('shop')}>\n      <Icon id=\"gfx-shop\" nofill/>\n    </round>\n    {#if !$state.entered}\n      <stat class=\"flex column center xcenter outside noselect btn-enter\" on:click={enterPub}>\n        <h3 class=\"muted\">--:--</h3>\n        <h6 class=\"primary\">enter</h6>\n      </stat>\n    {:else}\n      <stat class=\"flex column center xcenter inside noselect\">\n        <h3 class=\"primary\"><Timer expiresAt={$profile.expiresAt} /></h3>\n        <h6 class=\"muted\">exit</h6>\n      </stat>\n    {/if}\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('msgs')}>\n      <Icon id=\"gfx-msgs\" nofill/>\n      <samp class=\"notifications-badge\" class:zero={!$nCount}>{$nCount}</samp>\n      <!-- TODO: read/unread messages tracking not yet implemented -->\n    </round>\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('profile')}>\n      {#if !$profilePicture}\n        <Icon id=\"gfx-profile\" nofill/>\n      {:else}\n        <BinaryImage src={$profilePicture} />\n      {/if}\n    </round>\n  </bar>\n  {/if}\n</root>\n<svelte:window on:error={globError} on:unhandledrejection={globReject} />\n<style>\n.m56 { padding: 0; }\n.m56.no-auto { background-color: var(--grave); }\n\nstat.outside h3 { color: var(--muted-color); }\nstat.outside h6 { color: var(--ash); }\nstat.inside h3 { color: var(--ash); }\nstat.inside h6 { color: var(--muted-color); }\n</style>\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=s()}(this,(function(){\"use strict\";var t,s,n=1e3,i=6e4,e=36e5,r=864e5,o=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2592e6,a=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:r,hours:e,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof p},f=function(t,s,n){return new p(t,n,s.$l)},m=function(t){return s.p(t)+\"s\"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},y=function(t){return Math.abs(t)},g=function(t,s){return t?l(t)?{negative:!0,format:\"\"+y(t)+s}:{negative:!1,format:\"\"+t+s}:{negative:!1,format:\"\"}},p=function(){function l(t,s,n){var i=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach((function(s){i.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if(\"string\"==typeof t){var e=t.match(a);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var y=l.prototype;return y.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,n){return s+(t.$d[n]||0)*d[n]}),0)},y.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/u),t%=u,this.$d.months=$(t/h),t%=h,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/i),t%=i,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},y.toISOString=function(){var t=g(this.$d.years,\"Y\"),s=g(this.$d.months,\"M\"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=g(n,\"D\"),e=g(this.$d.hours,\"H\"),r=g(this.$d.minutes,\"M\"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,\"S\"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?\"T\":\"\",d=(h?\"-\":\"\")+\"P\"+t.format+s.format+i.format+a+e.format+r.format+u.format;return\"P\"===d||\"-P\"===d?\"P0D\":d},y.toJSON=function(){return this.toISOString()},y.format=function(t){var n=t||\"YYYY-MM-DDTHH:mm:ss\",i={Y:this.$d.years,YY:s.s(this.$d.years,2,\"0\"),YYYY:s.s(this.$d.years,4,\"0\"),M:this.$d.months,MM:s.s(this.$d.months,2,\"0\"),D:this.$d.days,DD:s.s(this.$d.days,2,\"0\"),H:this.$d.hours,HH:s.s(this.$d.hours,2,\"0\"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,\"0\"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,\"0\"),SSS:s.s(this.$d.milliseconds,3,\"0\")};return n.replace(o,(function(t,s){return s||String(i[t])}))},y.as=function(t){return this.$ms/d[m(t)]},y.get=function(t){var s=this.$ms,n=m(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?$(s/d[n]):this.$d[n],0===s?0:s},y.add=function(t,s,n){var i;return i=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},y.subtract=function(t,s){return this.add(t,s,!0)},y.locale=function(t){var s=this.clone();return s.$l=t,s},y.clone=function(){return f(this.$ms,this)},y.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},y.milliseconds=function(){return this.get(\"milliseconds\")},y.asMilliseconds=function(){return this.as(\"milliseconds\")},y.seconds=function(){return this.get(\"seconds\")},y.asSeconds=function(){return this.as(\"seconds\")},y.minutes=function(){return this.get(\"minutes\")},y.asMinutes=function(){return this.as(\"minutes\")},y.hours=function(){return this.get(\"hours\")},y.asHours=function(){return this.as(\"hours\")},y.days=function(){return this.get(\"days\")},y.asDays=function(){return this.as(\"days\")},y.weeks=function(){return this.get(\"weeks\")},y.asWeeks=function(){return this.as(\"weeks\")},y.months=function(){return this.get(\"months\")},y.asMonths=function(){return this.as(\"months\")},y.years=function(){return this.get(\"years\")},y.asYears=function(){return this.as(\"years\")},l}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return f(t,{$l:n},s)},e.isDuration=c;var r=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,s)},i.prototype.subtract=function(t,s){return c(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}));","import '@picocss/pico'\nimport 'picoflex'\nimport './icons'\nimport './router'\nimport App from './App.svelte'\nimport dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\ndayjs.extend(duration)\n\nconst app = new App({\n  target: document.body,\n  props: { }\n})\n\nexport default app\n"],"names":["ERROR","Symbol","for","module","get","neuron","value","v","next","async","n","inspect","nfo","iter","until","condition","timeout","set","setErr","result","Promise","resolve","reject","timerId","setTimeout","Error","unsub","clearTimeout","finally","write","writable","notEqual","notEqualDeep","memo","synapses","Set","disconnect","syn","add","spreadForward","delete","length","mute","fn","prev","input","output","then","catch","err","console","error","init","disconnected","fired","clone","when","promise","combine","neurons","Array","isArray","props","m","prop","push","loaded","values","remaining","i","handler","bind","val","reduce","isSync","ms","aFired","unlock","mutex","tid","_isSync","ii","gate","shallow","check","first","dirty","settle","debounceMs","risingEdge","__nfoCtr","name","exports","V","ni","pn","nlog","info","s","log","p","padStart","o","a","b","find","kA","Object","keys","kBl","subs","notify","subcriber","nValues","rQue","pQue","oneMore","r","shift","b64","lens","getLens","validLen","placeHoldersLen","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","Uint8Array","code","indexOf","start","end","num","buffer","offset","isLE","mLen","nBytes","e","eLen","eMax","eBias","nBits","d","NaN","Infinity","Math","pow","c","rt","abs","isNaN","floor","LN2","base64","require$$0","ieee754","require$$1","customInspectSymbol","Buffer","alloc","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","from","string","encoding","isEncoding","byteLength","actual","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","isBuffer","checked","undefined","numberIsNaN","type","data","fromObject","toPrimitive","assertSize","size","array","toString","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","x","y","concat","list","pos","swap16","swap32","swap64","toLocaleString","equals","max","INSPECT_MAX_BYTES","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","constructor","super","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","split","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","emitter","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","once","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","create","newListener","emit","unshift","warned","w","count","warn","onceWrapper","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","position","originalListener","index","pop","spliceOne","off","removeAllListeners","key","rawListeners","eventNames","cachedSetTimeout","cachedClearTimeout","process","browserModule","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","binding","cwd","chdir","umask","shams","iterator","symObj","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","hasSymbols","toStringTag","origSymbol","hasSymbolSham","ERROR_MESSAGE","toStr","funcType","implementation","bound","binder","boundLength","boundArgs","Empty","functionBind","hasOwnProperty","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","__proto__","needsEval","TypedArray","INTRINSICS","AggregateError","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","JSON","Map","parseFloat","Proxy","ReferenceError","RegExp","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","hasOwn","require$$2","$concat","$spliceApply","splice","$replace","$strSlice","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","getBaseIntrinsic","allowMissing","alias","intrinsicName","getIntrinsic","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","GetIntrinsic","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","func","applyBind","callBind","$indexOf","callBound","hasToStringTag","$toString","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","GeneratorFunction","isArguments","fnToStr","isFnRegex","isGeneratorFunction","test","generatorFunc","getGeneratorFunc","foreach","ctx","l","k","possibleNames","g","globalThis","global","availableTypedArrays","forEach","require$$3","typedArrays","$slice","toStrTags","gOPD","require$$4","typedArray","superProto","isTypedArray","tag","anyTrue","getter","tryTypedArrays","require$$5","whichTypedArray","foundName","isArgumentsObject","uncurryThis","f","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","SharedArrayBufferCopy","isSharedArrayBufferToString","isSharedArrayBuffer","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","method","isBufferBrowser","inherits_browserModule","ctor","superCtor","super_","TempCtor","getOwnPropertyDescriptors","descriptors","formatRegExp","isString","objects","stringify","_","isNull","isObject","noDeprecation","deprecate","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","toUpperCase","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","primitive","simple","isNumber","formatPrimitive","visibleKeys","hash","idx","arrayToHash","isError","formatError","isRegExp","isDate","base","braces","toUTCString","formatProperty","formatArray","map","cur","reduceToSingleString","line","ar","re","objectToString","pad","pid","format","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","date","regexp","types","isNativeError","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","cb","newReason","original","promiseResolve","promiseReject","defineProperties","promisify","custom","callbackified","maybeCb","self","rej","levelSupports","manifests","manifest","acc","assign","bufferKeys","snapshots","permanence","seek","clear","getMany","keyIterator","valueIterator","iteratorNextv","iteratorAll","status","idempotentOpen","passiveOpen","serialize","createIfMissing","errorIfExists","deferredOpen","openCallback","promises","streams","encodings","maybeObject","additionalMethods","queueTick","queueMicrotask","callback","symbol","queueMicrotask_1","window","nextTickBrowser","AbstractIterator","db","_ended","_nexting","_nextTick","_next","rest","_serializeKey","_seek","_end","asyncIterator","kv","abstractIterator","emptyOptions","freeze","AbstractChainedBatch","_operations","_written","_checkWritten","put","options","_checkKey","_checkValue","_serializeValue","_put","del","_del","_clear","_write","_batch","abstractChainedBatch","supports","catering","getCallback","getOptions","rangeOptions","AbstractLevelDOWN","cleanRangeOptions","opt","isRangeOption","open","oldStatus","_open","close","_close","asBuffer","_get","fromCallback","isOperational","maybeError","serialized","_getMany","batch","_chainedBatch","valueErr","reverse","keyAsBuffer","valueAsBuffer","_iterator","_setupIteratorOptions","_isOperational","require$$6","abstractLeveldown","results","inherits","kOptions","kIterator","kOperations","kPromise","DeferredIterator","setDb","op","deferredIterator","DeferredChainedBatch","deferrables","optionalDeferrables","kInnerDb","DeferredLevelDOWN","implement","onopen","operations","streamBrowser","object","enumerableOnly","symbols","filter","_defineProperty","_defineProperties","copyBuffer","buffer_list","BufferList","instance","Constructor","_classCallCheck","head","tail","protoProps","staticProps","entry","hasStrings","_getString","_getBuffer","nb","source","_objectSpread","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","_writableState","emitClose","_readableState","destroy_1","destroy","_this","readableDestroyed","destroyed","writableDestroyed","errorEmitted","_destroy","undestroy","reading","ended","endEmitted","ending","finalCalled","prefinished","finished","errorOrDestroy","stream","rState","wState","autoDestroy","codes","createErrorType","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","oneOf","expected","thing","determiner","search","this_len","substring","endsWith","ERR_INVALID_OPT_VALUE","getHighWaterMark","duplexKey","isDuplex","hwm","highWaterMark","highWaterMarkFrom","objectMode","config","localStorage","Duplex","_stream_writable","Writable","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","Stream","OurUint8Array","realHasInstance","destroyImpl","_require$codes","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","require$$7","writableObjectMode","needDrain","noDecode","decodeStrings","defaultEncoding","writing","corked","sync","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","chunk","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","hasInstance","pipe","_uint8ArrayToBuffer","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_undestroy","objectKeys","_stream_duplex","Readable","allowHalfOpen","readable","onend","onEndNT","copyProps","SafeBuffer","SlowBuffer","StringDecoder","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","ERR_STREAM_PREMATURE_CLOSE","_Object$setPrototypeO","endOfStream","eos","called","_len","_key","onlegacyfinish","onfinish","writableEnded","readableEnded","onerror","onclose","onrequest","req","setHeader","abort","isRequest","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","done","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","_this2","async_iterator","_Object$create","fromBrowser","_stream_readable","ReadableState","EElistenerCount","debug","debugUtil","debuglog","createReadableStreamAsyncIterator","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","require$$9","readableObjectMode","pipes","pipesCount","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","paused","awaitDrain","readingMore","decoder","require$$10","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","addChunk","maybeReadMore","isPaused","setEncoding","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","xs","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","pipeOnDrain","pause","event","dests","ev","wrap","require$$11","_fromList","iterable","require$$12","_stream_transform","Transform","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","err2","_stream_passthrough","PassThrough","ERR_MISSING_ARGS","destroyer","closed","to","popCallback","pipeline_1","destroys","levelIteratorStream","ReadStream","_options","createError","Proto","Err","cause","captureStackTrace","LevelUPError","InitializationError","OpenError","ReadError","WriteError","NotFoundError","EncodingError","notFound","Batch","levelup","ops","IteratorStream","require$$8","LevelUP","_db","isOpen","_isOpening","isClosed","readStream","createReadStream","keyStream","createKeyStream","valueStream","createValueStream","runParallelLimit_1","tasks","pending","isErrored","each","some","task","isDef","has","hasKey","cmp","lowerBoundKey","lowerBound","def","lowerBoundInclusive","upperBoundInclusive","lowerBoundExclusive","upperBoundExclusive","upperBoundKey","upperBound","id","_range","lower","upper","defaults","lb","ub","gt","gte","lt","lte","contains","ltgt","NONE","keyRange","lowerOpen","upperOpen","IDBKeyRange","ta2str","TextDecoder","decode","ta","ta2buf","ab2str","ab","deserialize","createKeyRange","Iterator","location","_limit","_count","_callback","_cache","_completed","_aborted","_error","_transaction","_keys","_values","_keyAsBuffer","_valueAsBuffer","createIterator","transaction","objectStore","openCursor","onsuccess","cursor","onItem","onabort","onAbort","oncomplete","onComplete","continue","maybeNext","_deserializeKey","_deserializeValue","str2bin","TextEncoder","encoder","encode","impl","levelJs","Level","parallel","support","store","openKeyCursor","direction","DEFAULT_PREFIX","indexedDB","prefix","onupgradeneeded","objectStoreNames","createObjectStore","mode","await","request","stopPropagation","loop","upgrade","it","batchOptions","newKey","newValue","deleteDatabase","base32","Geohash","static","lat","lon","precision","posn","bit","evenBit","geohash","latMin","latMax","lonMin","lonMax","lonMid","latMid","charAt","bounds","sw","ne","toFixed","LN10","chr","bitN","lastCh","parent","adjacent","se","nw","sink","nanoassert","assert","t","AssertionError","sodium_memzero","crypto","randombytes","msCrypto","getRandomValues","require","randomBytes","memory","sodium_malloc","sodium_free","MessageChannel","loadSink","port1","postMessage","vn","xi","yi","crypto_verify_16","crypto_verify_32","crypto_verify_64","helpers","sodium_increment","nlen","sodium_memcmp","sodium_is_zero","ascii","hex","getUint32","getUint8","hexValue","char","bytesNeeded","fromCodePoint","encodeInto","codePointAt","bits","utf16le","utf8","codecFor","codec","fromArray","fromBuffer","arrayBuffer","buffers","totalLength","b4a","sha512","Sha512","BLOCKSIZE","K","hh","hl","finalised","bytesRead","ts64","h","compress","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","HMAC","inner","outer","keyhash","update","digest","inputBuf","formatInput","full","resultBuf","mod","__toBinary","bytes2","i2","c0","c1","c2","c3","exports2","module2","compiled","WebAssembly","Module","wasm","imports","int","log_tee","Instance","freeList","SHA512_BYTES","finalized","digestLength","pointer","_memory","_realloc","grow","ceil","paddingStart","WASM","WASM_SUPPORTED","ready","js","SUPPORTED","sha512UniversalModule","crypto_auth_1","crypto_auth_BYTES","crypto_auth_KEYBYTES","crypto_auth","out0","hmac","crypto_auth_verify","correct","crypto_hash_sha512","crypto_hash_1","crypto_hash_BYTES","gf","_9","gf0","gf1","_121665","D","D2","X","Y","I","M","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","sel25519","q","car25519","ed25519","inv25519","pack25519","unpack25519","A","Z","crypto_scalarmult_1","crypto_scalarmult","crypto_scalarmult_SCALARBYTES","z","x32","x16","require_blake2b","__commonJS","compile","wasmPromise","instantiate","Blake2b","BYTES_MIN","BYTES_MAX","KEYBYTES_MIN","KEYBYTES_MAX","SALTBYTES","PERSONALBYTES","salt","personal","blake2b_init","blake2b_update","blake2b_final","getPartialHash","setPartialHash","ph","b2wasm","ADD64AA","o0","o1","ADD64AC","B2B_GET32","B2B_G","ix","iy","x0","x1","y0","y1","xor0","xor1","BLAKE2B_IV32","SIGMA82","blake2bCompress","parameter_block","outlen","blake2bUpdate","toHex","blake2bFinal","blake2bModule","blake2b","BYTES","KEYBYTES","inputArray","crypto_generichash_BYTES","WASM_LOADED","require_xsalsa20","xsalsa20","SIGMA","top","free","xsalsa20_1","XSalsa20","nonce","_xor","Fallback","_pointer","_nonce","_overflow","_s","_z","core_hsalsa20","core_salsa20","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","NONCEBYTES","finalize","realloc","xsalsa20_xor","mpos","cpos","XOR","_instance","MAX_SAFE_INTEGER","crypto_stream_xor","xor","inp","poly1305","leftover","fin","blocks","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","want","poly1305_1","Poly1305","crypto_onetimeauth_1","crypto_onetimeauth","crypto_onetimeauth_PRIMITIVE","crypto_stream","crypto_onetimeauth_verify","crypto_onetimeauth_BYTES","crypto_onetimeauth_KEYBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_secretbox_1","crypto_secretbox","crypto_secretbox_open","crypto_secretbox_easy","crypto_secretbox_open_easy","crypto_secretbox_MACBYTES","mlen","box","crypto_scalarmult_base","crypto_generichash_batch","crypto_stream_xsalsa20_MESSAGEBYTES_MAX","crypto_secretbox_detached","crypto_secretbox_open_detached","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_MACBYTES","crypto_box_MESSAGEBYTES_MAX","crypto_box","crypto_box_easy","pk","sk","crypto_box_detached","crypto_box_open_easy","crypto_box_open_detached","crypto_box_keypair","crypto_box_seed_keypair","seed","epk","esk","zero","cleanup","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_box_SEEDBYTES","crypto_box_BEFORENMBYTES","crypto_box_beforenm","crypto_box_detached_afternm","crypto_box_open_detached_afternm","Sha256","SHA256_BYTES","expand","words","maj","s0","T1","bswap","round","load","view","setUint32","require_sha256","sha256","sha256UniversalModule","crypto_hash_sha256_1","crypto_hash_sha256","crypto_hash_sha256_BYTES","randombytes_buf","subkey","subkey_id","crypto_kdf_BYTES_MIN","crypto_kdf_CONTEXTBYTES","ctx_padded","STORE64_LE","crypto_kdf_BYTES_MAX","crypto_kdf_KEYBYTES","crypto_generichash","crypto_kx","crypto_kx_keypair","crypto_kx_seed_keypair","crypto_kx_SEEDBYTES","crypto_kx_SECRETKEYBYTES","crypto_kx_PUBLICKEYBYTES","chacha20Universal","Chacha20","constant","counter","chacha20Block","ws","QR","rotl","crypto_stream_chacha20_xor","crypto_stream_chacha20_NONCEBYTES","crypto_stream_chacha20_KEYBYTES","ic","crypto_stream_chacha20_ietf_xor","crypto_stream_chacha20_ietf_NONCEBYTES","crypto_stream_chacha20_ietf_KEYBYTES","crypto_stream_chacha20_ietf","crypto_stream_chacha20_ietf_xor_ic","crypto_aead_chacha20poly1305_ietf_ABYTES","crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX","_pad0","crypto_aead_chacha20poly1305_ietf_encrypt_detached","ad","nsec","npub","block0","slen","poly","write64LE","crypto_aead_chacha20poly1305_ietf_decrypt_detached","computed_mac","crypto_aead","crypto_aead_chacha20poly1305_ietf_encrypt","crypto_aead_chacha20poly1305_ietf_decrypt","crypto_aead_chacha20poly1305_ietf_KEYBYTES","crypto_aead_chacha20poly1305_ietf_NPUBBYTES","crypto_aead_chacha20poly1305_ietf_NSECBYTES","require_siphash24","fallback_1","mi","k0","_get_int","k1","v0","v2","v1","v3","mp","ml","ml7","_compress","_add","rl","a2","_rotl","_rotl32","al","fallback","siphash24_1","siphash24","siphash","crypto_hash","crypto_scalarmult_BYTES","crypto_hash_sha512_BYTES","crypto_sign_BYTES","crypto_sign_1","crypto_sign_keypair","crypto_sign_seed_keypair","crypto_sign","sig","sm","crypto_sign_open","crypto_sign_SEEDBYTES","crypto_sign_ed25519_PUBLICKEYBYTES","crypto_sign_ed25519_SECRETKEYBYTES","crypto_sign_ed25519_SEEDBYTES","crypto_sign_ed25519_BYTES","crypto_sign_ed25519_pk_to_curve25519","x25519_pk","ed25519_pk","one_minus_y","bad_points","isSmallOrder","unpackneg","pl","scalarmult","L","ed25519_mul_l","ed25519_is_on_main_subgroup","crypto_sign_ed25519_sk_to_curve25519","curveSk","edSk","crypto_sign_ed25519_sk_to_pk","pack","set25519","cswap","tx","ty","zi","par25519","scalarbase","seeded","modL","carry","smlen","chk","den","den2","den4","den6","pow2523","neq25519","forward","submodule","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","sodiumUniversal","crypto_sign_SECRETKEYBYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_detached","crypto_sign_verify_detached","inspectSymbol","BLOCK_SYMBOL","FEED_SYMBOL","GENESIS","picofeed","PicoFeed","MAX_FEED_SIZE","INITIAL_FEED_SIZE","PICKLE","KEY","BLOCK","KEY_SIZE","SIGNATURE_SIZE","COUNTER_SIZE","META_SIZE","_hasGenisis","_keychain","_MAX_FEED_SIZE","maxSize","initialSize","partial","_isDirty","mapBlock","_reIndex","force","_index","_appendKey","_ensureMinimumCapacity","_appendBlock","nbuf","_ensureKey","keyId","toArray","block","append","metaSz","pBlock","dataSize","newEnd","requestedSize","bytesOverflow","header","body","parentSig","dat","verify","clearCache","blockIdx","_clearCache","ktok","KEY_SZ","prevSig","keyIdx","findIndex","seq","valid","pickle","kToken","bToken","itr","fact","b2ub","noKeys","_unpack","pToken","pickleOffset","kM","bM","processChunk","ub2b","truncate","toLength","_steal","other","_robbed","__clazz","merge","indexCallback","forceCopy","interactiveMode","userValidate","rebase","blocksIterator","mutated","attemptReverseMerge","_reverseMergeFlag","sanityCheck","_compare","FeedDerivate","counters","iterators","eof","parents","step","chain","fastForward","mkErr","idxA","idxB","noLog","widths","utf","row","isGenesis","trimEnd","lines","cell","padEnd","isFeed","feed","SIG_N","COUNT_N","HDR_N","mapper","safeEnd","Feed","REPO_SYMBOL","mkKey","srcEnd","picorepo","strategy","_strategies","ptr","readBlock","_chainLoad","blocksWritten","owner","_traceOwnerOf","author","_hasBlock","bumpHead","writeBlock","_setHeadPtr","_setLatestPtr","_getHeadPtr","isAncestor","parentBlock","_queryUserStrategy","inlineStrategy","stopCallback","loadFeed","_getLatestPtr","after","abortAfter","stopHit","evicted","loadHead","relocate","latest","headOf","tailOf","_getTailPtr","latestOf","chainload","ownerOf","bkey","query","currentStructures","srcString","referenceMap","dataView","currentUnpackr","srcStringStart","srcStringEnd","currentExtensions","defaultOptions","useRecords","mapsAsObjects","C1Type","C1","sequentialMode","Unpackr","structures","sharedLength","getStructures","uninitialized","unpack","saveState","clearSource","checkedRead","unpackMultiple","lastPosition","defaultUnpackr","_mergeStructures","loadedStructures","existingStructures","structure","isShared","highByte","restoreStructures","trusted","incomplete","startsWith","token","loadStructures","createStructureReader","readKey","shortStringInJS","longStringInJS","readFixedString","readBin","getUint16","readExt","getFloat32","useFloat32","multiplier","mult10","getFloat64","int64AsNumber","getBigUint64","getInt8","getInt16","getInt32","getBigInt64","recordDefinition","extension","noBuffer","readString8","readString16","readString32","readArray","readMap","validName","firstId","readObject","createSecondByteReader","read0","readStringJS","byte1","byte2","byte3","unit","copyBuffers","keyCache","checkPosition","existingStructure","glbl","refEntry","targetProperties","used","savedSrcEnd","savedPosition","savedSrcStringStart","savedSrcStringEnd","savedSrcString","savedReferenceMap","savedSrc","savedStructures","savedStructuresContents","savedPackr","savedSequentialMode","typeCode","typedArrayName","Decoder","FLOAT32_OPTIONS","NEVER","ALWAYS","DECIMAL_ROUND","DECIMAL_FIT","textEncoder","extensions","extensionClasses","f32Array","u8Array","hasNodeBuffer","ByteArrayAllocate","ByteArray","MAX_BUFFER_SIZE","targetView","RECORD_SYMBOL","Packr","sharedStructures","hasSharedUpdate","lastSharedStructuresLength","encodeUtf8","maxBytes","written","packr","isSequential","sequential","hasSharedStructures","saveStructures","maxSharedStructures","maxOwnStructures","useTwoByteRecords","sharedLimitId","maxStructureId","recordIdsToRemove","transitionsCount","serializationsSinceTransitionRebuild","encodeOptions","structuredClone","transitions","nextTransition","transition","nextId","idsToInsert","makeRoom","distanceToMove","lastEnd","sort","insertIds","REUSE_BUFFER_MODE","returnBuffer","headerSize","strLength","strPosition","setInt16","setInt32","xShifted","setFloat32","setFloat64","referee","writeObject","entryValue","currentTarget","currentTargetView","currentPosition","writeExtensionData","setBigInt64","setBigUint64","largeBigIntToFloat","encodeUndefinedAsNil","writeFunction","variableMapSize","safePrototype","objectOffset","newTransitions","recordId","shouldShareStructure","nextOwnId","newSize","newBuffer","useBuffer","writeExtBuffer","allocateForWrite","writeBuffer","seconds","getTime","useTimestamp32","getMilliseconds","onInvalidDate","regex","defaultPackr","Encoder","decodeIter","bufferIterator","unpackr","parser","yields","encodeIter","objectIterator","packIterSync","packIterAsync","Class","unpackAddExtension","float32Number","PicoRepo","STRUCTS","picostore","mergeStrategy","repo","isRepo","_strategy","_stores","_loaded","_mutex","_tap","_packr","release","fail","timeoutError","register","initialValue","validator","reducer","trap","observers","_waitLock","readReg","writeReg","_decodeValue","patch","loud","_dispatch","local","diff","modified","root","_first","accepted","validationError","_mutateState","_notifyObservers","dryMerge","stores","merged","interrupts","signal","_commitHead","payload","_encodeValue","peers","listHeads","mods","observer","hotswap","reload","exec","parse","long","msAbs","plural","fmtLong","fmtShort","isPlural","common","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","coerce","formatter","formatters","formatArgs","useColors","color","selectColor","extend","namespaces","delimiter","newDebug","toNamespace","default","disable","names","skips","enable","save","humanize","lastC","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","document","documentElement","WebkitAppearance","firebug","exception","$1","localstorage","PLUG_SYMBOL","picoWire","MESSAGE_TIMEOUT","aOpened","bOpened","mkPlug","castA","setCastA","abortCastA","unpromise","castB","setCastB","abortCastB","broadcastsExported","$closed","setClosed","isA","plug","onmessage","opened","cast","isActive","Recurser","scope","isPlug","spliceWires","tearDown","replyExpected","$scope","setScope","abortScope","unpromiseTimeout","reply","stitch","_unpctr","_active","$p","active","unpromiseD","NETWORK_TIMEOUT","encodingTransformer","down","up","_nodes","_afterRemove","createWire","externalOnOpen","hubEnd","looseEnd","broadcast","antiLeakTimer","_filterNodes","race","abortSurvey","survey","responses","duplexStream","routingTable","txBuffer","streamSend","onStreamReceive","closeStream","dstPort","srcPort","replyTo","timer","registerCallback","packetSize","hyperStream","extensionId","channel","onextension","sendExt","wire","pBuffer","rBuffer","send","Hub","simpleRpc","handlers","nodeId","random","_controller","hub","_ondisconnect","$n","_setConnections","$connections","spawnWire","encodeMsg","decodeMsg","onconnect","ondisconnect","node","_downloadFeeds","onblocks","shareBlocks","feeds","onquery","_uploadFeeds","typeOfMsg","params","Repo","Store","SimpleRPC","KEY_SK","SimplePicoKernel","_secret","secret","rpc","peer","__loading","signPair","_checkReady","decodeBlock","loudFail","dispatch","branch","createBlock","encodeBlock","heads","picostack","crypto_box_seal","crypto_box_seal_open","crypto_box_SEALBYTES","SimpleKernel","VIBE_REJECTED","PASS_TURN","typeOfBlock","H","util","G_M","G_F","G_NB","G_R","fixJsonBuffers","bufferReplacer","TYPE_PROFILE","TYPE_VIBE","TYPE_VIBE_RESP","TYPE_MESSAGE","TYPE_BYE","TYPE_BYE_RESP","PEACE","LOVE","UNDERSTANDING","blockToGlyph","plu","rewrite","rules","game","graph","wk","glyph","EV_CHAT_END","scoreGraph","TTL","emptyProfile","picture","tagline","sex","expiresAt","score","validateProfile","containsURL","age","schedule","strkey","chat","chats","pubKeyGetter","peerId","profile_timeout","vibe_timeout","vibe_response_timeout","chat_timeout","now","unseal","RESP_TTL","mkMatch","chatId","response","updatedAt","remoteBox","vibes_reg","vibeTTL","_sk","_pk","_reduceHasRun","ttl","setKeys","_peerId","matches","own","parentType","vibe","rejected","createdAt","decrypted","chats_reg","ChatTimeout","blockReward","BlockReward","health","InitialHealth","regenerate","RegenerateAmount","stats","vibes","nextAuthor","mLength","indexKey","messages","hp","aEnd","bEnd","mkChat","authorId","lastSeen","nMessages","nExhausted","nPassed","nEnded","nStarted","blockSize","hpRegenerated","mkStats","turnPassed","isSent","pass","gesture","aStat","bStat","seal","toBuffer","feedToGraph","unpackValue","boxPair","KEY_BOX_LIKES_PK","KEY_BOX_LIKES_SK","ERR_PEER_NOT_FOUND","errorMessage","PEER_PLACEHOLDER","computeProfile","extraTime","toPublicKey","setHasProfile","hasProfile","__setHasProfile","profile","_vibeBox","_vibeController","updateProfile","$peer","_peer","$profile","$peers","peerMap","$chats","$loaded","boot","joinPeer","initiator","_readReg","profileOf","computeVibe","remoteRejected","localRejected","myTurn","initVibe","PeerCtrl","VibeCtrl","ConversationCtrl","ChatModule","$vibes","$chat","localPair","_send","cache","_getRemoteChatKey","_setMessageBody","bye","loadChat","_vibe","lChat","_getLocalChatKey","_getMessageBody","_tracePath","dump","BufferedRegistry","msgBox","vLength","_writeReg","GarbageCollector","sliceName","sz","packValue","_originalReducer","collectGarbage","startGC","interval","setInterval","_collectGarbage","stopGC","clearInterval","tickQuery","segments","sweep","gcType","rootState","didMutate","drop","segmentId","rollback","hasExpired","isSelf","PeersModule","VibesModule","ckey","respondVibe","$cooldowns","cd","canVibe","sealedMessage","_storeLocalChatKey","like","link","$vibe","toChatId","_vibes","sent","MonitorModule","blockend","ProfileCtrl","nLoaded","cap","roundByte","countTrailingZeroes","countOnes","proximityOf","bitAt","mapOverlap","registers","outputs","cancel","reg","bitIdx","byteIdx","sum","GHSUNMAP","unpackGeo","gammaShift","N","log2","gammaUnshift","dGapEncode","geoPrecision","setBit","nc","GHSMAP","cpy","SIGN_SKBYTES","SIGN_PKBYTES","packGeo","binstr","decodeSL","GEO_BITS","DEFAULT_SIGN","DEFAULT_PROFILE","Keychain","gender","maxTries","generateAnonymous","prayFor","keychain","blank_object","run_all","fns","is_function","safe_not_equal","src_url_equal_anchor","current_component","src_url_equal","element_src","url","createElement","href","subscribe","callbacks","unsubscribe","component_subscribe","component","$$","on_destroy","create_slot","definition","$$scope","slot_ctx","get_slot_context","tar","get_slot_changes","lets","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","null_to_empty","set_store_value","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","element","svg_element","createElementNS","createTextNode","space","empty","listen","prevent_default","preventDefault","attr","attribute","removeAttribute","getAttribute","setAttribute","set_custom_element_data","set_data","wholeText","set_input_value","set_style","important","setProperty","toggle_class","toggle","classList","set_current_component","get_current_component","onMount","on_mount","createEventDispatcher","detail","bubbles","createEvent","initCustomEvent","custom_event","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","add_render_callback","add_flush_callback","seen_callbacks","flushidx","saved_component","fragment","before_update","after_update","outroing","outros","group_outros","check_outros","transition_in","transition_out","handle_promise","resolved","child_ctx","needs_flush","mount","hasCatch","update_await_block_branch","globals","create_component","mount_component","customElement","new_on_destroy","destroy_component","make_dirty","create_fragment","not_equal","append_styles","parent_component","on_disconnect","skip_bound","hydrate","nodes","childNodes","children","intro","SvelteComponent","$destroy","$on","$set","$$props","$$set","subscriber_queue","stop","subscribers","new_value","run_queue","subscriber","invalidate","derived","initial_value","single","stores_array","auto","inited","unsubscribers","Modem56","svlt","dbg","DB","leveljs","personalBucket","kernel","Kernel","keygen","geo","attempts","generate","decodePk","ll","Vibes","tryBoot","$kstate","setKstate","$error","setError","$entered","setEntered","$swarming","setSwarming","$hasKey","setHasKey","$hasProfile","$profilePicture","setProfilePicture","$state","entered","swarming","profilePicture","readIdentity","readProfile","pTemplate","autoSwarm","connectSwarm","navigate","Chat","$initiator","setInitiator","$turn","setTurn","$msgs","msgs","remote","mockChat","modem","decodeImage","purge","purgeKeychain","confirm","saveBackup","File","URL","createObjectURL","action_result","updateAttribute","updated","elem","setAttributeNS","nofill","ref","classes","qrcode","typeNumber","errorCorrectionLevel","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","makeImpl","maskPattern","moduleCount","modules","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","QRUtil","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","qrBitBuffer","getMode","getLength","getLengthInBits","totalDataCount","dataCount","putBit","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","createBytes","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","createTableTag","cellSize","margin","qrHtml","createSvgTag","alt","mr","rect","qrSvg","scalable","escapeXml","createDataURL","createImgTag","img","escaped","createASCII","blocksLastLineNoMargin","_createHalfASCII","renderTo2dContext","fillStyle","fillRect","stringToBytes","stringToBytesFuncs","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","unknownChar","PATTERN_POSITION_TABLE","G15","G18","getBCHDigit","QRMode","Q","QRMaskPattern","digit","errorCorrectLength","multiply","QRMath","gexp","sameCount","darkCount","EXP_TABLE","LOG_TABLE","_num","glog","ratio","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","_buffer","_length","bufIndex","_mode","_data","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","_str","_pos","_buflen","width","height","getPixel","gif","_width","_height","pixel","writeString","writeShort","raster","getLZWRaster","writeBytes","lzwMinCodeSize","clearCode","endCode","bitLength","lzwTable","byteOut","bitOut","_out","_bitLength","_bitBuffer","bitOutputStream","dataIndex","_map","_size","gifImage","setPixel","_base64","writeEncoded","padlen","base64EncodeOutputStream","charcode","toUTF8Array","imgElem","level","paint","qr","validateImport","progress","unlucky","fails","showImportDialog","importInput","showAboutDialog","roll","$secret","$progress","$unlucky","pair","$gender","$geohash","writeIdentity","storeIdentity","$fails","$showAboutDialog","$showImportDialog","$importInput","$","weekdays","utcOffset","year","month","O","locale","$L","utc","$u","$x","$offset","$d","UTC","$y","getFullYear","$M","$D","$W","getDay","$H","$m","$s","$ms","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","unix","toDate","$locale","weekStart","daysInMonth","subtract","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","HH","mm","ss","SSS","getTimezoneOffset","toISOString","$i","isDayjs","en","Ls","dayjs","duration","intervalId","timeLeft","$timeLeft","constants","km","cm","ft","in","yd","areaConversion","m2","km2","ha","ft2","yd2","in2","sqm","sqkm","sqft","sqyd","sqin","getCoordinateKey_1","_default","point","keysToLookup","foundKey","isDecimal_1","checkedValue","isSexagesimal_1","_constants","sexagesimalPattern","sexagesimalToDecimal_1","sexagesimal","sec","decimal","getCoordinateKeys_1","_getCoordinateKey","__esModule","longitude","longitudeKeys","latitude","latitudeKeys","altitude","altitudeKeys","isValidLatitude_1","_isDecimal","_interopRequireDefault","_isSexagesimal","_sexagesimalToDecimal","isValidLatitude","MAXLAT","MINLAT","isValidLongitude_1","isValidLongitude","MAXLON","MINLON","isValidCoordinate_1","_getCoordinateKeys2","_isValidLatitude","_isValidLongitude","_getCoordinateKeys","toDecimal_1","_isValidCoordinate","toDecimal","getLatitude_1","_toDecimal","raw","latKey","getLongitude_1","toRad_1","PI","toDeg_1","computeDestinationPoint_1","_getLatitude","_getLongitude","_toRad","_toDeg","distance","bearing","radius","lng","delta","theta","phi1","lambda1","phi2","asin","sin","cos","lambda2","atan2","convertArea_1","squareMeters","targetUnit","factor","convertDistance_1","meters","distanceConversion","convertSpeed_1","metersPerSecond","timeConversion","_slicedToArray","_arrayWithHoles","_n","_d","_e","_i","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","arr2","decimalToSexagesimal","_decimal$toString$spl2","pre","post","deg","min0","sec0","decimals","imprecise","_sec$split2","secPreDec","_sec$split2$","secDec","robustAcos_1","getDistance_1","_robustAcos","accuracy","fromLat","fromLon","toLat","toLon","acos","earthRadius","orderByDistance_1","_getDistance","coords","distanceFn","findNearest_1","_orderByDistance","getAreaOfPolygon_1","points","area","lowerIndex","middleIndex","upperIndex","p1lon","p2lat","p3lon","getBounds_1","maxLat","minLat","maxLng","minLng","getBoundsOfDistance_1","minLon","maxLon","radLat","radLon","radDist","MAX_LAT_RAD","MIN_LAT_RAD","MAX_LON_RAD","MIN_LON_RAD","deltaLon","getCenter_1","numberOfPoints","pointLat","pointLon","sqrt","getCenterOfBounds_1","_getBounds","getRhumbLineBearing_1","diffLon","diffPhi","tan","getCompassDirection_1","_getRhumbLineBearing","bearingFn","getDistanceFromLine_1","lineStart","lineEnd","alpha","beta","getGreatCircleBearing_1","destLat","detLon","originLat","originLon","getPathLength_1","_typeof","getPreciseDistance","cosSigma","sigma","sinAlpha","cosSqAlpha","cos2SigmaM","sinSigma","lambdaP","startLat","startLon","endLat","endLon","ellipsoidParams","U1","atan","U2","sinU1","cosU1","sinU2","cosU2","lambda","iterLimit","sinLambda","cosLambda","C","uSq","B","deltaSigma","getRoughCompassDirection_1","exact","getSpeed_1","isPointInLine_1","isPointInPolygon_1","polygon","isInside","totalPolys","isPointNearLine_1","_getDistanceFromLine","isPointWithinRadius_1","center","wktToPolygon_1","wkt","coordText","_coordText$split2","_exportNames","computeDestinationPoint","convertArea","convertDistance","convertSpeed","findNearest","getAreaOfPolygon","getBounds","getBoundsOfDistance","getCenter","getCenterOfBounds","getCompassDirection","getCoordinateKey","getCoordinateKeys","getDistance","getDistanceFromLine","getGreatCircleBearing","getLatitude","getLongitude","getPathLength","getRhumbLineBearing","getRoughCompassDirection","getSpeed","isDecimal","isPointInLine","isPointInPolygon","isPointNearLine","isPointWithinRadius","isSexagesimal","isValidCoordinate","orderByDistance","sexagesimalToDecimal","toRad","toDeg","wktToPolygon","_computeDestinationPoint","_convertArea","_convertDistance","_convertSpeed","_decimalToSexagesimal","_findNearest","_getAreaOfPolygon","_getBoundsOfDistance","_getCenter","_getCenterOfBounds","_getCompassDirection","_getGreatCircleBearing","_getPathLength","_getPreciseDistance","_getRoughCompassDirection","_getSpeed","_isPointInLine","_isPointInPolygon","_isPointNearLine","_isPointWithinRadius","_wktToPolygon","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$31","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$38","require$$39","cooldowns","showFiltersDialog","sendVibe","$showFiltersDialog","getCropSize","imgWidth","imgHeight","aspect","restrictPosition","imageSize","cropSize","zoom","restrictPositionCoord","maxPosition","getDistanceBetweenPoints","pointA","pointB","limitArea","shouldRound","noOp","image","crop","minZoom","maxZoom","cropShape","showGrid","zoomSpeed","crossOrigin","cropperSize","naturalWidth","naturalHeight","containerEl","containerRect","imgEl","dragStartPosition","dragStartCrop","lastPinchDistance","rafDragTimeout","rafZoomTimeout","isDragging","complete","onImgLoad","computeSizes","emitCropData","helpers.getCropSize","getBoundingClientRect","getMousePoint","clientX","clientY","getTouchPoint","touch","onDragStart","onDrag","cancelAnimationFrame","requestAnimationFrame","offsetX","offsetY","requestedPosition","helpers.restrictPosition","onPinchStart","touches","helpers.getDistanceBetweenPoints","helpers.getCenter","onPinchMove","setNewZoom","newZoom","zoomPoint","left","getPointOnContainer","zoomTarget","getPointOnImage","croppedAreaPercentages","croppedAreaPixels","imgSize","limitAreaFn","widthInPixels","heightInPixels","sizePixels","helpers.computeCroppedArea","percent","pixels","deltaY","canvasElement","imgElement","cropURL","files","setImage","onload","drawImage","preprocessFile","file","revokeObjectURL","dataUrl","toDataURL","encodeImage","$output","getContext","blob","showKeyDialog","writeProfile","$name","$tagline","$picture","_loading","$sk","$pk","fetchPosition","geolocation","getCurrentPosition","getCurrentGeohash","$showKeyDialog","short","price","inventory","VIBE_TTL","vibeDetail","$vibeDetail","messagesElement","inputElement","showInput","preview","path","nf","scrollTo","scrollHeight","behaviour","$showInput","focus","charCode","$line","setName","$id","setId","$q","setQ","$view","Shop","Messages","Profile","About","Keygen","Pub","routeName","setView","URLSearchParams","virt","pathname","history","pushState","$namespaces","$open","toggleTheme","globError","globReject","htmlTag","dataset","theme","conn","cnns","showBar","showDev","showDebugSelector","nCount","scrollingElement","enter","$showDebugSelector","years","days","hours","minutes","milliseconds","weeks","$l","negative","parseFromMilliseconds","calMilliseconds","as","fromNow","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","isDuration"],"mappings":"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"}