{"version":3,"file":"bundle.js","sources":["../../blockend/nuro.js","../../node_modules/base64-js/index.js","../../node_modules/ieee754/index.js","../../node_modules/buffer/index.js","../../node_modules/events/events.js","../../node_modules/process/browser.js","../../node_modules/get-intrinsic/index.js","../../node_modules/has-symbols/shams.js","../../node_modules/has-tostringtag/shams.js","../../node_modules/has-symbols/index.js","../../node_modules/function-bind/implementation.js","../../node_modules/function-bind/index.js","../../node_modules/has/src/index.js","../../node_modules/call-bind/index.js","../../node_modules/call-bind/callBound.js","../../node_modules/is-arguments/index.js","../../node_modules/is-generator-function/index.js","../../node_modules/foreach/index.js","../../node_modules/available-typed-arrays/index.js","../../node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","../../node_modules/is-typed-array/index.js","../../node_modules/which-typed-array/index.js","../../node_modules/util/support/types.js","../../node_modules/util/support/isBufferBrowser.js","../../node_modules/inherits/inherits_browser.js","../../node_modules/util/util.js","../../node_modules/level-supports/index.js","../../node_modules/catering/index.js","../../node_modules/queue-tick/queue-microtask.js","../../node_modules/queue-microtask/index.js","../../node_modules/abstract-leveldown/next-tick-browser.js","../../node_modules/abstract-leveldown/abstract-iterator.js","../../node_modules/abstract-leveldown/abstract-chained-batch.js","../../node_modules/abstract-leveldown/lib/common.js","../../node_modules/abstract-leveldown/abstract-leveldown.js","../../node_modules/is-buffer/index.js","../../node_modules/abstract-leveldown/index.js","../../node_modules/deferred-leveldown/util.js","../../node_modules/deferred-leveldown/deferred-iterator.js","../../node_modules/deferred-leveldown/deferred-chained-batch.js","../../node_modules/deferred-leveldown/deferred-leveldown.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/destroy.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/errors-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/state.js","../../node_modules/util-deprecate/browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_writable.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_duplex.js","../../node_modules/safe-buffer/index.js","../../node_modules/level-iterator-stream/node_modules/string_decoder/lib/string_decoder.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_transform.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_passthrough.js","../../node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js","../../node_modules/level-iterator-stream/index.js","../../node_modules/level-errors/errors.js","../../node_modules/levelup/lib/common.js","../../node_modules/levelup/lib/batch.js","../../node_modules/levelup/lib/next-tick-browser.js","../../node_modules/levelup/lib/levelup.js","../../node_modules/run-parallel-limit/index.js","../../node_modules/ltgt/index.js","../../node_modules/level-js/util/key-range.js","../../node_modules/level-js/util/deserialize.js","../../node_modules/level-js/iterator.js","../../node_modules/level-js/util/serialize.js","../../node_modules/level-js/util/support.js","../../node_modules/level-js/index.js","../../node_modules/level-js/util/clear.js","../../node_modules/latlon-geohash/latlon-geohash.js","../../node_modules/sodium-javascript/memory.js","../../node_modules/nanoassert/index.js","../../node_modules/sodium-javascript/randombytes.js","../../node_modules/sodium-javascript/crypto_verify.js","../../node_modules/sodium-javascript/helpers.js","../../node_modules/b4a/lib/ascii.js","../../node_modules/b4a/lib/base64.js","../../node_modules/b4a/lib/hex.js","../../node_modules/b4a/lib/utf8.js","../../node_modules/b4a/lib/utf16le.js","../../node_modules/b4a/browser.js","../../node_modules/sha512-universal/sha512.js","../../node_modules/sha512-wasm/sha512.js","../../node_modules/sha512-wasm/index.js","../../node_modules/sha512-universal/index.js","../../node_modules/sodium-javascript/crypto_auth.js","../../node_modules/sodium-javascript/crypto_hash.js","../../node_modules/sodium-javascript/internal/ed25519.js","../../node_modules/sodium-javascript/crypto_scalarmult.js","../../node_modules/blake2b-wasm/blake2b.js","../../node_modules/blake2b-wasm/index.js","../../node_modules/blake2b/index.js","../../node_modules/sodium-javascript/crypto_generichash.js","../../node_modules/xsalsa20/xsalsa20.js","../../node_modules/xsalsa20/index.js","../../node_modules/sodium-javascript/internal/poly1305.js","../../node_modules/sodium-javascript/crypto_stream.js","../../node_modules/sodium-javascript/crypto_onetimeauth.js","../../node_modules/sodium-javascript/crypto_secretbox.js","../../node_modules/sodium-javascript/crypto_box.js","../../node_modules/sha256-universal/sha256.js","../../node_modules/sha256-wasm/sha256.js","../../node_modules/sha256-wasm/index.js","../../node_modules/sha256-universal/index.js","../../node_modules/sodium-javascript/crypto_hash_sha256.js","../../node_modules/sodium-javascript/crypto_kdf.js","../../node_modules/sodium-javascript/crypto_kx.js","../../node_modules/chacha20-universal/index.js","../../node_modules/sodium-javascript/crypto_stream_chacha20.js","../../node_modules/sodium-javascript/crypto_aead.js","../../node_modules/siphash24/siphash24.js","../../node_modules/siphash24/fallback.js","../../node_modules/siphash24/index.js","../../node_modules/sodium-javascript/crypto_shorthash.js","../../node_modules/sodium-javascript/crypto_sign.js","../../node_modules/sodium-javascript/index.js","../../node_modules/sodium-universal/index.js","../../node_modules/inspect-custom-symbol/browser.js","../../node_modules/picofeed/index.js","../../node_modules/picorepo/index.js","../../node_modules/msgpackr/unpack.js","../../node_modules/rollup-plugin-node-polyfills/polyfills/global.js","../../node_modules/msgpackr/pack.js","../../node_modules/msgpackr/iterators.js","../../node_modules/msgpackr/index.js","../../node_modules/@telamon/picostore/index.js","../../node_modules/debug/node_modules/ms/index.js","../../node_modules/debug/src/common.js","../../node_modules/debug/src/browser.js","../../blockend/util.js","../../blockend/slices/peers.reg.js","../../blockend/slices/vibes.reg.js","../../blockend/slices/chats.reg.js","../../blockend/mod/chat.mod.js","../../node_modules/piconet/index.js","../../blockend/rpc.js","../../blockend/mod/net.mod.js","../../blockend/mod/buffered-registry.mod.js","../../blockend/mod/gc.mod.js","../../blockend/mod/peers.mod.js","../../blockend/mod/vibes.mod.js","../../blockend/index.js","../../blockend/bits.js","../../blockend/keychain.js","../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../frontend/api.js","../../frontend/components/Dialog.svelte","../../frontend/components/Icon.svelte","../../node_modules/qrcode-generator/qrcode.js","../../frontend/components/QRCode.svelte","../../frontend/views/Keygen.svelte","../../node_modules/dayjs/dayjs.min.js","../../frontend/components/Timer.svelte","../../node_modules/geolib/es/constants.js","../../node_modules/geolib/es/getCoordinateKey.js","../../node_modules/geolib/es/isDecimal.js","../../node_modules/geolib/es/isSexagesimal.js","../../node_modules/geolib/es/sexagesimalToDecimal.js","../../node_modules/geolib/es/getCoordinateKeys.js","../../node_modules/geolib/es/isValidLatitude.js","../../node_modules/geolib/es/isValidLongitude.js","../../node_modules/geolib/es/isValidCoordinate.js","../../node_modules/geolib/es/toDecimal.js","../../node_modules/geolib/es/getLatitude.js","../../node_modules/geolib/es/getLongitude.js","../../node_modules/geolib/es/toRad.js","../../node_modules/geolib/es/toDeg.js","../../node_modules/geolib/es/computeDestinationPoint.js","../../node_modules/geolib/es/convertArea.js","../../node_modules/geolib/es/convertDistance.js","../../node_modules/geolib/es/convertSpeed.js","../../node_modules/geolib/es/decimalToSexagesimal.js","../../node_modules/geolib/es/robustAcos.js","../../node_modules/geolib/es/getDistance.js","../../node_modules/geolib/es/orderByDistance.js","../../node_modules/geolib/es/findNearest.js","../../node_modules/geolib/es/getAreaOfPolygon.js","../../node_modules/geolib/es/getBounds.js","../../node_modules/geolib/es/getBoundsOfDistance.js","../../node_modules/geolib/es/getCenter.js","../../node_modules/geolib/es/getCenterOfBounds.js","../../node_modules/geolib/es/getRhumbLineBearing.js","../../node_modules/geolib/es/getCompassDirection.js","../../node_modules/geolib/es/getDistanceFromLine.js","../../node_modules/geolib/es/getGreatCircleBearing.js","../../node_modules/geolib/es/getPathLength.js","../../node_modules/geolib/es/getPreciseDistance.js","../../node_modules/geolib/es/getRoughCompassDirection.js","../../node_modules/geolib/es/getSpeed.js","../../node_modules/geolib/es/isPointInLine.js","../../node_modules/geolib/es/isPointInPolygon.js","../../node_modules/geolib/es/isPointNearLine.js","../../node_modules/geolib/es/isPointWithinRadius.js","../../node_modules/geolib/es/wktToPolygon.js","../../frontend/components/BinaryImage.svelte","../../node_modules/geolib/es/index.js","../../frontend/components/PeerPortrait.svelte","../../frontend/views/Pub.svelte","../../node_modules/svelte-easy-crop/src/helpers.js","../../node_modules/svelte-easy-crop/src/index.svelte","../../frontend/components/ImageLoader.svelte","../../frontend/views/Profile.svelte","../../frontend/views/Shop.svelte","../../frontend/components/PendingVibe.svelte","../../frontend/views/Messages.svelte","../../frontend/views/Chat.svelte","../../frontend/views/About.svelte","../../frontend/router.js","../../frontend/components/DebugSelector.svelte","../../frontend/App.svelte","../../node_modules/dayjs/plugin/duration.js","../../frontend/main.js"],"sourcesContent":["/***\n * Pico::NeUROn\n *\n * A functional approach to the reactive-store pattern\n * delivering indiscriminate minimalism.\n * Easily bridged into any other framework of choice.\n*/\n\nconst ERROR = Symbol.for('piconeuro:Error')\nmodule.exports = {\n  ERROR,\n  get,\n  next,\n  until,\n  write: writable,\n  writable,\n  notEqual,\n  notEqualDeep,\n  memo,\n  mute,\n  init,\n  when,\n  combine,\n  isSync,\n  _isSync,\n  gate,\n  settle,\n  iter,\n  nfo\n}\n\n// One to many neuron (opposite of combine)\nfunction memo (neuron) {\n  let value\n  const synapses = new Set()\n  let disconnect = null\n  return function NeuronMemory (syn) {\n    synapses.add(syn)\n    // console.log('instant memo', !!disconnect, value)\n    if (disconnect) syn(value)\n    else disconnect = neuron(spreadForward)\n    return () => {\n      synapses.delete(syn)\n      if (synapses.length) return\n      if (disconnect) disconnect()\n      disconnect = null\n    }\n  }\n  function spreadForward (v) {\n    value = v\n    for (const syn of synapses) syn(v)\n  }\n}\n\n// Neuron that fires initial value once synchroneously.\n//  init(v, $n) => Fire1:  $n.sync || v; Fire2: $n.async\nfunction init (value, neuron) {\n  return function InitialValue (syn) {\n    let disconnected = false\n    let unsub = function noop () {}\n    let fired = false\n    if (typeof neuron === 'function') {\n      unsub = neuron(v => {\n        fired = true\n        if (!disconnected) syn(v)\n      })\n    }\n    if (!fired) syn(clone(value)) // Note: disconnected is always false here\n    return () => {\n      disconnected = true\n      unsub()\n    }\n  }\n}\n\n/**\n * Experimental promise to async neuron converter.\n * Fires once\n */\nfunction when (promise) {\n  if (!promise || typeof promise.then !== 'function') throw new Error('Expected a Promise')\n  return function WhenResolved (syn) {\n    promise.then(syn)\n      .catch(err => {\n        console.error('n:when() failed: ', err)\n        syn(ERROR, err)\n      })\n    return function NOOPunsub () {}\n  }\n}\n\n/*\n * Debug neuron, logs all signals\n */\nlet __nfoCtr = 0\nconst __pal = Array.from(new Array(8)).map((_, bg) => Array.from(new Array(8)).map((_, fg) => `\\x1b[0;${30 + fg};${40 + bg}m`))\nmodule.exports.V = 1 // VERBOSITY level\nfunction nfo (neuron, name) {\n  if (!module.exports.V) return neuron // Completely bypass NFO when V is zero\n  const ni = __nfoCtr++\n  if (!name) name = `NFO${pn(ni)}`\n  const nlog = console.info.bind(null, c(name, 0, ni))\n  let s = 0\n  return syn => {\n    let i = 0\n    const log = nlog.bind(null, c(`SYN${pn(s++)}`, 0, ni))\n    log(`>>${pn(i)}>> connected`)\n    const unsub = neuron(v => {\n      log(`!!${pn(i++)}!! `, v)\n      syn(v)\n    })\n    return () => {\n      unsub()\n      log(`<<${pn(i)}<< disconnected`)\n    }\n  }\n  function pn (n, p = 2) { return (n + '').padStart(p, '0') }\n  function c (s) { return s }\n  // function c (s, b = 0, f = 0) { return `${__pal[b % 8][f % 8]}${s}\\x1b[0m` }\n}\n\nfunction gate (neuron, shallow = false) {\n  const check = typeof shallow === 'function'\n    ? shallow\n    : !shallow\n        ? notEqualDeep\n        : notEqual\n\n  return function NoiseGate (syn) {\n    let value\n    let first = true\n    return neuron(v => {\n      const dirty = check(v, value)\n      // console.info(`nuro:gate() ${dirty ? '>>PASS>>' : '||HOLD||'}\\n>>> NEXT\\n`, v, '\\n===\\n', value, '\\n<<< PREV')\n      if (first || dirty) {\n        first = false\n        value = clone(v)\n        syn(v)\n      }\n    })\n  }\n}\n\n// Buffers a signal and outputs last value\n// !WARNING!\n// Use with care, this neuron introduces unchecked asyncronity into\n// your path causing racing conditions along the way.\n// Only use is for buffering final outputs to silly frameworks such as react\n// that render with a built-in rising-edge buffer\nfunction settle (neuron, debounceMs = 10, risingEdge = false) {\n  return function DebouncedSignal (syn) {\n    let value\n    let tid\n    let first = true\n    const unsub = neuron(v => {\n      value = v\n      if (risingEdge && first) {\n        first = false\n        syn(value)\n      }\n      if (tid) clearTimeout(tid)\n      tid = setTimeout(() => {\n        tid = null\n        syn(value)\n      }, debounceMs)\n    })\n    return () => {\n      if (unsub) unsub()\n      if (tid) clearTimeout(tid)\n    }\n  }\n}\n\n/**\n * Produces a shallow clone of objects and arrays\n */\nfunction clone (o) {\n  if (Array.isArray(o)) return [...o]\n  if (typeof o === 'object' && o !== null) return { ...o }\n  return o\n}\n\n/*\n * Possibly async neuron.\n * fires on immediate or async result.\n * Does not fire placeholders, prepend with init() a sync initialValue is needed:\n * use:\n *\n *  $peersUrl => init(\n *    [], // Empty array as placeholder\n *    mute($data, async u => fetch(u))\n *  )\n */\nfunction mute (neuron, fn) {\n  if (typeof fn !== 'function') throw new Error('expected a mutation function')\n  return function Mutate (syn) {\n    let prev = Promise.resolve(0)\n    return neuron(input => {\n      const output = fn(input)\n      if (\n        typeof output.then === 'function' &&\n        typeof output.catch === 'function'\n      ) {\n        prev = prev.then(() =>\n          output\n            .then(syn)\n            .catch(err => {\n              console.error('n:mute() failed: ', err)\n              syn(ERROR, err)\n            })\n        )\n      } else syn(output)\n    })\n  }\n}\n/**\n * Utility method that tests a neuron for synchronity.\n * returns true if and only if the neuron fired once immediately\n * throws error if the neuron did not fire within the grace period.\n */\nasync function isSync (neuron, ms = 100) {\n  let fired = false\n  let aFired = false\n  let set = () => { fired = true }\n  neuron(() => set())()\n  let unlock = null\n  const mutex = new Promise((resolve) => { unlock = resolve })\n  set = () => { aFired = true; unlock() } // rewrite set\n  let tid = setTimeout(() => { tid = null; unlock() }, ms) // 100ms plenty of time to resolve\n  await mutex\n  if (tid) clearTimeout(tid)\n  else if (!fired && !aFired) throw new Error('Neuron did not fire during grace period')\n  return fired && !aFired\n}\n\n/**\n * Synchronized version of isSync that throws errors\n * when async behaviour is detected.\n */\nfunction _isSync (neuron) {\n  let ii = false\n  let set = () => { ii = true }\n  neuron(() => set())()\n  set = () => { throw new Error('NeuronNotSync, subscription invoked after unsubscribe()') }\n  return ii\n}\n\n/**\n * A neuron that combines the output of multiple neurons into a single output.\n * The first output is held until all neurons have fired once.\n */\nfunction combine (...neurons) {\n  if (!Array.isArray(neurons) || !neurons.length) throw new Error('A list of neurons is required')\n  const props = []\n  // Assume combine was called with map: combine({ a: synapse1, b: synapse2 })  // => 'synapse': function\n  if (neurons.length === 1 && typeof neurons[0] !== 'function') {\n    const m = neurons[0]\n    neurons = []\n    for (const prop in m) {\n      neurons.push(m[prop])\n      props.push(prop)\n    }\n    // console.log('Combine[ObjMode]', props)\n  }\n\n  return function NeuronCombine (syn) {\n    if (typeof syn !== 'function') throw new Error('Derivation function required')\n    const loaded = []\n    const values = []\n    let remaining = neurons.length\n\n    const synapses = []\n    for (let i = 0; i < neurons.length; i++) {\n      synapses.push(neurons[i](handler.bind(null, i)))\n    }\n\n    return () => {\n      // for (const unsub of synapses) unsub()\n      for (const unsub of synapses) unsub()\n    }\n\n    function handler (i, val) {\n      if (!loaded[i]) {\n        loaded[i] = true\n        remaining--\n      }\n      values[i] = val\n      // console.log(`CombineHandler[${i}] ${neurons.map((n, i) => !!loaded[i])}`)\n      if (!remaining) {\n        props.length\n          ? syn(values.reduce((m, v, i) => (((m[props[i]] = v), m)), {}))\n          : syn(values)\n      }\n    }\n  }\n}\n\n/**\n * Shallow compares two values targeting computationally efficient\n * in-memory comparision with minimal recursion.\n * Quick returns true if a difference is detected.\n * if array, compare lengths and elements identities\n * if object, compare props count and reference identities\n * properties of object are expected to be enumerable.\n */\nfunction notEqual (a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return b.length !== a.length ||\n      !!a.find((o, i) => b[i] !== o)\n  }\n  if (\n    typeof a === 'object' &&\n    typeof b === 'object' &&\n    a !== null &&\n    b !== null\n  ) {\n    return !!((kA, kBl) => kA.length !== kBl ||\n      kA.find(p => a[p] !== b[p])\n    )(Object.keys(a), Object.keys(b).length)\n  }\n  return a !== b\n}\n\nfunction notEqualDeep (a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return b.length !== a.length ||\n      !!a.find((o, i) => notEqualDeep(b[i], o))\n  }\n  if (\n    typeof a === 'object' &&\n    typeof b === 'object' &&\n    a !== null &&\n    b !== null\n  ) {\n    return !!((kA, kBl) => kA.length !== kBl ||\n      kA.find(p => notEqualDeep(a[p], b[p]))\n    )(Object.keys(a), Object.keys(b).length)\n  }\n  return a !== b\n}\n\n/**\n * A neuron that provides a set method:\n *\n * const [$name, setName] = writable('placeholder')\n */\nfunction writable (value) {\n  const subs = new Set()\n  return [\n    function WritableSubscribe (notify) {\n      subs.add(notify)\n      notify(value)\n      return () => { subs.delete(notify) }\n    },\n    function WritableSet (val) {\n      if (notEqual(value, val)) {\n        value = val\n        for (const subcriber of subs) subcriber(val)\n      }\n      return val\n    }\n  ]\n}\n\n/**\n * Gets the synchroneous value of a neuron\n */\nfunction get (neuron) {\n  let value = null\n  neuron(v => { value = v })()\n  return value\n}\n\n/**\n * async version of get()\n * n: number of values to skip,\n * Imagine a neuron value stream to be an array:\n * ['a', 'b', 'c']\n * setting `n` to 0 will return 'a', set it to 2 to get 'c'\n*/\nasync function next (neuron, n = 1, inspect = false) {\n  let value = null\n  if (inspect) neuron = nfo(neuron, inspect)\n  for await (const v of iter(neuron, n + 1)) value = v\n  return value\n}\n\n/**\n * Converts a neuron into an iterator\n * - {neuron} Neuron to generate from\n * - {nValues} Number of values to generate, 1 will yield 1 value.\n */\nasync function * iter (neuron, nValues = 5) { // set max to -1 for eternal loop\n  const rQue = []\n  const pQue = []\n  oneMore()\n  let i = 0\n  const handler = v => {\n    if (nValues === -1 || ++i < nValues) oneMore()\n    const r = rQue.shift()\n    if (r) r(v)\n  }\n  const unsub = neuron(handler)\n  while (pQue.length) {\n    const p = pQue.shift()\n    const value = await p\n    yield value\n  }\n  unsub()\n  function oneMore () {\n    let r = null\n    const p = new Promise(resolve => { r = resolve })\n    rQue.push(r)\n    pQue.push(p)\n  }\n}\n\n/**\n * Sibling of next(), an async utility getter that\n * resolves value when 'condition' function returns truthy.\n *\n * const hiFive = await until($clock, time => t > 5)\n */\nasync function until (neuron, condition, timeout = -1) {\n  let set, setErr\n  const result = new Promise((resolve, reject) => { set = resolve; setErr = reject })\n  let timerId = null\n  if (timeout > 0) {\n    timerId = setTimeout(() => {\n      setErr(new Error('until($n) timed out'))\n    }, timeout)\n  }\n  const unsub = neuron(value => {\n    if (condition(value)) {\n      if (timerId) clearTimeout(timerId)\n      set(value)\n    }\n  })\n  result.finally(unsub)\n  return result\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict'\n\nmodule.exports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  return Object.assign(manifest, {\n    // Features of abstract-leveldown\n    bufferKeys: manifest.bufferKeys || false,\n    snapshots: manifest.snapshots || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    clear: manifest.clear || false,\n    getMany: manifest.getMany || false,\n    keyIterator: manifest.keyIterator || false,\n    valueIterator: manifest.valueIterator || false,\n    iteratorNextv: manifest.iteratorNextv || false,\n    iteratorAll: manifest.iteratorAll || false,\n\n    // Features of abstract-leveldown that levelup doesn't have\n    status: manifest.status || false,\n    idempotentOpen: manifest.idempotentOpen || false,\n    passiveOpen: manifest.passiveOpen || false,\n    serialize: manifest.serialize || false,\n\n    // Features of disk-based implementations\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n\n    // Features of level(up) that abstract-leveldown doesn't have yet\n    deferredOpen: manifest.deferredOpen || false,\n    openCallback: manifest.openCallback || false,\n    promises: manifest.promises || false,\n    streams: manifest.streams || false,\n    encodings: maybeObject(manifest.encodings),\n    events: maybeObject(manifest.events),\n\n    // Methods that are not part of abstract-leveldown or levelup\n    additionalMethods: Object.assign({}, manifest.additionalMethods)\n  })\n}\n\nfunction maybeObject (value) {\n  return !value ? false : Object.assign({}, value)\n}\n","'use strict'\n\nvar queueTick = require('queue-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { queueTick(() => callback(null, res)) })\n    .catch(function (err) { queueTick(() => callback(err)) })\n}\n","module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","'use strict'\n\nfunction AbstractIterator (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  // In callback mode, we return `this`\n  let ret = this\n\n  if (callback === undefined) {\n    ret = new Promise(function (resolve, reject) {\n      callback = function (err, key, value) {\n        if (err) reject(err)\n        else if (key === undefined && value === undefined) resolve()\n        else resolve([key, value])\n      }\n    })\n  } else if (typeof callback !== 'function') {\n    throw new Error('next() requires a callback argument')\n  }\n\n  if (this._ended) {\n    this._nextTick(callback, new Error('cannot call next() after end()'))\n    return ret\n  }\n\n  if (this._nexting) {\n    this._nextTick(callback, new Error('cannot call next() before previous next() has completed'))\n    return ret\n  }\n\n  this._nexting = true\n  this._next((err, ...rest) => {\n    this._nexting = false\n    callback(err, ...rest)\n  })\n\n  return ret\n}\n\nAbstractIterator.prototype._next = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractIterator.prototype.seek = function (target) {\n  if (this._ended) {\n    throw new Error('cannot call seek() after end()')\n  }\n  if (this._nexting) {\n    throw new Error('cannot call seek() before next() has completed')\n  }\n\n  target = this.db._serializeKey(target)\n  this._seek(target)\n}\n\nAbstractIterator.prototype._seek = function (target) {}\n\nAbstractIterator.prototype.end = function (callback) {\n  let promise\n\n  if (callback === undefined) {\n    promise = new Promise(function (resolve, reject) {\n      callback = function (err) {\n        if (err) reject(err)\n        else resolve()\n      }\n    })\n  } else if (typeof callback !== 'function') {\n    throw new Error('end() requires a callback argument')\n  }\n\n  if (this._ended) {\n    this._nextTick(callback, new Error('end() already called on iterator'))\n    return promise\n  }\n\n  this._ended = true\n  this._end(callback)\n\n  return promise\n}\n\nAbstractIterator.prototype._end = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractIterator.prototype[Symbol.asyncIterator] = async function * () {\n  try {\n    let kv\n\n    while ((kv = (await this.next())) !== undefined) {\n      yield kv\n    }\n  } finally {\n    if (!this._ended) await this.end()\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractIterator.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractIterator\n","'use strict'\n\nconst emptyOptions = Object.freeze({})\n\nfunction AbstractChainedBatch (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key) || this.db._checkValue(value)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  value = this.db._serializeValue(value)\n\n  this._put(key, value, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value, options) {\n  this._operations.push({ ...options, type: 'put', key, value })\n}\n\nAbstractChainedBatch.prototype.del = function (key, options) {\n  this._checkWritten()\n\n  const err = this.db._checkKey(key)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  this._del(key, options != null ? options : emptyOptions)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key, options) {\n  this._operations.push({ ...options, type: 'del', key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = []\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') {\n    callback = options\n  }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {}\n  }\n\n  this._written = true\n  this._write(options, callback)\n}\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback)\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractChainedBatch.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractChainedBatch\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","'use strict'\n\nconst supports = require('level-supports')\nconst isBuffer = require('is-buffer')\nconst catering = require('catering')\nconst AbstractIterator = require('./abstract-iterator')\nconst AbstractChainedBatch = require('./abstract-chained-batch')\nconst getCallback = require('./lib/common').getCallback\nconst getOptions = require('./lib/common').getOptions\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = ['lt', 'lte', 'gt', 'gte']\n\nfunction AbstractLevelDOWN (manifest) {\n  this.status = 'new'\n\n  // TODO (next major): make this mandatory\n  this.supports = supports(manifest, {\n    status: true\n  })\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  const oldStatus = this.status\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('open() requires a callback argument')\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.createIfMissing = options.createIfMissing !== false\n  options.errorIfExists = !!options.errorIfExists\n\n  this.status = 'opening'\n  this._open(options, (err) => {\n    if (err) {\n      this.status = oldStatus\n      return callback(err)\n    }\n    this.status = 'open'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._open = function (options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  const oldStatus = this.status\n\n  if (typeof callback !== 'function') {\n    throw new Error('close() requires a callback argument')\n  }\n\n  this.status = 'closing'\n  this._close((err) => {\n    if (err) {\n      this.status = oldStatus\n      return callback(err)\n    }\n    this.status = 'closed'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._close = function (callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('get() requires a callback argument')\n  }\n\n  const err = this._checkKey(key)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  options.asBuffer = options.asBuffer !== false\n\n  this._get(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._get = function (key, options, callback) {\n  this._nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.getMany = function (keys, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n  options = getOptions(options)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  if (!Array.isArray(keys)) {\n    this._nextTick(callback, new Error('getMany() requires an array argument'))\n    return callback.promise\n  }\n\n  if (keys.length === 0) {\n    this._nextTick(callback, null, [])\n    return callback.promise\n  }\n\n  if (typeof options.asBuffer !== 'boolean') {\n    options = { ...options, asBuffer: true }\n  }\n\n  const serialized = new Array(keys.length)\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i]\n    const err = this._checkKey(key)\n\n    if (err) {\n      this._nextTick(callback, err)\n      return callback.promise\n    }\n\n    serialized[i] = this._serializeKey(key)\n  }\n\n  this._getMany(serialized, options, callback)\n  return callback.promise\n}\n\nAbstractLevelDOWN.prototype._getMany = function (keys, options, callback) {\n  this._nextTick(callback, null, new Array(keys.length).fill(undefined))\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('put() requires a callback argument')\n  }\n\n  const err = this._checkKey(key) || this._checkValue(value)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._put(key, value, options, callback)\n}\n\nAbstractLevelDOWN.prototype._put = function (key, value, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  if (typeof options === 'function') callback = options\n\n  if (typeof callback !== 'function') {\n    throw new Error('del() requires a callback argument')\n  }\n\n  const err = this._checkKey(key)\n  if (err) return this._nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  this._del(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._del = function (key, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length) return this._chainedBatch()\n\n  if (typeof options === 'function') callback = options\n\n  if (typeof array === 'function') callback = array\n\n  if (typeof callback !== 'function') {\n    throw new Error('batch(array) requires a callback argument')\n  }\n\n  if (!Array.isArray(array)) {\n    return this._nextTick(callback, new Error('batch(array) requires an array argument'))\n  }\n\n  if (array.length === 0) {\n    return this._nextTick(callback)\n  }\n\n  if (typeof options !== 'object' || options === null) options = {}\n\n  const serialized = new Array(array.length)\n\n  for (let i = 0; i < array.length; i++) {\n    if (typeof array[i] !== 'object' || array[i] === null) {\n      return this._nextTick(callback, new Error('batch(array) element must be an object and not `null`'))\n    }\n\n    const e = Object.assign({}, array[i])\n\n    if (e.type !== 'put' && e.type !== 'del') {\n      return this._nextTick(callback, new Error(\"`type` must be 'put' or 'del'\"))\n    }\n\n    const err = this._checkKey(e.key)\n    if (err) return this._nextTick(callback, err)\n\n    e.key = this._serializeKey(e.key)\n\n    if (e.type === 'put') {\n      const valueErr = this._checkValue(e.value)\n      if (valueErr) return this._nextTick(callback, valueErr)\n\n      e.value = this._serializeValue(e.value)\n    }\n\n    serialized[i] = e\n  }\n\n  this._batch(serialized, options, callback)\n}\n\nAbstractLevelDOWN.prototype._batch = function (array, options, callback) {\n  this._nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.clear = function (options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n  } else if (typeof callback !== 'function') {\n    throw new Error('clear() requires a callback argument')\n  }\n\n  options = cleanRangeOptions(this, options)\n  options.reverse = !!options.reverse\n  options.limit = 'limit' in options ? options.limit : -1\n\n  this._clear(options, callback)\n}\n\nAbstractLevelDOWN.prototype._clear = function (options, callback) {\n  // Avoid setupIteratorOptions, would serialize range options a second time.\n  options.keys = true\n  options.values = false\n  options.keyAsBuffer = true\n  options.valueAsBuffer = true\n\n  const iterator = this._iterator(options)\n  const emptyOptions = {}\n\n  const next = (err) => {\n    if (err) {\n      return iterator.end(function () {\n        callback(err)\n      })\n    }\n\n    iterator.next((err, key) => {\n      if (err) return next(err)\n      if (key === undefined) return iterator.end(callback)\n\n      // This could be optimized by using a batch, but the default _clear\n      // is not meant to be fast. Implementations have more room to optimize\n      // if they override _clear. Note: using _del bypasses key serialization.\n      this._del(key, emptyOptions, next)\n    })\n  }\n\n  next()\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  options = cleanRangeOptions(this, options)\n\n  options.reverse = !!options.reverse\n  options.keys = options.keys !== false\n  options.values = options.values !== false\n  options.limit = 'limit' in options ? options.limit : -1\n  options.keyAsBuffer = options.keyAsBuffer !== false\n  options.valueAsBuffer = options.valueAsBuffer !== false\n\n  return options\n}\n\nfunction cleanRangeOptions (db, options) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n\n    if (k === 'start' || k === 'end') {\n      throw new Error('Legacy range options (\"start\" and \"end\") have been removed')\n    }\n\n    let opt = options[k]\n\n    if (isRangeOption(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      opt = db._serializeKey(opt)\n    }\n\n    result[k] = opt\n  }\n\n  return result\n}\n\nfunction isRangeOption (k) {\n  return rangeOptions.indexOf(k) !== -1\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options !== 'object' || options === null) options = {}\n  options = this._setupIteratorOptions(options)\n  return this._iterator(options)\n}\n\nAbstractLevelDOWN.prototype._iterator = function (options) {\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._serializeKey = function (key) {\n  return key\n}\n\nAbstractLevelDOWN.prototype._serializeValue = function (value) {\n  return value\n}\n\nAbstractLevelDOWN.prototype._checkKey = function (key) {\n  if (key === null || key === undefined) {\n    return new Error('key cannot be `null` or `undefined`')\n  } else if (isBuffer(key) && key.length === 0) { // TODO: replace with typed array check\n    return new Error('key cannot be an empty Buffer')\n  } else if (key === '') {\n    return new Error('key cannot be an empty String')\n  } else if (Array.isArray(key) && key.length === 0) {\n    return new Error('key cannot be an empty Array')\n  }\n}\n\nAbstractLevelDOWN.prototype._checkValue = function (value) {\n  if (value === null || value === undefined) {\n    return new Error('value cannot be `null` or `undefined`')\n  }\n}\n\n// TODO: docs and tests\nAbstractLevelDOWN.prototype.isOperational = function () {\n  return this.status === 'open' || this._isOperational()\n}\n\n// Implementation may accept operations in other states too\nAbstractLevelDOWN.prototype._isOperational = function () {\n  return false\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: rename _nextTick to _queueMicrotask\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevelDOWN.prototype._nextTick = require('./next-tick')\n\nmodule.exports = AbstractLevelDOWN\n\nfunction maybeError (db, callback) {\n  if (!db.isOperational()) {\n    db._nextTick(callback, new Error('Database is not open'))\n    return true\n  }\n\n  return false\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nexports.AbstractLevelDOWN = require('./abstract-leveldown')\nexports.AbstractIterator = require('./abstract-iterator')\nexports.AbstractChainedBatch = require('./abstract-chained-batch')\n","'use strict'\n\nexports.getCallback = function (args, symbol, map) {\n  let callback = args[args.length - 1]\n\n  if (typeof callback !== 'function') {\n    const promise = new Promise((resolve, reject) => {\n      args.push(callback = function (err, ...results) {\n        if (err) reject(err)\n        else resolve(map ? map(...results) : results[0])\n      })\n    })\n\n    callback[symbol] = promise\n  }\n\n  return callback\n}\n","'use strict'\n\nconst { AbstractIterator } = require('abstract-leveldown')\nconst inherits = require('inherits')\nconst getCallback = require('./util').getCallback\n\nconst kOptions = Symbol('options')\nconst kIterator = Symbol('iterator')\nconst kOperations = Symbol('operations')\nconst kPromise = Symbol('promise')\n\nfunction DeferredIterator (db, options) {\n  AbstractIterator.call(this, db)\n\n  this[kOptions] = options\n  this[kIterator] = null\n  this[kOperations] = []\n}\n\ninherits(DeferredIterator, AbstractIterator)\n\nDeferredIterator.prototype.setDb = function (db) {\n  this[kIterator] = db.iterator(this[kOptions])\n\n  for (const op of this[kOperations].splice(0, this[kOperations].length)) {\n    this[kIterator][op.method](...op.args)\n  }\n}\n\nDeferredIterator.prototype.next = function (...args) {\n  if (this.db.status === 'open') {\n    return this[kIterator].next(...args)\n  }\n\n  const callback = getCallback(args, kPromise, function map (key, value) {\n    if (key === undefined && value === undefined) {\n      return undefined\n    } else {\n      return [key, value]\n    }\n  })\n\n  if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'next', args })\n  } else {\n    this._nextTick(callback, new Error('Database is not open'))\n  }\n\n  return callback[kPromise] || this\n}\n\nDeferredIterator.prototype.seek = function (...args) {\n  if (this.db.status === 'open') {\n    this[kIterator].seek(...args)\n  } else if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'seek', args })\n  } else {\n    throw new Error('Database is not open')\n  }\n}\n\nDeferredIterator.prototype.end = function (...args) {\n  if (this.db.status === 'open') {\n    return this[kIterator].end(...args)\n  }\n\n  const callback = getCallback(args, kPromise)\n\n  if (this.db.status === 'opening') {\n    this[kOperations].push({ method: 'end', args })\n  } else {\n    this._nextTick(callback, new Error('Database is not open'))\n  }\n\n  return callback[kPromise] || this\n}\n\nfor (const method of ['next', 'seek', 'end']) {\n  DeferredIterator.prototype['_' + method] = function () {\n    /* istanbul ignore next: assertion */\n    throw new Error('Did not expect private method to be called: ' + method)\n  }\n}\n\nmodule.exports = DeferredIterator\n","'use strict'\n\nconst { AbstractChainedBatch } = require('abstract-leveldown')\nconst kOperations = Symbol('operations')\n\nmodule.exports = class DeferredChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kOperations] = []\n  }\n\n  _put (key, value, options) {\n    this[kOperations].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kOperations].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kOperations] = []\n  }\n\n  _write (options, callback) {\n    // AbstractChainedBatch would call _batch(), we call batch()\n    this.db.batch(this[kOperations], options, callback)\n  }\n}\n","'use strict'\n\nconst { AbstractLevelDOWN } = require('abstract-leveldown')\nconst inherits = require('inherits')\nconst DeferredIterator = require('./deferred-iterator')\nconst DeferredChainedBatch = require('./deferred-chained-batch')\nconst getCallback = require('./util').getCallback\n\nconst deferrables = ['put', 'get', 'getMany', 'del', 'batch', 'clear']\nconst optionalDeferrables = ['approximateSize', 'compactRange']\n\nconst kInnerDb = Symbol('innerDb')\nconst kOperations = Symbol('operations')\nconst kPromise = Symbol('promise')\n\nfunction DeferredLevelDOWN (db) {\n  AbstractLevelDOWN.call(this, db.supports || {})\n\n  // TODO (future major): remove this fallback; db must have manifest that\n  // declares approximateSize and compactRange in additionalMethods.\n  for (const m of optionalDeferrables) {\n    if (typeof db[m] === 'function' && !this.supports.additionalMethods[m]) {\n      this.supports.additionalMethods[m] = true\n    }\n  }\n\n  this[kInnerDb] = db\n  this[kOperations] = []\n\n  implement(this)\n}\n\ninherits(DeferredLevelDOWN, AbstractLevelDOWN)\n\nDeferredLevelDOWN.prototype.type = 'deferred-leveldown'\n\n// Backwards compatibility for reachdown and subleveldown\nObject.defineProperty(DeferredLevelDOWN.prototype, '_db', {\n  enumerable: true,\n  get () {\n    return this[kInnerDb]\n  }\n})\n\nDeferredLevelDOWN.prototype._open = function (options, callback) {\n  const onopen = (err) => {\n    if (err || this[kInnerDb].status !== 'open') {\n      // TODO: reject scheduled operations\n      return callback(err || new Error('Database is not open'))\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      if (op.iterator) {\n        op.iterator.setDb(this[kInnerDb])\n      } else {\n        this[kInnerDb][op.method](...op.args)\n      }\n    }\n\n    /* istanbul ignore if: assertion */\n    if (this[kOperations].length > 0) {\n      throw new Error('Did not expect further operations')\n    }\n\n    callback()\n  }\n\n  if (this[kInnerDb].status === 'new' || this[kInnerDb].status === 'closed') {\n    this[kInnerDb].open(options, onopen)\n  } else {\n    this._nextTick(onopen)\n  }\n}\n\nDeferredLevelDOWN.prototype._close = function (callback) {\n  this[kInnerDb].close(callback)\n}\n\nDeferredLevelDOWN.prototype._isOperational = function () {\n  return this.status === 'opening'\n}\n\nfunction implement (self) {\n  const additionalMethods = Object.keys(self.supports.additionalMethods)\n\n  for (const method of deferrables.concat(additionalMethods)) {\n    // Override the public rather than private methods to cover cases where abstract-leveldown\n    // has a fast-path like on db.batch([]) which bypasses _batch() because the array is empty.\n    self[method] = function (...args) {\n      if (method === 'batch' && args.length === 0) {\n        return new DeferredChainedBatch(this)\n      } else if (this.status === 'open') {\n        return this[kInnerDb][method](...args)\n      }\n\n      const callback = getCallback(args, kPromise)\n\n      if (this.status === 'opening') {\n        this[kOperations].push({ method, args })\n      } else {\n        this._nextTick(callback, new Error('Database is not open'))\n      }\n\n      return callback[kPromise]\n    }\n  }\n\n  self.iterator = function (options) {\n    if (this.status === 'open') {\n      return this[kInnerDb].iterator(options)\n    } else if (this.status === 'opening') {\n      const iterator = new DeferredIterator(this, options)\n      this[kOperations].push({ iterator })\n      return iterator\n    } else {\n      throw new Error('Database is not open')\n    }\n  }\n\n  for (const method of deferrables.concat(['iterator'])) {\n    self['_' + method] = function () {\n      /* istanbul ignore next: assertion */\n      throw new Error('Did not expect private method to be called: ' + method)\n    }\n  }\n}\n\nmodule.exports = DeferredLevelDOWN\nmodule.exports.DeferredIterator = DeferredIterator\n","module.exports = require('events').EventEmitter;\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","'use strict'\n\nconst inherits = require('inherits')\nconst { Readable } = require('readable-stream')\n\nmodule.exports = ReadStream\ninherits(ReadStream, Readable)\n\nfunction ReadStream (iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options)\n  options = options || {}\n  Readable.call(this, Object.assign({}, options, {\n    objectMode: true\n  }))\n  this._iterator = iterator\n  this._options = options\n  this.on('end', this.destroy.bind(this, null, null))\n}\n\nReadStream.prototype._read = function () {\n  if (this.destroyed) return\n\n  this._iterator.next((err, key, value) => {\n    if (this.destroyed) return\n    if (err) return this.destroy(err)\n\n    if (key === undefined && value === undefined) {\n      this.push(null)\n    } else if (this._options.keys !== false && this._options.values === false) {\n      this.push(key)\n    } else if (this._options.keys === false && this._options.values !== false) {\n      this.push(value)\n    } else {\n      this.push({ key, value })\n    }\n  })\n}\n\nReadStream.prototype._destroy = function (err, callback) {\n  this._iterator.end(function (err2) {\n    callback(err || err2)\n  })\n}\n","'use strict'\n\nfunction createError (type, Proto) {\n  const Err = function (message, cause) {\n    if (typeof message === 'object' && message !== null) {\n      // Can be passed just a cause\n      cause = cause || message\n      message = message.message || message.name\n    }\n\n    message = message || ''\n    cause = cause || undefined\n\n    // If input is already of type, return as-is to keep its stack trace.\n    // Avoid instanceof, for when node_modules has multiple copies of level-errors.\n    if (typeof cause === 'object' && cause.type === type && cause.message === message) {\n      return cause\n    }\n\n    Object.defineProperty(this, 'type', { value: type, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'name', { value: type, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'cause', { value: cause, enumerable: false, writable: true, configurable: true })\n    Object.defineProperty(this, 'message', { value: message, enumerable: false, writable: true, configurable: true })\n\n    Error.call(this)\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, Err)\n    }\n  }\n\n  Err.prototype = new Proto()\n  return Err\n}\n\nconst LevelUPError = createError('LevelUPError', Error)\n\nmodule.exports = {\n  LevelUPError: LevelUPError,\n  InitializationError: createError('InitializationError', LevelUPError),\n  OpenError: createError('OpenError', LevelUPError),\n  ReadError: createError('ReadError', LevelUPError),\n  WriteError: createError('WriteError', LevelUPError),\n  NotFoundError: createError('NotFoundError', LevelUPError),\n  EncodingError: createError('EncodingError', LevelUPError)\n}\n\nmodule.exports.NotFoundError.prototype.notFound = true\nmodule.exports.NotFoundError.prototype.status = 404\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","'use strict'\n\nconst WriteError = require('level-errors').WriteError\nconst catering = require('catering')\nconst getCallback = require('./common').getCallback\nconst getOptions = require('./common').getOptions\n\nfunction Batch (levelup) {\n  this.db = levelup\n  this.batch = levelup.db.batch()\n  this.ops = []\n  this.length = 0\n}\n\nBatch.prototype.put = function (key, value, options) {\n  try {\n    this.batch.put(key, value, options)\n  } catch (e) {\n    throw new WriteError(e)\n  }\n\n  this.ops.push({ ...options, type: 'put', key, value })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.del = function (key, options) {\n  try {\n    this.batch.del(key, options)\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops.push({ ...options, type: 'del', key })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.clear = function () {\n  try {\n    this.batch.clear()\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops = []\n  this.length = 0\n\n  return this\n}\n\nBatch.prototype.write = function (options, callback) {\n  const levelup = this.db\n  const ops = this.ops\n\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n  options = getOptions(options)\n\n  try {\n    this.batch.write(options, function (err) {\n      if (err) { return callback(new WriteError(err)) }\n      levelup.emit('batch', ops)\n      callback()\n    })\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  return callback.promise\n}\n\nmodule.exports = Batch\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst DeferredLevelDOWN = require('deferred-leveldown')\nconst IteratorStream = require('level-iterator-stream')\nconst Batch = require('./batch')\nconst errors = require('level-errors')\nconst supports = require('level-supports')\nconst catering = require('catering')\nconst getCallback = require('./common').getCallback\nconst getOptions = require('./common').getOptions\n\n// TODO: after we drop node 10, also use queueMicrotask() in node\nconst nextTick = require('./next-tick')\n\nconst WriteError = errors.WriteError\nconst ReadError = errors.ReadError\nconst NotFoundError = errors.NotFoundError\nconst OpenError = errors.OpenError\nconst InitializationError = errors.InitializationError\n\nfunction LevelUP (db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback)\n  }\n\n  let error\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  options = options || {}\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store')\n    if (typeof callback === 'function') {\n      return nextTick(callback, error)\n    }\n    throw error\n  }\n\n  if (typeof db.status !== 'string') {\n    throw new Error('.status required, old abstract-leveldown')\n  }\n\n  this.options = getOptions(options)\n  this._db = db\n  this.db = null\n  this.open(callback || ((err) => {\n    if (err) this.emit('error', err)\n  }))\n\n  // Create manifest based on deferred-leveldown's\n  this.supports = supports(this.db.supports, {\n    status: true,\n    deferredOpen: true,\n    openCallback: true,\n    promises: true,\n    streams: true\n  })\n\n  // Experimental: enrich levelup interface\n  for (const method of Object.keys(this.supports.additionalMethods)) {\n    if (this[method] != null) continue\n\n    // Don't do this.db[method].bind() because this.db is dynamic.\n    this[method] = function (...args) {\n      return this.db[method](...args)\n    }\n  }\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit\nLevelUP.prototype.once = EventEmitter.prototype.once\ninherits(LevelUP, EventEmitter)\n\n// TODO: tests\nObject.defineProperty(LevelUP.prototype, 'status', {\n  enumerable: true,\n  get () {\n    return this.db.status\n  }\n})\n\n// TODO: tests\nLevelUP.prototype.isOperational = function () {\n  return this.db.status === 'open' || this.db.status === 'opening'\n}\n\nLevelUP.prototype.open = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = null\n  }\n\n  callback = catering.fromCallback(callback)\n\n  if (!opts) {\n    opts = this.options\n  }\n\n  // 1) Don't check db.status until levelup has opened,\n  // in order for levelup events to be consistent\n  if (this.db && this.isOpen()) {\n    nextTick(callback, null, this)\n    return callback.promise\n  }\n\n  if (this.db && this._isOpening()) {\n    this.once('open', () => { callback(null, this) })\n    return callback.promise\n  }\n\n  // 2) Instead let deferred-leveldown handle already-open cases.\n  // TODO: ideally though, levelup would have its own status\n  this.db = new DeferredLevelDOWN(this._db)\n  this.emit('opening')\n\n  this.db.open(opts, (err) => {\n    if (err) {\n      return callback(new OpenError(err))\n    }\n    this.db = this._db\n    callback(null, this)\n    this.emit('open')\n    this.emit('ready')\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.close = function (callback) {\n  callback = catering.fromCallback(callback)\n\n  if (this.isOpen()) {\n    this.db.close((err, ...rest) => {\n      this.emit('closed')\n      callback(err, ...rest)\n    })\n    this.emit('closing')\n  } else if (this.isClosed()) {\n    nextTick(callback)\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', () => {\n      this.close(callback)\n    })\n  }\n\n  return callback.promise\n}\n\n// TODO: remove in future major\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open'\n}\n\n// TODO: remove in future major\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening'\n}\n\n// TODO: remove in future major\nLevelUP.prototype.isClosed = function () {\n  return (/^clos|new/).test(this.db.status)\n}\n\nLevelUP.prototype.get = function (key, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return callback(err)\n    }\n    callback(null, value)\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.getMany = function (keys, options, callback) {\n  return this.db.getMany(keys, options, callback)\n}\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.put(key, value, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('put', key, value)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.del = function (key, options, callback) {\n  callback = getCallback(options, callback)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.del(key, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('del', key)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this)\n  }\n\n  if (typeof arr === 'function') callback = arr\n  else callback = getCallback(options, callback)\n\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  options = getOptions(options)\n\n  this.db.batch(arr, options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('batch', arr)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options)\n}\n\nLevelUP.prototype.clear = function (options, callback) {\n  callback = getCallback(options, callback)\n  options = getOptions(options)\n  callback = catering.fromCallback(callback)\n\n  if (maybeError(this, callback)) {\n    return callback.promise\n  }\n\n  this.db.clear(options, (err) => {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    this.emit('clear', options)\n    callback()\n  })\n\n  return callback.promise\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  options = Object.assign({ keys: true, values: true }, options)\n  if (typeof options.limit !== 'number') { options.limit = -1 }\n  return new IteratorStream(this.db.iterator(options), options)\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(Object.assign({}, options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(Object.assign({}, options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nLevelUP.prototype.type = 'levelup'\n\n// Expose nextTick for API parity with abstract-leveldown\nLevelUP.prototype._nextTick = nextTick\n\nfunction maybeError (db, callback) {\n  if (!db.isOperational()) {\n    nextTick(callback, new ReadError('Database is not open'))\n    return true\n  }\n\n  return false\n}\n\nLevelUP.errors = errors\nmodule.exports = LevelUP\n","/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallelLimit\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallelLimit (tasks, limit, cb) {\n  if (typeof limit !== 'number') throw new Error('second argument must be a Number')\n  let results, len, pending, keys, isErrored\n  let isSync = true\n  let next\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = len = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = len = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (err) isErrored = true\n    if (--pending === 0 || err) {\n      done(err)\n    } else if (!isErrored && next < len) {\n      let key\n      if (keys) {\n        key = keys[next]\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      } else {\n        key = next\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      }\n    }\n  }\n\n  next = limit\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.some(function (key, i) {\n      tasks[key](function (err, result) { each(key, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  } else {\n    // array\n    tasks.some(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  }\n\n  isSync = false\n}\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range, def) {\n  var k = lowerBoundKey(range)\n  return k ? range[k] : def\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range, def) {\n  var k = upperBoundKey(range)\n  return k ? range[k] : def\n}\n\nexports.start = function (range, def) {\n  return range.reverse ? upperBound(range, def) : lowerBound(range, def)\n}\nexports.end = function (range, def) {\n  return range.reverse ? lowerBound(range, def) : upperBound(range, def)\n}\nexports.startInclusive = function (range) {\n  return (\n    range.reverse\n  ? upperBoundInclusive(range)\n  : lowerBoundInclusive(range)\n  )\n}\nexports.endInclusive = function (range) {\n  return (\n    range.reverse\n  ? lowerBoundInclusive(range)\n  : upperBoundInclusive(range)\n  )\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n","/* global IDBKeyRange */\n\n'use strict'\n\nconst ltgt = require('ltgt')\nconst NONE = Symbol('none')\n\nmodule.exports = function createKeyRange (options) {\n  const lower = ltgt.lowerBound(options, NONE)\n  const upper = ltgt.upperBound(options, NONE)\n  const lowerOpen = ltgt.lowerBoundExclusive(options, NONE)\n  const upperOpen = ltgt.upperBoundExclusive(options, NONE)\n\n  if (lower !== NONE && upper !== NONE) {\n    return IDBKeyRange.bound(lower, upper, lowerOpen, upperOpen)\n  } else if (lower !== NONE) {\n    return IDBKeyRange.lowerBound(lower, lowerOpen)\n  } else if (upper !== NONE) {\n    return IDBKeyRange.upperBound(upper, upperOpen)\n  } else {\n    return null\n  }\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\nconst ta2str = (function () {\n  if (global.TextDecoder) {\n    const decoder = new TextDecoder('utf-8')\n    return decoder.decode.bind(decoder)\n  } else {\n    return function ta2str (ta) {\n      return ta2buf(ta).toString()\n    }\n  }\n})()\n\nconst ab2str = (function () {\n  if (global.TextDecoder) {\n    const decoder = new TextDecoder('utf-8')\n    return decoder.decode.bind(decoder)\n  } else {\n    return function ab2str (ab) {\n      return Buffer.from(ab).toString()\n    }\n  }\n})()\n\nfunction ta2buf (ta) {\n  const buf = Buffer.from(ta.buffer)\n\n  if (ta.byteLength === ta.buffer.byteLength) {\n    return buf\n  } else {\n    return buf.slice(ta.byteOffset, ta.byteOffset + ta.byteLength)\n  }\n}\n\nmodule.exports = function (data, asBuffer) {\n  if (data instanceof Uint8Array) {\n    return asBuffer ? ta2buf(data) : ta2str(data)\n  } else if (data instanceof ArrayBuffer) {\n    return asBuffer ? Buffer.from(data) : ab2str(data)\n  } else {\n    return asBuffer ? Buffer.from(String(data)) : String(data)\n  }\n}\n","'use strict'\n\nconst inherits = require('inherits')\nconst AbstractIterator = require('abstract-leveldown').AbstractIterator\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\nconst noop = function () {}\n\nmodule.exports = Iterator\n\nfunction Iterator (db, location, options) {\n  AbstractIterator.call(this, db)\n\n  this._limit = options.limit\n  this._count = 0\n  this._callback = null\n  this._cache = []\n  this._completed = false\n  this._aborted = false\n  this._error = null\n  this._transaction = null\n\n  this._keys = options.keys\n  this._values = options.values\n  this._keyAsBuffer = options.keyAsBuffer\n  this._valueAsBuffer = options.valueAsBuffer\n\n  if (this._limit === 0) {\n    this._completed = true\n    return\n  }\n\n  let keyRange\n\n  try {\n    keyRange = createKeyRange(options)\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just return 0 results.\n    this._completed = true\n    return\n  }\n\n  this.createIterator(location, keyRange, options.reverse)\n}\n\ninherits(Iterator, AbstractIterator)\n\nIterator.prototype.createIterator = function (location, keyRange, reverse) {\n  const transaction = this.db.db.transaction([location], 'readonly')\n  const store = transaction.objectStore(location)\n  const req = store.openCursor(keyRange, reverse ? 'prev' : 'next')\n\n  req.onsuccess = (ev) => {\n    const cursor = ev.target.result\n    if (cursor) this.onItem(cursor)\n  }\n\n  this._transaction = transaction\n\n  // If an error occurs (on the request), the transaction will abort.\n  transaction.onabort = () => {\n    this.onAbort(this._transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = () => {\n    this.onComplete()\n  }\n}\n\nIterator.prototype.onItem = function (cursor) {\n  this._cache.push(cursor.key, cursor.value)\n\n  if (this._limit <= 0 || ++this._count < this._limit) {\n    cursor.continue()\n  }\n\n  this.maybeNext()\n}\n\nIterator.prototype.onAbort = function (err) {\n  this._aborted = true\n  this._error = err\n  this.maybeNext()\n}\n\nIterator.prototype.onComplete = function () {\n  this._completed = true\n  this.maybeNext()\n}\n\nIterator.prototype.maybeNext = function () {\n  if (this._callback) {\n    this._next(this._callback)\n    this._callback = null\n  }\n}\n\nIterator.prototype._next = function (callback) {\n  if (this._aborted) {\n    // The error should be picked up by either next() or end().\n    const err = this._error\n    this._error = null\n    this._nextTick(callback, err)\n  } else if (this._cache.length > 0) {\n    let key = this._cache.shift()\n    let value = this._cache.shift()\n\n    if (this._keys && key !== undefined) {\n      key = this._deserializeKey(key, this._keyAsBuffer)\n    } else {\n      key = undefined\n    }\n\n    if (this._values && value !== undefined) {\n      value = this._deserializeValue(value, this._valueAsBuffer)\n    } else {\n      value = undefined\n    }\n\n    this._nextTick(callback, null, key, value)\n  } else if (this._completed) {\n    this._nextTick(callback)\n  } else {\n    this._callback = callback\n  }\n}\n\n// Exposed for the v4 to v5 upgrade utility\nIterator.prototype._deserializeKey = deserialize\nIterator.prototype._deserializeValue = deserialize\n\nIterator.prototype._end = function (callback) {\n  if (this._aborted || this._completed) {\n    return this._nextTick(callback, this._error)\n  }\n\n  // Don't advance the cursor anymore, and the transaction will complete\n  // on its own in the next tick. This approach is much cleaner than calling\n  // transaction.abort() with its unpredictable event order.\n  this.onItem = noop\n  this.onAbort = callback\n  this.onComplete = callback\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\n// Returns either a Uint8Array or Buffer (doesn't matter to\n// IndexedDB, because Buffer is a subclass of Uint8Array)\nconst str2bin = (function () {\n  if (global.TextEncoder) {\n    const encoder = new TextEncoder('utf-8')\n    return encoder.encode.bind(encoder)\n  } else {\n    return Buffer.from\n  }\n})()\n\nmodule.exports = function (data, asBuffer) {\n  if (asBuffer) {\n    return Buffer.isBuffer(data) ? data : str2bin(String(data))\n  } else {\n    return String(data)\n  }\n}\n","'use strict'\n\nconst Buffer = require('buffer').Buffer\n\nexports.test = function (key) {\n  return function test (impl) {\n    try {\n      impl.cmp(key, 0)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n}\n\n// Detect binary key support (IndexedDB Second Edition)\nexports.bufferKeys = exports.test(Buffer.alloc(0))\n","/* global indexedDB */\n\n'use strict'\n\nmodule.exports = Level\n\nconst AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nconst inherits = require('inherits')\nconst parallel = require('run-parallel-limit')\nconst Iterator = require('./iterator')\nconst serialize = require('./util/serialize')\nconst deserialize = require('./util/deserialize')\nconst support = require('./util/support')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\nconst DEFAULT_PREFIX = 'level-js-'\n\nfunction Level (location, opts) {\n  if (!(this instanceof Level)) return new Level(location, opts)\n\n  AbstractLevelDOWN.call(this, {\n    bufferKeys: support.bufferKeys(indexedDB),\n    snapshots: true,\n    permanence: true,\n    clear: true,\n    getMany: true\n  })\n\n  opts = opts || {}\n\n  if (typeof location !== 'string') {\n    throw new Error('constructor requires a location string argument')\n  }\n\n  this.location = location\n  this.prefix = opts.prefix == null ? DEFAULT_PREFIX : opts.prefix\n  this.version = parseInt(opts.version || 1, 10)\n}\n\ninherits(Level, AbstractLevelDOWN)\n\nLevel.prototype.type = 'level-js'\n\nLevel.prototype._open = function (options, callback) {\n  const req = indexedDB.open(this.prefix + this.location, this.version)\n\n  req.onerror = function () {\n    callback(req.error || new Error('unknown error'))\n  }\n\n  req.onsuccess = () => {\n    this.db = req.result\n    callback()\n  }\n\n  req.onupgradeneeded = (ev) => {\n    const db = ev.target.result\n\n    if (!db.objectStoreNames.contains(this.location)) {\n      db.createObjectStore(this.location)\n    }\n  }\n}\n\nLevel.prototype.store = function (mode) {\n  const transaction = this.db.transaction([this.location], mode)\n  return transaction.objectStore(this.location)\n}\n\nLevel.prototype.await = function (request, callback) {\n  const transaction = request.transaction\n\n  // Take advantage of the fact that a non-canceled request error aborts\n  // the transaction. I.e. no need to listen for \"request.onerror\".\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback(null, request.result)\n  }\n}\n\nLevel.prototype._get = function (key, options, callback) {\n  const store = this.store('readonly')\n  let req\n\n  try {\n    req = store.get(key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, function (err, value) {\n    if (err) return callback(err)\n\n    if (value === undefined) {\n      // 'NotFound' error, consistent with LevelDOWN API\n      return callback(new Error('NotFound'))\n    }\n\n    callback(null, deserialize(value, options.asBuffer))\n  })\n}\n\nLevel.prototype._getMany = function (keys, options, callback) {\n  const asBuffer = options.asBuffer\n  const store = this.store('readonly')\n  const tasks = keys.map((key) => (next) => {\n    let request\n\n    try {\n      request = store.get(key)\n    } catch (err) {\n      return next(err)\n    }\n\n    request.onsuccess = () => {\n      const value = request.result\n      next(null, value === undefined ? value : deserialize(value, asBuffer))\n    }\n\n    request.onerror = (ev) => {\n      ev.stopPropagation()\n      next(request.error)\n    }\n  })\n\n  parallel(tasks, 16, callback)\n}\n\nLevel.prototype._del = function (key, options, callback) {\n  const store = this.store('readwrite')\n  let req\n\n  try {\n    req = store.delete(key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._put = function (key, value, options, callback) {\n  const store = this.store('readwrite')\n  let req\n\n  try {\n    // Will throw a DataError or DataCloneError if the environment\n    // does not support serializing the key or value respectively.\n    req = store.put(value, key)\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._serializeKey = function (key) {\n  return serialize(key, this.supports.bufferKeys)\n}\n\nLevel.prototype._serializeValue = function (value) {\n  return serialize(value, true)\n}\n\nLevel.prototype._iterator = function (options) {\n  return new Iterator(this, this.location, options)\n}\n\nLevel.prototype._batch = function (operations, options, callback) {\n  if (operations.length === 0) return this._nextTick(callback)\n\n  const store = this.store('readwrite')\n  const transaction = store.transaction\n  let index = 0\n  let error\n\n  transaction.onabort = function () {\n    callback(error || transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  // Wait for a request to complete before making the next, saving CPU.\n  function loop () {\n    const op = operations[index++]\n    const key = op.key\n\n    let req\n\n    try {\n      req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n    } catch (err) {\n      error = err\n      transaction.abort()\n      return\n    }\n\n    if (index < operations.length) {\n      req.onsuccess = loop\n    }\n  }\n\n  loop()\n}\n\nLevel.prototype._clear = function (options, callback) {\n  let keyRange\n  let req\n\n  try {\n    keyRange = createKeyRange(options)\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just do nothing.\n    return this._nextTick(callback)\n  }\n\n  if (options.limit >= 0) {\n    // IDBObjectStore#delete(range) doesn't have such an option.\n    // Fall back to cursor-based implementation.\n    return clear(this, this.location, keyRange, options, callback)\n  }\n\n  try {\n    const store = this.store('readwrite')\n    req = keyRange ? store.delete(keyRange) : store.clear()\n  } catch (err) {\n    return this._nextTick(callback, err)\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._close = function (callback) {\n  this.db.close()\n  this._nextTick(callback)\n}\n\n// NOTE: remove in a next major release\nLevel.prototype.upgrade = function (callback) {\n  if (this.status !== 'open') {\n    return this._nextTick(callback, new Error('cannot upgrade() before open()'))\n  }\n\n  const it = this.iterator()\n  const batchOptions = {}\n  const self = this\n\n  it._deserializeKey = it._deserializeValue = identity\n  next()\n\n  function next (err) {\n    if (err) return finish(err)\n    it.next(each)\n  }\n\n  function each (err, key, value) {\n    if (err || key === undefined) {\n      return finish(err)\n    }\n\n    const newKey = self._serializeKey(deserialize(key, true))\n    const newValue = self._serializeValue(deserialize(value, true))\n\n    // To bypass serialization on the old key, use _batch() instead of batch().\n    // NOTE: if we disable snapshotting (#86) this could lead to a loop of\n    // inserting and then iterating those same entries, because the new keys\n    // possibly sort after the old keys.\n    self._batch([\n      { type: 'del', key: key },\n      { type: 'put', key: newKey, value: newValue }\n    ], batchOptions, next)\n  }\n\n  function finish (err) {\n    it.end(function (err2) {\n      callback(err || err2)\n    })\n  }\n\n  function identity (data) {\n    return data\n  }\n}\n\nLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n  const request = indexedDB.deleteDatabase(prefix + location)\n  request.onsuccess = function () {\n    callback()\n  }\n  request.onerror = function (err) {\n    callback(err)\n  }\n}\n","'use strict'\n\nmodule.exports = function clear (db, location, keyRange, options, callback) {\n  if (options.limit === 0) return db._nextTick(callback)\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n  let count = 0\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n}\n","/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n/* Geohash encoding/decoding and associated functions   (c) Chris Veness 2014-2019 / MIT Licence  */\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\nconst base32 = '0123456789bcdefghjkmnpqrstuvwxyz'; // (geohash-specific) Base32 map\n\n\n/**\n * Geohash: Gustavo Niemeyer’s geocoding system.\n */\nclass Geohash {\n\n    /**\n     * Encodes latitude/longitude to geohash, either to specified precision or to automatically\n     * evaluated precision.\n     *\n     * @param   {number} lat - Latitude in degrees.\n     * @param   {number} lon - Longitude in degrees.\n     * @param   {number} [precision] - Number of characters in resulting geohash.\n     * @returns {string} Geohash of supplied latitude/longitude.\n     * @throws  Invalid geohash.\n     *\n     * @example\n     *     const geohash = Geohash.encode(52.205, 0.119, 7); // => 'u120fxw'\n     */\n    static encode(lat, lon, precision) {\n        // infer precision?\n        if (typeof precision == 'undefined') {\n            // refine geohash until it matches precision of supplied lat/lon\n            for (let p=1; p<=12; p++) {\n                const hash = Geohash.encode(lat, lon, p);\n                const posn = Geohash.decode(hash);\n                if (posn.lat==lat && posn.lon==lon) return hash;\n            }\n            precision = 12; // set to maximum\n        }\n\n        lat = Number(lat);\n        lon = Number(lon);\n        precision = Number(precision);\n\n        if (isNaN(lat) || isNaN(lon) || isNaN(precision)) throw new Error('Invalid geohash');\n\n        let idx = 0; // index into base32 map\n        let bit = 0; // each char holds 5 bits\n        let evenBit = true;\n        let geohash = '';\n\n        let latMin =  -90, latMax =  90;\n        let lonMin = -180, lonMax = 180;\n\n        while (geohash.length < precision) {\n            if (evenBit) {\n                // bisect E-W longitude\n                const lonMid = (lonMin + lonMax) / 2;\n                if (lon >= lonMid) {\n                    idx = idx*2 + 1;\n                    lonMin = lonMid;\n                } else {\n                    idx = idx*2;\n                    lonMax = lonMid;\n                }\n            } else {\n                // bisect N-S latitude\n                const latMid = (latMin + latMax) / 2;\n                if (lat >= latMid) {\n                    idx = idx*2 + 1;\n                    latMin = latMid;\n                } else {\n                    idx = idx*2;\n                    latMax = latMid;\n                }\n            }\n            evenBit = !evenBit;\n\n            if (++bit == 5) {\n                // 5 bits gives us a character: append it and start over\n                geohash += base32.charAt(idx);\n                bit = 0;\n                idx = 0;\n            }\n        }\n\n        return geohash;\n    }\n\n\n    /**\n     * Decode geohash to latitude/longitude (location is approximate centre of geohash cell,\n     *     to reasonable precision).\n     *\n     * @param   {string} geohash - Geohash string to be converted to latitude/longitude.\n     * @returns {{lat:number, lon:number}} (Center of) geohashed location.\n     * @throws  Invalid geohash.\n     *\n     * @example\n     *     const latlon = Geohash.decode('u120fxw'); // => { lat: 52.205, lon: 0.1188 }\n     */\n    static decode(geohash) {\n\n        const bounds = Geohash.bounds(geohash); // <-- the hard work\n        // now just determine the centre of the cell...\n\n        const latMin = bounds.sw.lat, lonMin = bounds.sw.lon;\n        const latMax = bounds.ne.lat, lonMax = bounds.ne.lon;\n\n        // cell centre\n        let lat = (latMin + latMax)/2;\n        let lon = (lonMin + lonMax)/2;\n\n        // round to close to centre without excessive precision: ⌊2-log10(Δ°)⌋ decimal places\n        lat = lat.toFixed(Math.floor(2-Math.log(latMax-latMin)/Math.LN10));\n        lon = lon.toFixed(Math.floor(2-Math.log(lonMax-lonMin)/Math.LN10));\n\n        return { lat: Number(lat), lon: Number(lon) };\n    }\n\n\n    /**\n     * Returns SW/NE latitude/longitude bounds of specified geohash.\n     *\n     * @param   {string} geohash - Cell that bounds are required of.\n     * @returns {{sw: {lat: number, lon: number}, ne: {lat: number, lon: number}}}\n     * @throws  Invalid geohash.\n     */\n    static bounds(geohash) {\n        if (geohash.length == 0) throw new Error('Invalid geohash');\n\n        geohash = geohash.toLowerCase();\n\n        let evenBit = true;\n        let latMin =  -90, latMax =  90;\n        let lonMin = -180, lonMax = 180;\n\n        for (let i=0; i<geohash.length; i++) {\n            const chr = geohash.charAt(i);\n            const idx = base32.indexOf(chr);\n            if (idx == -1) throw new Error('Invalid geohash');\n\n            for (let n=4; n>=0; n--) {\n                const bitN = idx >> n & 1;\n                if (evenBit) {\n                    // longitude\n                    const lonMid = (lonMin+lonMax) / 2;\n                    if (bitN == 1) {\n                        lonMin = lonMid;\n                    } else {\n                        lonMax = lonMid;\n                    }\n                } else {\n                    // latitude\n                    const latMid = (latMin+latMax) / 2;\n                    if (bitN == 1) {\n                        latMin = latMid;\n                    } else {\n                        latMax = latMid;\n                    }\n                }\n                evenBit = !evenBit;\n            }\n        }\n\n        const bounds = {\n            sw: { lat: latMin, lon: lonMin },\n            ne: { lat: latMax, lon: lonMax },\n        };\n\n        return bounds;\n    }\n\n\n    /**\n     * Determines adjacent cell in given direction.\n     *\n     * @param   geohash - Cell to which adjacent cell is required.\n     * @param   direction - Direction from geohash (N/S/E/W).\n     * @returns {string} Geocode of adjacent cell.\n     * @throws  Invalid geohash.\n     */\n    static adjacent(geohash, direction) {\n        // based on github.com/davetroy/geohash-js\n\n        geohash = geohash.toLowerCase();\n        direction = direction.toLowerCase();\n\n        if (geohash.length == 0) throw new Error('Invalid geohash');\n        if ('nsew'.indexOf(direction) == -1) throw new Error('Invalid direction');\n\n        const neighbour = {\n            n: [ 'p0r21436x8zb9dcf5h7kjnmqesgutwvy', 'bc01fg45238967deuvhjyznpkmstqrwx' ],\n            s: [ '14365h7k9dcfesgujnmqp0r2twvyx8zb', '238967debc01fg45kmstqrwxuvhjyznp' ],\n            e: [ 'bc01fg45238967deuvhjyznpkmstqrwx', 'p0r21436x8zb9dcf5h7kjnmqesgutwvy' ],\n            w: [ '238967debc01fg45kmstqrwxuvhjyznp', '14365h7k9dcfesgujnmqp0r2twvyx8zb' ],\n        };\n        const border = {\n            n: [ 'prxz',     'bcfguvyz' ],\n            s: [ '028b',     '0145hjnp' ],\n            e: [ 'bcfguvyz', 'prxz'     ],\n            w: [ '0145hjnp', '028b'     ],\n        };\n\n        const lastCh = geohash.slice(-1);    // last character of hash\n        let parent = geohash.slice(0, -1); // hash without last character\n\n        const type = geohash.length % 2;\n\n        // check for edge-cases which don't share common prefix\n        if (border[direction][type].indexOf(lastCh) != -1 && parent != '') {\n            parent = Geohash.adjacent(parent, direction);\n        }\n\n        // append letter for direction to parent\n        return parent + base32.charAt(neighbour[direction][type].indexOf(lastCh));\n    }\n\n\n    /**\n     * Returns all 8 adjacent cells to specified geohash.\n     *\n     * @param   {string} geohash - Geohash neighbours are required of.\n     * @returns {{n,ne,e,se,s,sw,w,nw: string}}\n     * @throws  Invalid geohash.\n     */\n    static neighbours(geohash) {\n        return {\n            'n':  Geohash.adjacent(geohash, 'n'),\n            'ne': Geohash.adjacent(Geohash.adjacent(geohash, 'n'), 'e'),\n            'e':  Geohash.adjacent(geohash, 'e'),\n            'se': Geohash.adjacent(Geohash.adjacent(geohash, 's'), 'e'),\n            's':  Geohash.adjacent(geohash, 's'),\n            'sw': Geohash.adjacent(Geohash.adjacent(geohash, 's'), 'w'),\n            'w':  Geohash.adjacent(geohash, 'w'),\n            'nw': Geohash.adjacent(Geohash.adjacent(geohash, 'n'), 'w'),\n        };\n    }\n\n}\n\n/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  */\n\nexport default Geohash;\n","/* eslint-disable camelcase */\n\nfunction sodium_malloc (n) {\n  return new Uint8Array(n)\n}\n\nfunction sodium_free (n) {\n  sodium_memzero(n)\n  loadSink().port1.postMessage(n.buffer, [n.buffer])\n}\n\nfunction sodium_memzero (arr) {\n  arr.fill(0)\n}\n\nvar sink\n\nfunction loadSink () {\n  if (sink) return sink\n  var MessageChannel = globalThis.MessageChannel\n  if (MessageChannel == null) ({ MessageChannel } = require('worker' + '_threads'))\n  sink = new MessageChannel()\n  return sink\n}\n\nmodule.exports = {\n  sodium_malloc,\n  sodium_free,\n  sodium_memzero\n}\n","module.exports = assert\n\nclass AssertionError extends Error {}\nAssertionError.prototype.name = 'AssertionError'\n\n/**\n * Minimal assert function\n * @param  {any} t Value to check if falsy\n * @param  {string=} m Optional assertion error message\n * @throws {AssertionError}\n */\nfunction assert (t, m) {\n  if (!t) {\n    var err = new AssertionError(m)\n    if (Error.captureStackTrace) Error.captureStackTrace(err, assert)\n    throw err\n  }\n}\n","var assert = require('nanoassert')\n\nvar randombytes = (function () {\n  var QUOTA = 65536 // limit for QuotaExceededException\n  var crypto = globalThis.crypto || globalThis.msCrypto\n\n  function browserBytes (out, n) {\n    for (let i = 0; i < n; i += QUOTA) {\n      crypto.getRandomValues(new Uint8Array(out.buffer, i + out.byteOffset, Math.min(n - i, QUOTA)))\n    }\n  }\n\n  function nodeBytes (out, n) {\n    new Uint8Array(out.buffer, out.byteOffset, n).set(crypto.randomBytes(n))\n  }\n\n  function noImpl () {\n    throw new Error('No secure random number generator available')\n  }\n\n  if (crypto && crypto.getRandomValues) return browserBytes\n\n  if (require != null) {\n    // Node.js. Bust Browserify\n    crypto = require('cry' + 'pto')\n    if (crypto && crypto.randomBytes) return nodeBytes\n  }\n\n  return noImpl\n})()\n\n// Make non enumerable as this is an internal function\nObject.defineProperty(module.exports, 'randombytes', {\n  value: randombytes\n})\n\nmodule.exports.randombytes_buf = function (out) {\n  assert(out, 'out must be given')\n  randombytes(out, out.byteLength)\n}\n","/* eslint-disable camelcase */\nmodule.exports = {\n  crypto_verify_16,\n  crypto_verify_32,\n  crypto_verify_64\n}\n\nfunction vn (x, xi, y, yi, n) {\n  var d = 0\n  for (let i = 0; i < n; i++) d |= x[xi + i] ^ y[yi + i]\n  return (1 & ((d - 1) >>> 8)) - 1\n}\n\n// Make non enumerable as this is an internal function\nObject.defineProperty(module.exports, 'vn', {\n  value: vn\n})\n\nfunction crypto_verify_16 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 16) === 0\n}\n\nfunction crypto_verify_32 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 32) === 0\n}\n\nfunction crypto_verify_64 (x, xi, y, yi) {\n  return vn(x, xi, y, yi, 64) === 0\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst { vn } = require('./crypto_verify')\n\nfunction sodium_increment (n) {\n  const nlen = n.byteLength\n  var c = 1\n  for (var i = 0; i < nlen; i++) {\n    c += n[i]\n    n[i] = c\n    c >>= 8\n  }\n}\n\nfunction sodium_memcmp (a, b) {\n  assert(a.byteLength === b.byteLength, 'buffers must be the same size')\n\n  return vn(a, 0, b, 0, a.byteLength) === 0\n}\n\nfunction sodium_is_zero (arr) {\n  var d = 0\n  for (let i = 0; i < arr.length; i++) d |= arr[i]\n  return d === 0\n}\n\nmodule.exports = {\n  sodium_increment,\n  sodium_memcmp,\n  sodium_is_zero\n}\n","function byteLength (string) {\n  return string.length\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len; i++) {\n    result += String.fromCharCode(buffer[i])\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0; i < len; i++) {\n    buffer[offset + i] = string.charCodeAt(i)\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\nconst codes = new Uint8Array(256)\n\nfor (let i = 0; i < alphabet.length; i++) {\n  codes[alphabet.charCodeAt(i)] = i\n}\n\ncodes[/* - */ 0x2d] = 62\ncodes[/* _ */ 0x5f] = 63\n\nfunction byteLength (string) {\n  let len = string.length\n\n  if (string.charCodeAt(len - 1) === 0x3d) len--\n  if (len > 1 && string.charCodeAt(len - 1) === 0x3d) len--\n\n  return (len * 3) >>> 2\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len; i += 3) {\n    result += (\n      alphabet[buffer[i] >> 2] +\n      alphabet[((buffer[i] & 3) << 4) | (buffer[i + 1] >> 4)] +\n      alphabet[((buffer[i + 1] & 15) << 2) | (buffer[i + 2] >> 6)] +\n      alphabet[buffer[i + 2] & 63]\n    )\n  }\n\n  if (len % 3 === 2) {\n    result = result.substring(0, result.length - 1) + '='\n  } else if (len % 3 === 1) {\n    result = result.substring(0, result.length - 2) + '=='\n  }\n\n  return result\n};\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0, j = 0; i < len; i += 4) {\n    const a = codes[string.charCodeAt(i)]\n    const b = codes[string.charCodeAt(i + 1)]\n    const c = codes[string.charCodeAt(i + 2)]\n    const d = codes[string.charCodeAt(i + 3)]\n\n    buffer[j++] = (a << 2) | (b >> 4)\n    buffer[j++] = ((b & 15) << 4) | (c >> 2)\n    buffer[j++] = ((c & 3) << 6) | (d & 63)\n  }\n\n  return len\n};\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","function byteLength (string) {\n  return string.length >>> 1\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  buffer = new DataView(buffer.buffer, buffer.byteOffset, len)\n\n  let result = ''\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    result += buffer.getUint32(i).toString(16).padStart(8, '0')\n  }\n\n  for (; i < len; i++) {\n    result += buffer.getUint8(i).toString(16).padStart(2, '0')\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  for (let i = 0; i < len; i++) {\n    const a = hexValue(string.charCodeAt(i * 2))\n    const b = hexValue(string.charCodeAt(i * 2 + 1))\n\n    if (a === undefined || b === undefined) {\n      return buffer.subarray(0, i)\n    }\n\n    buffer[offset + i] = (a << 4) | b\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n\nfunction hexValue (char) {\n  if (char >= 0x30 && char <= 0x39) return char - 0x30\n  if (char >= 0x41 && char <= 0x46) return char - 0x41 + 10\n  if (char >= 0x61 && char <= 0x66) return char - 0x61 + 10\n}\n","function byteLength (string) {\n  let length = 0\n\n  for (let i = 0, n = string.length; i < n; i++) {\n    const code = string.charCodeAt(i)\n\n    if (code >= 0xd800 && code <= 0xdbff && i + 1 < n) {\n      const code = string.charCodeAt(i + 1)\n\n      if (code >= 0xdc00 && code <= 0xdfff) {\n        length += 4\n        i++\n        continue\n      }\n    }\n\n    if (code <= 0x7f) length += 1\n    else if (code <= 0x7ff) length += 2\n    else length += 3\n  }\n\n  return length\n}\n\nlet toString\n\nif (typeof TextDecoder !== 'undefined') {\n  const decoder = new TextDecoder()\n\n  toString = function toString (buffer) {\n    return decoder.decode(buffer)\n  }\n} else {\n  toString = function toString (buffer) {\n    const len = buffer.byteLength\n\n    let output = ''\n    let i = 0\n\n    while (i < len) {\n      let byte = buffer[i]\n\n      if (byte <= 0x7f) {\n        output += String.fromCharCode(byte)\n        i++\n        continue\n      }\n\n      let bytesNeeded = 0\n      let codePoint = 0\n\n      if (byte <= 0xdf) {\n        bytesNeeded = 1\n        codePoint = byte & 0x1f\n      } else if (byte <= 0xef) {\n        bytesNeeded = 2\n        codePoint = byte & 0x0f\n      } else if (byte <= 0xf4) {\n        bytesNeeded = 3\n        codePoint = byte & 0x07\n      }\n\n      if (len - i - bytesNeeded > 0) {\n        let k = 0\n\n        while (k < bytesNeeded) {\n          byte = buffer[i + k + 1]\n          codePoint = (codePoint << 6) | (byte & 0x3f)\n          k += 1\n        }\n      } else {\n        codePoint = 0xfffd\n        bytesNeeded = len - i\n      }\n\n      output += String.fromCodePoint(codePoint)\n      i += bytesNeeded + 1\n    }\n\n    return output\n  }\n}\n\nlet write\n\nif (typeof TextEncoder !== 'undefined') {\n  const encoder = new TextEncoder()\n\n  write = function write (buffer, string, offset = 0, length = byteLength(string)) {\n    const len = Math.min(length, buffer.byteLength - offset)\n    encoder.encodeInto(string, buffer.subarray(offset, offset + len))\n    return len\n  }\n} else {\n  write = function write (buffer, string, offset = 0, length = byteLength(string)) {\n    const len = Math.min(length, buffer.byteLength - offset)\n\n    buffer = buffer.subarray(offset, offset + len)\n\n    let i = 0\n    let j = 0\n\n    while (i < string.length) {\n      const code = string.codePointAt(i)\n\n      if (code <= 0x7f) {\n        buffer[j++] = code\n        i++\n        continue\n      }\n\n      let count = 0\n      let bits = 0\n\n      if (code <= 0x7ff) {\n        count = 6\n        bits = 0xc0\n      } else if (code <= 0xffff) {\n        count = 12\n        bits = 0xe0\n      } else if (code <= 0x1fffff) {\n        count = 18\n        bits = 0xf0\n      }\n\n      buffer[j++] = bits | (code >> count)\n      count -= 6\n\n      while (count >= 0) {\n        buffer[j++] = 0x80 | ((code >> count) & 0x3f)\n        count -= 6\n      }\n\n      i += code >= 0x10000 ? 2 : 1\n    }\n\n    return len\n  }\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","function byteLength (string) {\n  return string.length * 2\n}\n\nfunction toString (buffer) {\n  const len = buffer.byteLength\n\n  let result = ''\n\n  for (let i = 0; i < len - 1; i += 2) {\n    result += String.fromCharCode(buffer[i] + (buffer[i + 1] * 256))\n  }\n\n  return result\n}\n\nfunction write (buffer, string, offset = 0, length = byteLength(string)) {\n  const len = Math.min(length, buffer.byteLength - offset)\n\n  let units = len\n\n  for (let i = 0; i < string.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    const c = string.charCodeAt(i)\n    const hi = c >> 8\n    const lo = c % 256\n\n    buffer[offset + i * 2] = lo\n    buffer[offset + i * 2 + 1] = hi\n  }\n\n  return len\n}\n\nmodule.exports = {\n  byteLength,\n  toString,\n  write\n}\n","const ascii = require('./lib/ascii')\nconst base64 = require('./lib/base64')\nconst hex = require('./lib/hex')\nconst utf8 = require('./lib/utf8')\nconst utf16le = require('./lib/utf16le')\n\nfunction codecFor (encoding) {\n  switch (encoding) {\n    case 'ascii':\n      return ascii\n    case 'base64':\n      return base64\n    case 'hex':\n      return hex\n    case 'utf8':\n    case 'utf-8':\n    case undefined:\n      return utf8\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return utf16le\n    default:\n      throw new Error(`Unknown encoding: ${encoding}`)\n  }\n}\n\nfunction isBuffer (value) {\n  return value instanceof Uint8Array\n}\n\nfunction alloc (size, fill, encoding) {\n  const buffer = new Uint8Array(size)\n  if (fill !== undefined) fill(buffer, fill, 0, buffer.byteLength, encoding)\n  return buffer\n}\n\nfunction allocUnsafe (size) {\n  return new Uint8Array(size)\n}\n\nfunction allocUnsafeSlow (size) {\n  return new Uint8Array(size)\n}\n\nfunction byteLength (string, encoding) {\n  return codecFor(encoding).byteLength(string)\n}\n\nfunction compare (a, b) {\n  if (a === b) return 0\n\n  const len = Math.min(a.byteLength, b.byteLength)\n\n  a = new DataView(a.buffer, a.byteOffset, a.byteLength)\n  b = new DataView(b.buffer, b.byteOffset, b.byteLength)\n\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    const x = a.getUint32(i)\n    const y = b.getUint32(i)\n    if (x < y) return -1\n    if (x > y) return 1\n  }\n\n  for (; i < len; i++) {\n    const x = a.getUint8(i)\n    const y = b.getUint8(i)\n    if (x < y) return -1\n    if (x > y) return 1\n  }\n\n  return a.byteLength > b.byteLength ? 1 : a.byteLength < b.byteLength ? -1 : 0\n}\n\nfunction concat (buffers, totalLength) {\n  if (totalLength === undefined) {\n    totalLength = buffers.reduce((len, buffer) => len + buffer.byteLength, 0)\n  }\n\n  const result = new Uint8Array(totalLength)\n\n  buffers.reduce(\n    (offset, buffer) => {\n      result.set(buffer, offset)\n      return offset + buffer.byteLength\n    },\n    0\n  )\n\n  return result\n}\n\nfunction copy (source, target, targetStart = 0, start = 0, end = source.byteLength) {\n  if (end > 0 && end < start) return 0\n  if (end === start) return 0\n  if (source.byteLength === 0 || target.byteLength === 0) return 0\n\n  if (targetStart < 0) throw new RangeError('targetStart is out of range')\n  if (start < 0 || start >= source.byteLength) throw new RangeError('sourceStart is out of range')\n  if (end < 0) throw new RangeError('sourceEnd is out of range')\n\n  if (targetStart >= target.byteLength) targetStart = target.byteLength\n  if (end > source.byteLength) end = source.byteLength\n  if (target.byteLength - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (source === target) {\n    target.copyWithin(targetStart, start, end)\n  } else {\n    target.set(source.subarray(start, end), targetStart)\n  }\n\n  return len\n}\n\nfunction equals (a, b) {\n  if (a === b) return true\n  if (a.byteLength !== b.byteLength) return false\n\n  const len = a.byteLength\n\n  a = new DataView(a.buffer, a.byteOffset, a.byteLength)\n  b = new DataView(b.buffer, b.byteOffset, b.byteLength)\n\n  let i = 0\n\n  for (let n = len - (len % 4); i < n; i += 4) {\n    if (a.getUint32(i) !== b.getUint32(i)) return false\n  }\n\n  for (; i < len; i++) {\n    if (a.getUint8(i) !== b.getUint8(i)) return false\n  }\n\n  return true\n}\n\nfunction fill (buffer, value, offset, end, encoding) {\n  if (typeof value === 'string') {\n    // fill(buffer, string, encoding)\n    if (typeof offset === 'string') {\n      encoding = offset\n      offset = 0\n      end = buffer.byteLength\n\n    // fill(buffer, string, offset, encoding)\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = buffer.byteLength\n    }\n  } else if (typeof val === 'number') {\n    value = value & 255\n  } else if (typeof val === 'boolean') {\n    value = +value\n  }\n\n  if (offset < 0 || buffer.byteLength < offset || buffer.byteLength < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (offset === undefined) offset = 0\n  if (end === undefined) end = buffer.byteLength\n\n  if (end <= offset) return buffer\n\n  if (!value) value = 0\n\n  if (typeof value === 'number') {\n    for (let i = offset; i < end; ++i) {\n      buffer[i] = value\n    }\n  } else {\n    value = isBuffer(value) ? value : from(value, encoding)\n\n    const len = value.byteLength\n\n    for (let i = 0; i < end - offset; ++i) {\n      buffer[i + offset] = value[i % len]\n    }\n  }\n\n  return buffer\n}\n\nfunction from (value, encodingOrOffset, length) {\n  // from(string, encoding)\n  if (typeof value === 'string') return fromString(value, encodingOrOffset)\n\n  // from(array)\n  if (Array.isArray(value)) return fromArray(value)\n\n  // from(buffer)\n  if (ArrayBuffer.isView(value)) return fromBuffer(value)\n\n  // from(arrayBuffer[, byteOffset[, length]])\n  return fromArrayBuffer(value, encodingOrOffset, length)\n}\n\nfunction fromString (string, encoding) {\n  const codec = codecFor(encoding)\n  const buffer = new Uint8Array(codec.byteLength(string))\n  codec.write(buffer, string, 0, buffer.byteLength)\n  return buffer\n}\n\nfunction fromArray (array) {\n  const buffer = new Uint8Array(array.length)\n  buffer.set(array)\n  return buffer\n}\n\nfunction fromBuffer (buffer) {\n  const copy = new Uint8Array(buffer.byteLength)\n  copy.set(buffer)\n  return copy\n}\n\nfunction fromArrayBuffer (arrayBuffer, byteOffset, length) {\n  return new Uint8Array(arrayBuffer, byteOffset, length)\n}\n\nfunction swap (buffer, n, m) {\n  const i = buffer[n]\n  buffer[n] = buffer[m]\n  buffer[m] = i\n}\n\nfunction swap16 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 2 !== 0) throw new RangeError('Buffer size must be a multiple of 16-bits')\n\n  for (let i = 0; i < len; i += 2) swap(buffer, i, i + 1)\n\n  return buffer\n}\n\nfunction swap32 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 4 !== 0) throw new RangeError('Buffer size must be a multiple of 32-bits')\n\n  for (let i = 0; i < len; i += 4) {\n    swap(buffer, i, i + 3)\n    swap(buffer, i + 1, i + 2)\n  }\n\n  return buffer\n}\n\nfunction swap64 (buffer) {\n  const len = buffer.byteLength\n\n  if (len % 8 !== 0) throw new RangeError('Buffer size must be a multiple of 64-bits')\n\n  for (let i = 0; i < len; i += 8) {\n    swap(buffer, i, i + 7)\n    swap(buffer, i + 1, i + 6)\n    swap(buffer, i + 2, i + 5)\n    swap(buffer, i + 3, i + 4)\n  }\n\n  return buffer\n}\n\nfunction toBuffer (buffer) {\n  return buffer\n}\n\nfunction toString (buffer, encoding, start = 0, end = buffer.byteLength) {\n  const len = buffer.byteLength\n\n  if (start >= len) return ''\n  if (end <= start) return ''\n  if (start < 0) start = 0\n  if (end > len) end = len\n\n  if (start !== 0 || end < len) buffer = buffer.subarray(start, end)\n\n  return codecFor(encoding).toString(buffer)\n}\n\nfunction write (buffer, string, offset, length, encoding) {\n  // write(buffer, string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n\n  // write(buffer, string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n\n  // write(buffer, string, offset, encoding)\n  } else if (encoding === undefined && typeof length === 'string') {\n    encoding = length\n    length = undefined\n  }\n\n  return codecFor(encoding).write(buffer, string, offset, length)\n}\n\nmodule.exports = {\n  isBuffer,\n  alloc,\n  allocUnsafe,\n  allocUnsafeSlow,\n  byteLength,\n  compare,\n  concat,\n  copy,\n  equals,\n  fill,\n  from,\n  swap16,\n  swap32,\n  swap64,\n  toBuffer,\n  toString,\n  write\n}\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nmodule.exports = Sha512\n\nconst BLOCKSIZE = 128\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]\n\nfunction Sha512 () {\n  if (!(this instanceof Sha512)) return new Sha512()\n\n  this.hh = new Int32Array(8)\n  this.hl = new Int32Array(8)\n  this.buffer = new Uint8Array(128)\n  this.finalised = false\n  this.bytesRead = 0\n  this.pos = 0\n\n  this.hh[0] = 0x6a09e667\n  this.hh[1] = 0xbb67ae85\n  this.hh[2] = 0x3c6ef372\n  this.hh[3] = 0xa54ff53a\n  this.hh[4] = 0x510e527f\n  this.hh[5] = 0x9b05688c\n  this.hh[6] = 0x1f83d9ab\n  this.hh[7] = 0x5be0cd19\n\n  this.hl[0] = 0xf3bcc908\n  this.hl[1] = 0x84caa73b\n  this.hl[2] = 0xfe94f82b\n  this.hl[3] = 0x5f1d36f1\n  this.hl[4] = 0xade682d1\n  this.hl[5] = 0x2b3e6c1f\n  this.hl[6] = 0xfb41bd6b\n  this.hl[7] = 0x137e2179\n\n  return this\n}\n\nSha512.prototype.update = function (input, enc) {\n  assert(this.finalised === false, 'Hash instance finalised')\n\n  var [inputBuf, len] = formatInput(input, enc)\n  this.bytesRead += len\n\n  const full = (len + this.pos) & -128\n\n  this.buffer.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pos)\n  const pos = this.pos\n  len -= BLOCKSIZE - this.pos\n\n  if (len >= 0) {\n    compress(this.hh, this.hl, this.buffer, 128)\n    this.pos = 0\n  }\n\n  if (len > 127) {\n    compress(this.hh, this.hl, inputBuf.subarray(BLOCKSIZE - pos, full - pos), full - BLOCKSIZE)\n    len %= 128\n  }\n\n  this.buffer.set(inputBuf.subarray(inputBuf.byteLength - len))\n  this.pos = this.bytesRead & 0x7f\n  this.buffer.fill(0, this.pos)\n\n  return this\n}\n\nSha512.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalised === false, 'Hash instance finalised')\n  this.finalised = true\n\n  this.buffer.fill(0, this.pos)\n  this.buffer[this.pos] = 128\n\n  if (this.pos > 111) {\n    compress(this.hh, this.hl, this.buffer, 128)\n\n    this.buffer.fill(0)\n    this.pos = 0\n  }\n\n  ts64(this.buffer, 120, (this.bytesRead / 0x20000000) | 0, this.bytesRead << 3)\n  compress(this.hh, this.hl, this.buffer, 128)\n\n  if (enc instanceof Uint8Array && enc.byteLength > 63) {\n    for (let i = 0; i < 8; i++) ts64(enc, 8 * i + offset, this.hh[i], this.hl[i])\n    return enc\n  }\n\n  const resultBuf = new Uint8Array(64)\n  for (let i = 0; i < 8; i++) ts64(resultBuf, 8 * i, this.hh[i], this.hl[i])\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  return resultBuf\n}\n\nfunction ts64 (x, i, h, l) {\n  x[i] = (h >> 24) & 0xff\n  x[i + 1] = (h >> 16) & 0xff\n  x[i + 2] = (h >> 8) & 0xff\n  x[i + 3] = h & 0xff\n  x[i + 4] = (l >> 24) & 0xff\n  x[i + 5] = (l >> 16) & 0xff\n  x[i + 6] = (l >> 8) & 0xff\n  x[i + 7] = l & 0xff\n}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\nfunction compress(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n}\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(128)\n  this.inner = Sha512()\n  this.outer = Sha512()\n\n  const keyhash = b4a.alloc(64)\n  if (key.byteLength > 128) {\n    Sha512().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha512.HMAC = HMAC\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./sha512.wat\nvar require_sha512 = __commonJS({\n  \"wasm-binary:./sha512.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=\");\n  }\n});\n\n// wasm-module:./sha512.wat\nvar bytes = require_sha512();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nconst wasm = require('./sha512.js')({\n  imports: {\n    debug: {\n      log (...args) {\n        console.log(...args.map(int => (int >>> 0).toString(16).padStart(8, '0')))\n      },\n      log_tee (arg) {\n        console.log((arg >>> 0).toString(16).padStart(8, '0'))\n        return arg\n      }\n    }\n  }\n})\n\nlet head = 0\n// assetrt head % 8 === 0 to guarantee alignment\nconst freeList = []\n\nmodule.exports = Sha512\nconst SHA512_BYTES = module.exports.SHA512_BYTES = 64\nconst INPUT_OFFSET = 80\nconst STATEBYTES = 216\nconst BLOCKSIZE = 128\n\nfunction Sha512 () {\n  if (!(this instanceof Sha512)) return new Sha512()\n  if (!(wasm)) throw new Error('WASM not loaded. Wait for Sha512.ready(cb)')\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += STATEBYTES\n  }\n\n  this.finalized = false\n  this.digestLength = SHA512_BYTES\n  this.pointer = freeList.pop()\n  this.pos = 0\n  this.wasm = wasm\n\n  this._memory = new Uint8Array(wasm.memory.buffer)\n  this._memory.fill(0, this.pointer, this.pointer + STATEBYTES)\n\n  if (this.pointer + this.digestLength > this._memory.length) this._realloc(this.pointer + STATEBYTES)\n}\n\nSha512.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nSha512.prototype.update = function (input, enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  if (head % 8 !== 0) head += 8 - head % 8\n  assert(head % 8 === 0, 'input should be aligned for int64')\n\n  const [inputBuf, length] = formatInput(input, enc)\n\n  assert(inputBuf instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + input.length > this._memory.length) this._realloc(head + input.length)\n\n  this._memory.fill(0, head, head + roundUp(length, BLOCKSIZE) - BLOCKSIZE)\n  this._memory.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pointer + INPUT_OFFSET + this.pos)\n  this._memory.set(inputBuf.subarray(BLOCKSIZE - this.pos), head)\n\n  this.pos = (this.pos + length) & 0x7f\n  wasm.sha512(this.pointer, head, length, 0)\n\n  return this\n}\n\nSha512.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  this.finalized = true\n  freeList.push(this.pointer)\n\n  const paddingStart = this.pointer + INPUT_OFFSET + this.pos\n  this._memory.fill(0, paddingStart, this.pointer + INPUT_OFFSET + BLOCKSIZE)\n  wasm.sha512(this.pointer, head, 0, 1)\n\n  const resultBuf = this._memory.subarray(this.pointer, this.pointer + this.digestLength)\n\n  if (!enc) {\n    return resultBuf\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'output must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset,\n    \"output must have at least 'SHA512_BYTES' bytes remaining\")\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nSha512.WASM = wasm\nSha512.WASM_SUPPORTED = typeof WebAssembly !== 'undefined'\n\nSha512.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasm) return cb(new Error('WebAssembly not supported'))\n  cb()\n  return Promise.resolve()\n}\n\nSha512.prototype.ready = Sha512.ready\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(128)\n  this.inner = Sha512()\n  this.outer = Sha512()\n\n  const keyhash = b4a.alloc(64)\n  if (key.byteLength > 128) {\n    Sha512().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha512.HMAC = HMAC\n\nfunction noop () {}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\n// only works for base that is power of 2\nfunction roundUp (n, base) {\n  return (n + base - 1) & -base\n}\n","const js = require('./sha512.js')\nconst wasm = require('sha512-wasm')\n\nvar Proto = js\n\nmodule.exports = function () {\n  return new Proto()\n}\n\nmodule.exports.ready = function (cb) {\n  wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = wasm.SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar SHA512_BYTES = module.exports.SHA512_BYTES = 64\n\nwasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = Proto = wasm\n  }\n})\n","/* eslint-disable camelcase */\nconst { crypto_verify_32 } = require('./crypto_verify')\nconst Sha512 = require('sha512-universal')\nconst assert = require('nanoassert')\n\nconst crypto_auth_BYTES = 32\nconst crypto_auth_KEYBYTES = 32\n\nfunction crypto_auth (out, input, k) {\n  assert(out.byteLength === crypto_auth_BYTES, \"out should be 'crypto_auth_BYTES' in length\")\n  assert(k.byteLength === crypto_auth_KEYBYTES, \"key should be 'crypto_auth_KEYBYTES' in length\")\n\n  const out0 = new Uint8Array(64)\n  const hmac = Sha512.HMAC(k)\n  hmac.update(input)\n  hmac.digest(out0)\n\n  out.set(out0.subarray(0, 32))\n}\n\nfunction crypto_auth_verify (h, input, k) {\n  assert(h.byteLength === crypto_auth_BYTES, \"h should be 'crypto_auth_BYTES' in length\")\n  assert(k.byteLength === crypto_auth_KEYBYTES, \"key should be 'crypto_auth_KEYBYTES' in length\")\n\n  const correct = Sha512.HMAC(k).update(input).digest()\n\n  return crypto_verify_32(h, 0, correct, 0)\n}\n\nmodule.exports = {\n  crypto_auth_BYTES,\n  crypto_auth_KEYBYTES,\n  crypto_auth,\n  crypto_auth_verify\n}\n","/* eslint-disable camelcase */\nconst sha512 = require('sha512-universal')\nconst assert = require('nanoassert')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nconst crypto_hash_sha512_BYTES = 64\nconst crypto_hash_BYTES = crypto_hash_sha512_BYTES\n\nfunction crypto_hash_sha512 (out, m, n) {\n  assert(out.byteLength === crypto_hash_sha512_BYTES, \"out must be 'crypto_hash_sha512_BYTES' bytes long\")\n\n  sha512().update(m.subarray(0, n)).digest(out)\n  return 0\n}\n\nfunction crypto_hash (out, m, n) {\n  return crypto_hash_sha512(out, m, n)\n}\n\nmodule.exports = {\n  crypto_hash,\n  crypto_hash_sha512,\n  crypto_hash_sha512_BYTES,\n  crypto_hash_BYTES\n}\n","if (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n}\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n    t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n    t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nmodule.exports = {\n  gf,\n  A,\n  Z,\n  M,\n  S,\n  sel25519,\n  pack25519,\n  unpack25519,\n  inv25519,\n  gf0,\n  gf1,\n  _9,\n  _121665,\n  D,\n  D2,\n  X,\n  Y,\n  I\n}\n","/* eslint-disable camelcase, one-var */\nconst { _9, _121665, gf, inv25519, pack25519, unpack25519, sel25519, A, M, Z, S } = require('./internal/ed25519')\n\nconst crypto_scalarmult_BYTES = 32\nconst crypto_scalarmult_SCALARBYTES = 32\n\nmodule.exports = {\n  crypto_scalarmult,\n  crypto_scalarmult_base,\n  crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES\n}\n\nfunction crypto_scalarmult (q, n, p) {\n  check(q, crypto_scalarmult_BYTES)\n  check(n, crypto_scalarmult_SCALARBYTES)\n  check(p, crypto_scalarmult_BYTES)\n  var z = new Uint8Array(32)\n  var x = new Float64Array(80), r, i\n  var a = gf(), b = gf(), c = gf(),\n    d = gf(), e = gf(), f = gf()\n  for (i = 0; i < 31; i++) z[i] = n[i]\n  z[31] = (n[31] & 127) | 64\n  z[0] &= 248\n  unpack25519(x, p)\n  for (i = 0; i < 16; i++) {\n    b[i] = x[i]\n    d[i] = a[i] = c[i] = 0\n  }\n  a[0] = d[0] = 1\n  for (i = 254; i >= 0; --i) {\n    r = (z[i >>> 3] >>> (i & 7)) & 1\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n    A(e, a, c)\n    Z(a, a, c)\n    A(c, b, d)\n    Z(b, b, d)\n    S(d, e)\n    S(f, a)\n    M(a, c, a)\n    M(c, b, e)\n    A(e, a, c)\n    Z(a, a, c)\n    S(b, a)\n    Z(c, d, f)\n    M(a, c, _121665)\n    A(a, a, d)\n    M(c, c, a)\n    M(a, d, f)\n    M(d, b, x)\n    S(b, e)\n    sel25519(a, b, r)\n    sel25519(c, d, r)\n  }\n  for (i = 0; i < 16; i++) {\n    x[i + 16] = a[i]\n    x[i + 32] = c[i]\n    x[i + 48] = b[i]\n    x[i + 64] = d[i]\n  }\n  var x32 = x.subarray(32)\n  var x16 = x.subarray(16)\n  inv25519(x32, x32)\n  M(x16, x16, x32)\n  pack25519(q, x16)\n  return 0\n}\n\nfunction crypto_scalarmult_base (q, n) {\n  return crypto_scalarmult(q, n, _9)\n}\n\nfunction check (buf, len) {\n  if (!buf || (len && buf.length < len)) throw new Error('Argument must be a buffer' + (len ? ' of length ' + len : ''))\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./blake2b.wat\nvar require_blake2b = __commonJS({\n  \"wasm-binary:./blake2b.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./blake2b.wat\nvar bytes = require_blake2b();\nvar compiled = WebAssembly.compile(bytes);\nmodule.exports = async (imports) => {\n  const instance = await WebAssembly.instantiate(await compiled, imports);\n  return instance.exports;\n};\n","var assert = require('nanoassert')\nvar b4a = require('b4a')\n\nvar wasm = null\nvar wasmPromise = typeof WebAssembly !== \"undefined\" && require('./blake2b')().then(mod => {\n  wasm = mod\n})\n\nvar head = 64\nvar freeList = []\n\nmodule.exports = Blake2b\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nfunction Blake2b (digestLength, key, salt, personal, noAssert) {\n  if (!(this instanceof Blake2b)) return new Blake2b(digestLength, key, salt, personal, noAssert)\n  if (!wasm) throw new Error('WASM not loaded. Wait for Blake2b.ready(cb)')\n  if (!digestLength) digestLength = 32\n\n  if (noAssert !== true) {\n    assert(digestLength >= BYTES_MIN, 'digestLength must be at least ' + BYTES_MIN + ', was given ' + digestLength)\n    assert(digestLength <= BYTES_MAX, 'digestLength must be at most ' + BYTES_MAX + ', was given ' + digestLength)\n    if (key != null) {\n      assert(key instanceof Uint8Array, 'key must be Uint8Array or Buffer')\n      assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n      assert(key.length <= KEYBYTES_MAX, 'key must be at least ' + KEYBYTES_MAX + ', was given ' + key.length)\n    }\n    if (salt != null) {\n      assert(salt instanceof Uint8Array, 'salt must be Uint8Array or Buffer')\n      assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    }\n    if (personal != null) {\n      assert(personal instanceof Uint8Array, 'personal must be Uint8Array or Buffer')\n      assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n    }\n  }\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += 216\n  }\n\n  this.digestLength = digestLength\n  this.finalized = false\n  this.pointer = freeList.pop()\n  this._memory = new Uint8Array(wasm.memory.buffer)\n\n  this._memory.fill(0, 0, 64)\n  this._memory[0] = this.digestLength\n  this._memory[1] = key ? key.length : 0\n  this._memory[2] = 1 // fanout\n  this._memory[3] = 1 // depth\n\n  if (salt) this._memory.set(salt, 32)\n  if (personal) this._memory.set(personal, 48)\n\n  if (this.pointer + 216 > this._memory.length) this._realloc(this.pointer + 216) // we need 216 bytes for the state\n  wasm.blake2b_init(this.pointer, this.digestLength)\n\n  if (key) {\n    this.update(key)\n    this._memory.fill(0, head, head + key.length) // whiteout key\n    this._memory[this.pointer + 200] = 128\n  }\n}\n\nBlake2b.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nBlake2b.prototype.update = function (input) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  assert(input instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + input.length > this._memory.length) this._realloc(head + input.length)\n  this._memory.set(input, head)\n  wasm.blake2b_update(this.pointer, head, head + input.length)\n  return this\n}\n\nBlake2b.prototype.digest = function (enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n  this.finalized = true\n\n  freeList.push(this.pointer)\n  wasm.blake2b_final(this.pointer)\n\n  if (!enc || enc === 'binary') {\n    return this._memory.slice(this.pointer + 128, this.pointer + 128 + this.digestLength)\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(this._memory, enc, this.pointer + 128, this.pointer + 128 + this.digestLength)\n  }\n\n  assert(enc instanceof Uint8Array && enc.length >= this.digestLength, 'input must be Uint8Array or Buffer')\n  for (var i = 0; i < this.digestLength; i++) {\n    enc[i] = this._memory[this.pointer + 128 + i]\n  }\n\n  return enc\n}\n\n// libsodium compat\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.WASM = wasm\nBlake2b.SUPPORTED = typeof WebAssembly !== 'undefined'\n\nBlake2b.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasmPromise) return cb(new Error('WebAssembly not supported'))\n  return wasmPromise.then(() => cb(), cb)\n}\n\nBlake2b.prototype.ready = Blake2b.ready\n\nBlake2b.prototype.getPartialHash = function () {\n  return this._memory.slice(this.pointer, this.pointer + 216);\n}\n\nBlake2b.prototype.setPartialHash = function (ph) {\n  this._memory.set(ph, this.pointer);\n}\n\nfunction noop () {}\n","var assert = require('nanoassert')\nvar b2wasm = require('blake2b-wasm')\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += v[b,b+1]\n// v should be a Uint32Array\nfunction ADD64AA (v, a, b) {\n  var o0 = v[a] + v[b]\n  var o1 = v[a + 1] + v[b + 1]\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += b\n// b0 is the low 32 bits of b, b1 represents the high 32 bits\nfunction ADD64AC (v, a, b0, b1) {\n  var o0 = v[a] + b0\n  if (b0 < 0) {\n    o0 += 0x100000000\n  }\n  var o1 = v[a + 1] + b1\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// Little-endian byte access\nfunction B2B_GET32 (arr, i) {\n  return (arr[i] ^\n  (arr[i + 1] << 8) ^\n  (arr[i + 2] << 16) ^\n  (arr[i + 3] << 24))\n}\n\n// G Mixing function\n// The ROTRs are inlined for speed\nfunction B2B_G (a, b, c, d, ix, iy) {\n  var x0 = m[ix]\n  var x1 = m[ix + 1]\n  var y0 = m[iy]\n  var y1 = m[iy + 1]\n\n  ADD64AA(v, a, b) // v[a,a+1] += v[b,b+1] ... in JS we must store a uint64 as two uint32s\n  ADD64AC(v, a, x0, x1) // v[a, a+1] += x ... x0 is the low 32 bits of x, x1 is the high 32 bits\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated to the right by 32 bits\n  var xor0 = v[d] ^ v[a]\n  var xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = xor1\n  v[d + 1] = xor0\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 24 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor0 >>> 24) ^ (xor1 << 8)\n  v[b + 1] = (xor1 >>> 24) ^ (xor0 << 8)\n\n  ADD64AA(v, a, b)\n  ADD64AC(v, a, y0, y1)\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated right by 16 bits\n  xor0 = v[d] ^ v[a]\n  xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = (xor0 >>> 16) ^ (xor1 << 16)\n  v[d + 1] = (xor1 >>> 16) ^ (xor0 << 16)\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 63 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor1 >>> 31) ^ (xor0 << 1)\n  v[b + 1] = (xor0 >>> 31) ^ (xor1 << 1)\n}\n\n// Initialization Vector\nvar BLAKE2B_IV32 = new Uint32Array([\n  0xF3BCC908, 0x6A09E667, 0x84CAA73B, 0xBB67AE85,\n  0xFE94F82B, 0x3C6EF372, 0x5F1D36F1, 0xA54FF53A,\n  0xADE682D1, 0x510E527F, 0x2B3E6C1F, 0x9B05688C,\n  0xFB41BD6B, 0x1F83D9AB, 0x137E2179, 0x5BE0CD19\n])\n\nvar SIGMA8 = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n  11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n  7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n  9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n  2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n  12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n  13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n  6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n  10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3\n]\n\n// These are offsets into a uint64 buffer.\n// Multiply them all by 2 to make them offsets into a uint32 buffer,\n// because this is Javascript and we don't have uint64s\nvar SIGMA82 = new Uint8Array(SIGMA8.map(function (x) { return x * 2 }))\n\n// Compression function. 'last' flag indicates last block.\n// Note we're representing 16 uint64s as 32 uint32s\nvar v = new Uint32Array(32)\nvar m = new Uint32Array(32)\nfunction blake2bCompress (ctx, last) {\n  var i = 0\n\n  // init work variables\n  for (i = 0; i < 16; i++) {\n    v[i] = ctx.h[i]\n    v[i + 16] = BLAKE2B_IV32[i]\n  }\n\n  // low 64 bits of offset\n  v[24] = v[24] ^ ctx.t\n  v[25] = v[25] ^ (ctx.t / 0x100000000)\n  // high 64 bits not supported, offset may not be higher than 2**53-1\n\n  // last block flag set ?\n  if (last) {\n    v[28] = ~v[28]\n    v[29] = ~v[29]\n  }\n\n  // get little-endian words\n  for (i = 0; i < 32; i++) {\n    m[i] = B2B_GET32(ctx.b, 4 * i)\n  }\n\n  // twelve rounds of mixing\n  for (i = 0; i < 12; i++) {\n    B2B_G(0, 8, 16, 24, SIGMA82[i * 16 + 0], SIGMA82[i * 16 + 1])\n    B2B_G(2, 10, 18, 26, SIGMA82[i * 16 + 2], SIGMA82[i * 16 + 3])\n    B2B_G(4, 12, 20, 28, SIGMA82[i * 16 + 4], SIGMA82[i * 16 + 5])\n    B2B_G(6, 14, 22, 30, SIGMA82[i * 16 + 6], SIGMA82[i * 16 + 7])\n    B2B_G(0, 10, 20, 30, SIGMA82[i * 16 + 8], SIGMA82[i * 16 + 9])\n    B2B_G(2, 12, 22, 24, SIGMA82[i * 16 + 10], SIGMA82[i * 16 + 11])\n    B2B_G(4, 14, 16, 26, SIGMA82[i * 16 + 12], SIGMA82[i * 16 + 13])\n    B2B_G(6, 8, 18, 28, SIGMA82[i * 16 + 14], SIGMA82[i * 16 + 15])\n  }\n\n  for (i = 0; i < 16; i++) {\n    ctx.h[i] = ctx.h[i] ^ v[i] ^ v[i + 16]\n  }\n}\n\n// reusable parameter_block\nvar parameter_block = new Uint8Array([\n  0, 0, 0, 0,      //  0: outlen, keylen, fanout, depth\n  0, 0, 0, 0,      //  4: leaf length, sequential mode\n  0, 0, 0, 0,      //  8: node offset\n  0, 0, 0, 0,      // 12: node offset\n  0, 0, 0, 0,      // 16: node depth, inner length, rfu\n  0, 0, 0, 0,      // 20: rfu\n  0, 0, 0, 0,      // 24: rfu\n  0, 0, 0, 0,      // 28: rfu\n  0, 0, 0, 0,      // 32: salt\n  0, 0, 0, 0,      // 36: salt\n  0, 0, 0, 0,      // 40: salt\n  0, 0, 0, 0,      // 44: salt\n  0, 0, 0, 0,      // 48: personal\n  0, 0, 0, 0,      // 52: personal\n  0, 0, 0, 0,      // 56: personal\n  0, 0, 0, 0       // 60: personal\n])\n\n// Creates a BLAKE2b hashing context\n// Requires an output length between 1 and 64 bytes\n// Takes an optional Uint8Array key\nfunction Blake2b (outlen, key, salt, personal) {\n  // zero out parameter_block before usage\n  parameter_block.fill(0)\n  // state, 'param block'\n\n  this.b = new Uint8Array(128)\n  this.h = new Uint32Array(16)\n  this.t = 0 // input count\n  this.c = 0 // pointer within buffer\n  this.outlen = outlen // output length in bytes\n\n  parameter_block[0] = outlen\n  if (key) parameter_block[1] = key.length\n  parameter_block[2] = 1 // fanout\n  parameter_block[3] = 1 // depth\n\n  if (salt) parameter_block.set(salt, 32)\n  if (personal) parameter_block.set(personal, 48)\n\n  // initialize hash state\n  for (var i = 0; i < 16; i++) {\n    this.h[i] = BLAKE2B_IV32[i] ^ B2B_GET32(parameter_block, i * 4)\n  }\n\n  // key the hash, if applicable\n  if (key) {\n    blake2bUpdate(this, key)\n    // at the end\n    this.c = 128\n  }\n}\n\nBlake2b.prototype.update = function (input) {\n  assert(input instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n  blake2bUpdate(this, input)\n  return this\n}\n\nBlake2b.prototype.digest = function (out) {\n  var buf = (!out || out === 'binary' || out === 'hex') ? new Uint8Array(this.outlen) : out\n  assert(buf instanceof Uint8Array, 'out must be \"binary\", \"hex\", Uint8Array, or Buffer')\n  assert(buf.length >= this.outlen, 'out must have at least outlen bytes of space')\n  blake2bFinal(this, buf)\n  if (out === 'hex') return hexSlice(buf)\n  return buf\n}\n\nBlake2b.prototype.final = Blake2b.prototype.digest\n\nBlake2b.ready = function (cb) {\n  b2wasm.ready(function () {\n    cb() // ignore the error\n  })\n}\n\n// Updates a BLAKE2b streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2bUpdate (ctx, input) {\n  for (var i = 0; i < input.length; i++) {\n    if (ctx.c === 128) { // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2bCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2b streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2bFinal (ctx, out) {\n  ctx.t += ctx.c // mark last block offset\n\n  while (ctx.c < 128) { // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2bCompress(ctx, true) // final block flag = 1\n\n  for (var i = 0; i < ctx.outlen; i++) {\n    out[i] = ctx.h[i >> 2] >> (8 * (i & 3))\n  }\n  return out\n}\n\nfunction hexSlice (buf) {\n  var str = ''\n  for (var i = 0; i < buf.length; i++) str += toHex(buf[i])\n  return str\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nvar Proto = Blake2b\n\nmodule.exports = function createHash (outlen, key, salt, personal, noAssert) {\n  if (noAssert !== true) {\n    assert(outlen >= BYTES_MIN, 'outlen must be at least ' + BYTES_MIN + ', was given ' + outlen)\n    assert(outlen <= BYTES_MAX, 'outlen must be at most ' + BYTES_MAX + ', was given ' + outlen)\n    if (key != null) {\n      assert(key instanceof Uint8Array, 'key must be Uint8Array or Buffer')\n      assert(key.length >= KEYBYTES_MIN, 'key must be at least ' + KEYBYTES_MIN + ', was given ' + key.length)\n      assert(key.length <= KEYBYTES_MAX, 'key must be at most ' + KEYBYTES_MAX + ', was given ' + key.length)\n    }\n    if (salt != null) {\n      assert(salt instanceof Uint8Array, 'salt must be Uint8Array or Buffer')\n      assert(salt.length === SALTBYTES, 'salt must be exactly ' + SALTBYTES + ', was given ' + salt.length)\n    }\n    if (personal != null) {\n      assert(personal instanceof Uint8Array, 'personal must be Uint8Array or Buffer')\n      assert(personal.length === PERSONALBYTES, 'personal must be exactly ' + PERSONALBYTES + ', was given ' + personal.length)\n    }\n  }\n\n  return new Proto(outlen, key, salt, personal)\n}\n\nmodule.exports.ready = function (cb) {\n  b2wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = b2wasm.SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar BYTES_MIN = module.exports.BYTES_MIN = 16\nvar BYTES_MAX = module.exports.BYTES_MAX = 64\nvar BYTES = module.exports.BYTES = 32\nvar KEYBYTES_MIN = module.exports.KEYBYTES_MIN = 16\nvar KEYBYTES_MAX = module.exports.KEYBYTES_MAX = 64\nvar KEYBYTES = module.exports.KEYBYTES = 32\nvar SALTBYTES = module.exports.SALTBYTES = 16\nvar PERSONALBYTES = module.exports.PERSONALBYTES = 16\n\nb2wasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = b2wasm\n  }\n})\n","var blake2b = require('blake2b')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nmodule.exports.crypto_generichash_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_generichash_BYTES_MIN = blake2b.BYTES_MIN\nmodule.exports.crypto_generichash_BYTES_MAX = blake2b.BYTES_MAX\nmodule.exports.crypto_generichash_BYTES = blake2b.BYTES\nmodule.exports.crypto_generichash_KEYBYTES_MIN = blake2b.KEYBYTES_MIN\nmodule.exports.crypto_generichash_KEYBYTES_MAX = blake2b.KEYBYTES_MAX\nmodule.exports.crypto_generichash_KEYBYTES = blake2b.KEYBYTES\nmodule.exports.crypto_generichash_WASM_SUPPORTED = blake2b.WASM_SUPPORTED\nmodule.exports.crypto_generichash_WASM_LOADED = false\n\nmodule.exports.crypto_generichash = function (output, input, key) {\n  blake2b(output.length, key).update(input).final(output)\n}\n\nmodule.exports.crypto_generichash_ready = blake2b.ready\n\nmodule.exports.crypto_generichash_batch = function (output, inputArray, key) {\n  var ctx = blake2b(output.length, key)\n  for (var i = 0; i < inputArray.length; i++) {\n    ctx.update(inputArray[i])\n  }\n  ctx.final(output)\n}\n\nmodule.exports.crypto_generichash_instance = function (key, outlen) {\n  if (outlen == null) outlen = module.exports.crypto_generichash_BYTES\n  return blake2b(outlen, key)\n}\n\nblake2b.ready(function (_) {\n  module.exports.crypto_generichash_WASM_LOADED = blake2b.WASM_LOADED\n})\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./xsalsa20.wat\nvar require_xsalsa20 = __commonJS({\n  \"wasm-binary:./xsalsa20.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./xsalsa20.wat\nvar bytes = require_xsalsa20();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","var xsalsa20 = typeof WebAssembly !== \"undefined\" && require('./xsalsa20')()\n\nvar SIGMA = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107])\nvar head = 144\nvar top = head\nvar free = []\n\nmodule.exports = XSalsa20\n\nXSalsa20.NONCEBYTES = 24\nXSalsa20.KEYBYTES = 32\n\nXSalsa20.core_hsalsa20 = core_hsalsa20\nXSalsa20.SIGMA = SIGMA\n\nfunction XSalsa20 (nonce, key) {\n  if (!(this instanceof XSalsa20)) return new XSalsa20(nonce, key)\n  if (!nonce || nonce.length < 24) throw new Error('nonce must be at least 24 bytes')\n  if (!key || key.length < 32) throw new Error('key must be at least 32 bytes')\n  this._xor = xsalsa20 ? new WASM(nonce, key) : new Fallback(nonce, key)\n}\n\nXSalsa20.prototype.update = function (input, output) {\n  if (!input) throw new Error('input must be Uint8Array or Buffer')\n  if (!output) output = new Uint8Array(input.length)\n  if (input.length) this._xor.update(input, output)\n  return output\n}\n\nXSalsa20.prototype.final =\nXSalsa20.prototype.finalize = function () {\n  this._xor.finalize()\n  this._xor = null\n}\n\nfunction WASM (nonce, key) {\n  if (!free.length) {\n    free.push(head)\n    head += 64\n  }\n\n  this._pointer = free.pop()\n  this._nonce = this._pointer + 8\n  this._key = this._nonce + 24\n  this._overflow = 0\n  this._memory = new Uint8Array(xsalsa20.memory.buffer)\n\n  this._memory.fill(0, this._pointer, this._pointer + 8)\n  this._memory.set(nonce, this._nonce)\n  this._memory.set(key, this._key)\n}\n\nWASM.prototype.realloc = function (size) {\n  xsalsa20.memory.grow(Math.ceil(Math.abs(size - this._memory.length) / 65536))\n  this._memory = new Uint8Array(xsalsa20.memory.buffer)\n}\n\nWASM.prototype.update = function (input, output) {\n  var len = this._overflow + input.length\n  var start = head + this._overflow\n\n  top = head + len\n  if (top >= this._memory.length) this.realloc(top)\n\n  this._memory.set(input, start)\n  xsalsa20.xsalsa20_xor(this._pointer, head, head, len, this._nonce, this._key)\n  output.set(this._memory.subarray(start, head + len))\n\n  this._overflow = len & 63\n}\n\nWASM.prototype.finalize = function () {\n  this._memory.fill(0, this._pointer, this._key + 32)\n  if (top > head) {\n    this._memory.fill(0, head, top)\n    top = 0\n  }\n  free.push(this._pointer)\n}\n\nfunction Fallback (nonce, key) {\n  this._s = new Uint8Array(32)\n  this._z = new Uint8Array(16)\n  this._overflow = 0\n  core_hsalsa20(this._s, nonce, key, SIGMA)\n  for (var i = 0; i < 8; i++) this._z[i] = nonce[i + 16]\n}\n\nFallback.prototype.update = function (input, output) {\n  var x = new Uint8Array(64)\n  var u = 0\n  var i = this._overflow\n  var b = input.length + this._overflow\n  var z = this._z\n  var mpos = -this._overflow\n  var cpos = -this._overflow\n\n  while (b >= 64) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < 64; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n    u = 1\n    for (i = 8; i < 16; i++) {\n      u += (z[i] & 0xff) | 0\n      z[i] = u & 0xff\n      u >>>= 8\n    }\n    b -= 64\n    cpos += 64\n    mpos += 64\n    i = 0\n  }\n  if (b > 0) {\n    core_salsa20(x, z, this._s, SIGMA)\n    for (; i < b; i++) output[cpos + i] = input[mpos + i] ^ x[i]\n  }\n\n  this._overflow = b & 63\n}\n\nFallback.prototype.finalize = function () {\n  this._s.fill(0)\n  this._z.fill(0)\n}\n\n// below methods are ported from tweet nacl\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n   x0 =  x0 +  j0 | 0\n   x1 =  x1 +  j1 | 0\n   x2 =  x2 +  j2 | 0\n   x3 =  x3 +  j3 | 0\n   x4 =  x4 +  j4 | 0\n   x5 =  x5 +  j5 | 0\n   x6 =  x6 +  j6 | 0\n   x7 =  x7 +  j7 | 0\n   x8 =  x8 +  j8 | 0\n   x9 =  x9 +  j9 | 0\n  x10 = x10 + j10 | 0\n  x11 = x11 + j11 | 0\n  x12 = x12 + j12 | 0\n  x13 = x13 + j13 | 0\n  x14 = x14 + j14 | 0\n  x15 = x15 + j15 | 0\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x1 >>>  0 & 0xff\n  o[ 5] = x1 >>>  8 & 0xff\n  o[ 6] = x1 >>> 16 & 0xff\n  o[ 7] = x1 >>> 24 & 0xff\n\n  o[ 8] = x2 >>>  0 & 0xff\n  o[ 9] = x2 >>>  8 & 0xff\n  o[10] = x2 >>> 16 & 0xff\n  o[11] = x2 >>> 24 & 0xff\n\n  o[12] = x3 >>>  0 & 0xff\n  o[13] = x3 >>>  8 & 0xff\n  o[14] = x3 >>> 16 & 0xff\n  o[15] = x3 >>> 24 & 0xff\n\n  o[16] = x4 >>>  0 & 0xff\n  o[17] = x4 >>>  8 & 0xff\n  o[18] = x4 >>> 16 & 0xff\n  o[19] = x4 >>> 24 & 0xff\n\n  o[20] = x5 >>>  0 & 0xff\n  o[21] = x5 >>>  8 & 0xff\n  o[22] = x5 >>> 16 & 0xff\n  o[23] = x5 >>> 24 & 0xff\n\n  o[24] = x6 >>>  0 & 0xff\n  o[25] = x6 >>>  8 & 0xff\n  o[26] = x6 >>> 16 & 0xff\n  o[27] = x6 >>> 24 & 0xff\n\n  o[28] = x7 >>>  0 & 0xff\n  o[29] = x7 >>>  8 & 0xff\n  o[30] = x7 >>> 16 & 0xff\n  o[31] = x7 >>> 24 & 0xff\n\n  o[32] = x8 >>>  0 & 0xff\n  o[33] = x8 >>>  8 & 0xff\n  o[34] = x8 >>> 16 & 0xff\n  o[35] = x8 >>> 24 & 0xff\n\n  o[36] = x9 >>>  0 & 0xff\n  o[37] = x9 >>>  8 & 0xff\n  o[38] = x9 >>> 16 & 0xff\n  o[39] = x9 >>> 24 & 0xff\n\n  o[40] = x10 >>>  0 & 0xff\n  o[41] = x10 >>>  8 & 0xff\n  o[42] = x10 >>> 16 & 0xff\n  o[43] = x10 >>> 24 & 0xff\n\n  o[44] = x11 >>>  0 & 0xff\n  o[45] = x11 >>>  8 & 0xff\n  o[46] = x11 >>> 16 & 0xff\n  o[47] = x11 >>> 24 & 0xff\n\n  o[48] = x12 >>>  0 & 0xff\n  o[49] = x12 >>>  8 & 0xff\n  o[50] = x12 >>> 16 & 0xff\n  o[51] = x12 >>> 24 & 0xff\n\n  o[52] = x13 >>>  0 & 0xff\n  o[53] = x13 >>>  8 & 0xff\n  o[54] = x13 >>> 16 & 0xff\n  o[55] = x13 >>> 24 & 0xff\n\n  o[56] = x14 >>>  0 & 0xff\n  o[57] = x14 >>>  8 & 0xff\n  o[58] = x14 >>> 16 & 0xff\n  o[59] = x14 >>> 24 & 0xff\n\n  o[60] = x15 >>>  0 & 0xff\n  o[61] = x15 >>>  8 & 0xff\n  o[62] = x15 >>> 16 & 0xff\n  o[63] = x15 >>> 24 & 0xff\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff) << 8 | (c[ 2] & 0xff) << 16 | (c[ 3] & 0xff) << 24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff) << 8 | (k[ 2] & 0xff) << 16 | (k[ 3] & 0xff) << 24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff) << 8 | (k[ 6] & 0xff) << 16 | (k[ 7] & 0xff) << 24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n      j4  = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff) << 8 | (c[ 6] & 0xff) << 16 | (c[ 7] & 0xff) << 24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff) << 8 | (p[ 2] & 0xff) << 16 | (p[ 3] & 0xff) << 24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff) << 8 | (p[ 6] & 0xff) << 16 | (p[ 7] & 0xff) << 24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n      j9  = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n      j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n      j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n      j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n      j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n      j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0\n    x4 ^= u << 7 | u >>> 25\n    u = x4 + x0 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x4 | 0\n    x12 ^= u << 13 | u >>> 19\n    u = x12 + x8 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x1 | 0\n    x9 ^= u << 7 | u >>> 25\n    u = x9 + x5 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x9 | 0\n    x1 ^= u << 13 | u >>> 19\n    u = x1 + x13 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x6 | 0\n    x14 ^= u << 7 | u >>> 25\n    u = x14 + x10 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x14 | 0\n    x6 ^= u << 13 | u >>> 19\n    u = x6 + x2 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x11 | 0\n    x3 ^= u << 7 | u >>> 25\n    u = x3 + x15 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x3 | 0\n    x11 ^= u << 13 | u >>> 19\n    u = x11 + x7 | 0\n    x15 ^= u << 18 | u >>> 14\n\n    u = x0 + x3 | 0\n    x1 ^= u << 7 | u >>> 25\n    u = x1 + x0 | 0\n    x2 ^= u << 9 | u >>> 23\n    u = x2 + x1 | 0\n    x3 ^= u << 13 | u >>> 19\n    u = x3 + x2 | 0\n    x0 ^= u << 18 | u >>> 14\n\n    u = x5 + x4 | 0\n    x6 ^= u << 7 | u >>> 25\n    u = x6 + x5 | 0\n    x7 ^= u << 9 | u >>> 23\n    u = x7 + x6 | 0\n    x4 ^= u << 13 | u >>> 19\n    u = x4 + x7 | 0\n    x5 ^= u << 18 | u >>> 14\n\n    u = x10 + x9 | 0\n    x11 ^= u << 7 | u >>> 25\n    u = x11 + x10 | 0\n    x8 ^= u << 9 | u >>> 23\n    u = x8 + x11 | 0\n    x9 ^= u << 13 | u >>> 19\n    u = x9 + x8 | 0\n    x10 ^= u << 18 | u >>> 14\n\n    u = x15 + x14 | 0\n    x12 ^= u << 7 | u >>> 25\n    u = x12 + x15 | 0\n    x13 ^= u << 9 | u >>> 23\n    u = x13 + x12 | 0\n    x14 ^= u << 13 | u >>> 19\n    u = x14 + x13 | 0\n    x15 ^= u << 18 | u >>> 14\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff\n  o[ 1] = x0 >>>  8 & 0xff\n  o[ 2] = x0 >>> 16 & 0xff\n  o[ 3] = x0 >>> 24 & 0xff\n\n  o[ 4] = x5 >>>  0 & 0xff\n  o[ 5] = x5 >>>  8 & 0xff\n  o[ 6] = x5 >>> 16 & 0xff\n  o[ 7] = x5 >>> 24 & 0xff\n\n  o[ 8] = x10 >>>  0 & 0xff\n  o[ 9] = x10 >>>  8 & 0xff\n  o[10] = x10 >>> 16 & 0xff\n  o[11] = x10 >>> 24 & 0xff\n\n  o[12] = x15 >>>  0 & 0xff\n  o[13] = x15 >>>  8 & 0xff\n  o[14] = x15 >>> 16 & 0xff\n  o[15] = x15 >>> 24 & 0xff\n\n  o[16] = x6 >>>  0 & 0xff\n  o[17] = x6 >>>  8 & 0xff\n  o[18] = x6 >>> 16 & 0xff\n  o[19] = x6 >>> 24 & 0xff\n\n  o[20] = x7 >>>  0 & 0xff\n  o[21] = x7 >>>  8 & 0xff\n  o[22] = x7 >>> 16 & 0xff\n  o[23] = x7 >>> 24 & 0xff\n\n  o[24] = x8 >>>  0 & 0xff\n  o[25] = x8 >>>  8 & 0xff\n  o[26] = x8 >>> 16 & 0xff\n  o[27] = x8 >>> 24 & 0xff\n\n  o[28] = x9 >>>  0 & 0xff\n  o[29] = x9 >>>  8 & 0xff\n  o[30] = x9 >>> 16 & 0xff\n  o[31] = x9 >>> 24 & 0xff\n}\n","/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nmodule.exports = poly1305\n","/* eslint-disable camelcase */\nconst xsalsa20 = require('xsalsa20')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_stream_KEYBYTES = 32\nexports.crypto_stream_NONCEBYTES = 24\nexports.crypto_stream_PRIMITIVE = 'xsalsa20'\nexports.crypto_stream_xsalsa20_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nexports.crypto_stream = function (c, nonce, key) {\n  c.fill(0)\n  exports.crypto_stream_xor(c, c, nonce, key)\n}\n\nexports.crypto_stream_xor = function (c, m, nonce, key) {\n  const xor = xsalsa20(nonce, key)\n\n  xor.update(m, c)\n  xor.final()\n}\n\nexports.crypto_stream_xor_instance = function (nonce, key) {\n  return new XOR(nonce, key)\n}\n\nfunction XOR (nonce, key) {\n  this._instance = xsalsa20(nonce, key)\n}\n\nXOR.prototype.update = function (out, inp) {\n  this._instance.update(inp, out)\n}\n\nXOR.prototype.final = function () {\n  this._instance.finalize()\n  this._instance = null\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst Poly1305 = require('./internal/poly1305')\nconst { crypto_verify_16 } = require('./crypto_verify')\n\nconst crypto_onetimeauth_BYTES = 16\nconst crypto_onetimeauth_KEYBYTES = 32\nconst crypto_onetimeauth_PRIMITIVE = 'poly1305'\n\nmodule.exports = {\n  crypto_onetimeauth,\n  crypto_onetimeauth_verify,\n  crypto_onetimeauth_BYTES,\n  crypto_onetimeauth_KEYBYTES,\n  crypto_onetimeauth_PRIMITIVE\n}\n\nfunction crypto_onetimeauth (mac, msg, key) {\n  assert(mac.byteLength === crypto_onetimeauth_BYTES, \"mac must be 'crypto_onetimeauth_BYTES' bytes\")\n  assert(msg.byteLength != null, 'msg must be buffer')\n  assert(key.byteLength === crypto_onetimeauth_KEYBYTES, \"key must be 'crypto_onetimeauth_KEYBYTES' bytes\")\n\n  var s = new Poly1305(key)\n  s.update(msg, 0, msg.byteLength)\n  s.finish(mac, 0)\n}\n\nfunction crypto_onetimeauth_verify (mac, msg, key) {\n  assert(mac.byteLength === crypto_onetimeauth_BYTES, \"mac must be 'crypto_onetimeauth_BYTES' bytes\")\n  assert(msg.byteLength != null, 'msg must be buffer')\n  assert(key.byteLength === crypto_onetimeauth_KEYBYTES, \"key must be 'crypto_onetimeauth_KEYBYTES' bytes\")\n\n  var tmp = new Uint8Array(16)\n  crypto_onetimeauth(tmp, msg, key)\n  return crypto_verify_16(mac, 0, tmp, 0)\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst { crypto_stream, crypto_stream_xor } = require('./crypto_stream')\nconst { crypto_onetimeauth, crypto_onetimeauth_verify, crypto_onetimeauth_BYTES, crypto_onetimeauth_KEYBYTES } = require('./crypto_onetimeauth')\n\nconst crypto_secretbox_KEYBYTES = 32\nconst crypto_secretbox_NONCEBYTES = 24\nconst crypto_secretbox_ZEROBYTES = 32\nconst crypto_secretbox_BOXZEROBYTES = 16\nconst crypto_secretbox_MACBYTES = 16\n\nmodule.exports = {\n  crypto_secretbox,\n  crypto_secretbox_open,\n  crypto_secretbox_detached,\n  crypto_secretbox_open_detached,\n  crypto_secretbox_easy,\n  crypto_secretbox_open_easy,\n  crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES,\n  crypto_secretbox_MACBYTES\n}\n\nfunction crypto_secretbox (c, m, n, k) {\n  assert(c.byteLength === m.byteLength, \"c must be 'm.byteLength' bytes\")\n  const mlen = m.byteLength\n  assert(mlen >= crypto_secretbox_ZEROBYTES, \"mlen must be at least 'crypto_secretbox_ZEROBYTES'\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  crypto_stream_xor(c, m, n, k)\n  crypto_onetimeauth(\n    c.subarray(crypto_secretbox_BOXZEROBYTES, crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES),\n    c.subarray(crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES, c.byteLength),\n    c.subarray(0, crypto_onetimeauth_KEYBYTES)\n  )\n  c.fill(0, 0, crypto_secretbox_BOXZEROBYTES)\n}\n\nfunction crypto_secretbox_open (m, c, n, k) {\n  assert(c.byteLength === m.byteLength, \"c must be 'm.byteLength' bytes\")\n  const mlen = m.byteLength\n  assert(mlen >= crypto_secretbox_ZEROBYTES, \"mlen must be at least 'crypto_secretbox_ZEROBYTES'\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const x = new Uint8Array(crypto_onetimeauth_KEYBYTES)\n  crypto_stream(x, n, k)\n  const validMac = crypto_onetimeauth_verify(\n    c.subarray(crypto_secretbox_BOXZEROBYTES, crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES),\n    c.subarray(crypto_secretbox_BOXZEROBYTES + crypto_onetimeauth_BYTES, c.byteLength),\n    x\n  )\n\n  if (validMac === false) return false\n  crypto_stream_xor(m, c, n, k)\n  m.fill(0, 0, 32)\n  return true\n}\n\nfunction crypto_secretbox_detached (o, mac, msg, n, k) {\n  assert(o.byteLength === msg.byteLength, \"o must be 'msg.byteLength' bytes\")\n  assert(mac.byteLength === crypto_secretbox_MACBYTES, \"mac must be 'crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const tmp = new Uint8Array(msg.byteLength + mac.byteLength)\n  crypto_secretbox_easy(tmp, msg, n, k)\n  mac.set(tmp.subarray(0, mac.byteLength))\n  o.set(tmp.subarray(mac.byteLength))\n  return true\n}\n\nfunction crypto_secretbox_open_detached (msg, o, mac, n, k) {\n  assert(o.byteLength === msg.byteLength, \"o must be 'msg.byteLength' bytes\")\n  assert(mac.byteLength === crypto_secretbox_MACBYTES, \"mac must be 'crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const tmp = new Uint8Array(o.byteLength + mac.byteLength)\n  tmp.set(mac)\n  tmp.set(o, mac.byteLength)\n  return crypto_secretbox_open_easy(msg, tmp, n, k)\n}\n\nfunction crypto_secretbox_easy (o, msg, n, k) {\n  assert(o.byteLength === msg.byteLength + crypto_secretbox_MACBYTES, \"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.byteLength)\n  const c = new Uint8Array(m.byteLength)\n  m.set(msg, crypto_secretbox_ZEROBYTES)\n  crypto_secretbox(c, m, n, k)\n  o.set(c.subarray(crypto_secretbox_BOXZEROBYTES))\n}\n\nfunction crypto_secretbox_open_easy (msg, box, n, k) {\n  assert(box.byteLength === msg.byteLength + crypto_secretbox_MACBYTES, \"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes\")\n  assert(n.byteLength === crypto_secretbox_NONCEBYTES, \"n must be 'crypto_secretbox_NONCEBYTES' bytes\")\n  assert(k.byteLength === crypto_secretbox_KEYBYTES, \"k must be 'crypto_secretbox_KEYBYTES' bytes\")\n\n  const c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.byteLength)\n  const m = new Uint8Array(c.byteLength)\n  c.set(box, crypto_secretbox_BOXZEROBYTES)\n  if (crypto_secretbox_open(m, c, n, k) === false) return false\n  msg.set(m.subarray(crypto_secretbox_ZEROBYTES))\n  return true\n}\n","/* eslint-disable camelcase */\nconst { crypto_hash_sha512 } = require('./crypto_hash')\nconst { crypto_scalarmult, crypto_scalarmult_base } = require('./crypto_scalarmult')\nconst { randombytes } = require('./randombytes')\nconst { crypto_generichash_batch } = require('./crypto_generichash')\nconst { crypto_stream_xsalsa20_MESSAGEBYTES_MAX } = require('./crypto_stream')\nconst {\n  crypto_secretbox_open_easy,\n  crypto_secretbox_easy,\n  crypto_secretbox_detached,\n  crypto_secretbox_open_detached\n} = require('./crypto_secretbox')\nconst xsalsa20 = require('xsalsa20')\nconst assert = require('nanoassert')\n\nconst crypto_box_PUBLICKEYBYTES = 32\nconst crypto_box_SECRETKEYBYTES = 32\nconst crypto_box_NONCEBYTES = 24\nconst crypto_box_ZEROBYTES = 32\nconst crypto_box_BOXZEROBYTES = 16\nconst crypto_box_SEALBYTES = 48\nconst crypto_box_SEEDBYTES = 32\nconst crypto_box_BEFORENMBYTES = 32\nconst crypto_box_MACBYTES = 16\n\nconst crypto_box_curve25519xsalsa20poly1305_MACBYTES = 16\n\nconst crypto_box_MESSAGEBYTES_MAX =\n  crypto_stream_xsalsa20_MESSAGEBYTES_MAX -\n  crypto_box_curve25519xsalsa20poly1305_MACBYTES\n\nmodule.exports = {\n  crypto_box_easy,\n  crypto_box_open_easy,\n  crypto_box_keypair,\n  crypto_box_seed_keypair,\n  crypto_box_seal,\n  crypto_box_seal_open,\n  crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES,\n  crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES,\n  crypto_box_SEALBYTES,\n  crypto_box_SEEDBYTES,\n  crypto_box_BEFORENMBYTES,\n  crypto_box_MACBYTES\n}\n\nfunction crypto_box_keypair (pk, sk) {\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n  randombytes(sk, 32)\n  return crypto_scalarmult_base(pk, sk)\n}\nfunction crypto_box_seed_keypair (pk, sk, seed) {\n  assert(pk.byteLength === crypto_box_PUBLICKEYBYTES, \"pk should be 'crypto_box_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_box_SECRETKEYBYTES, \"sk should be 'crypto_box_SECRETKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_box_SEEDBYTES, \"sk should be 'crypto_box_SEEDBYTES' bytes\")\n\n  const hash = new Uint8Array(64)\n  crypto_hash_sha512(hash, seed, 32)\n  sk.set(hash.subarray(0, 32))\n  hash.fill(0)\n\n  return crypto_scalarmult_base(pk, sk)\n}\n\nfunction crypto_box_seal (c, m, pk) {\n  check(c, crypto_box_SEALBYTES + m.length)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n\n  var epk = c.subarray(0, crypto_box_PUBLICKEYBYTES)\n  var esk = new Uint8Array(crypto_box_SECRETKEYBYTES)\n  crypto_box_keypair(epk, esk)\n\n  var n = new Uint8Array(crypto_box_NONCEBYTES)\n  crypto_generichash_batch(n, [epk, pk])\n\n  var s = new Uint8Array(crypto_box_PUBLICKEYBYTES)\n  crypto_scalarmult(s, esk, pk)\n\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  var zero = new Uint8Array(16)\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  crypto_secretbox_easy(c.subarray(epk.length), m, n, k)\n\n  cleanup(esk)\n}\n\nfunction crypto_box_seal_open (m, c, pk, sk) {\n  check(c, crypto_box_SEALBYTES)\n  check(m, c.length - crypto_box_SEALBYTES)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n\n  var epk = c.subarray(0, crypto_box_PUBLICKEYBYTES)\n\n  var n = new Uint8Array(crypto_box_NONCEBYTES)\n  crypto_generichash_batch(n, [epk, pk])\n\n  var s = new Uint8Array(crypto_box_PUBLICKEYBYTES)\n  crypto_scalarmult(s, sk, epk)\n\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  var zero = new Uint8Array(16)\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  return crypto_secretbox_open_easy(m, c.subarray(epk.length), n, k)\n}\n\nfunction crypto_box_beforenm (k, pk, sk) {\n  const zero = new Uint8Array(16)\n  const s = new Uint8Array(32)\n\n  assert(crypto_scalarmult(s, sk, pk) === 0)\n\n  xsalsa20.core_hsalsa20(k, zero, s, xsalsa20.SIGMA)\n\n  return true\n}\n\nfunction crypto_box_detached_afternm (c, mac, m, n, k) {\n  return crypto_secretbox_detached(c, mac, m, n, k)\n}\n\nfunction crypto_box_detached (c, mac, m, n, pk, sk) {\n  check(mac, crypto_box_MACBYTES)\n  check(n, crypto_box_NONCEBYTES)\n  check(pk, crypto_box_PUBLICKEYBYTES)\n  check(sk, crypto_box_SECRETKEYBYTES)\n\n  const k = new Uint8Array(crypto_box_BEFORENMBYTES)\n\n  assert(crypto_box_beforenm(k, pk, sk))\n\n  const ret = crypto_box_detached_afternm(c, mac, m, n, k)\n  cleanup(k)\n\n  return ret\n}\n\nfunction crypto_box_easy (c, m, n, pk, sk) {\n  assert(\n    c.length >= m.length + crypto_box_MACBYTES,\n    \"c should be at least 'm.length + crypto_box_MACBYTES' bytes\"\n  )\n  assert(\n    m.length <= crypto_box_MESSAGEBYTES_MAX,\n    \"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes\"\n  )\n\n  return crypto_box_detached(\n    c.subarray(crypto_box_MACBYTES, m.length + crypto_box_MACBYTES),\n    c.subarray(0, crypto_box_MACBYTES),\n    m,\n    n,\n    pk,\n    sk\n  )\n}\n\nfunction crypto_box_open_detached_afternm (m, c, mac, n, k) {\n  return crypto_secretbox_open_detached(m, c, mac, n, k)\n}\n\nfunction crypto_box_open_detached (m, c, mac, n, pk, sk) {\n  const k = new Uint8Array(crypto_box_BEFORENMBYTES)\n  assert(crypto_box_beforenm(k, pk, sk))\n\n  const ret = crypto_box_open_detached_afternm(m, c, mac, n, k)\n  cleanup(k)\n\n  return ret\n}\n\nfunction crypto_box_open_easy (m, c, n, pk, sk) {\n  assert(\n    c.length >= m.length + crypto_box_MACBYTES,\n    \"c should be at least 'm.length + crypto_box_MACBYTES' bytes\"\n  )\n\n  return crypto_box_open_detached(\n    m,\n    c.subarray(crypto_box_MACBYTES, m.length + crypto_box_MACBYTES),\n    c.subarray(0, crypto_box_MACBYTES),\n    n,\n    pk,\n    sk\n  )\n}\n\nfunction check (buf, len) {\n  if (!buf || (len && buf.length < len)) throw new Error('Argument must be a buffer' + (len ? ' of length ' + len : ''))\n}\n\nfunction cleanup (arr) {\n  for (let i = 0; i < arr.length; i++) arr[i] = 0\n}\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nmodule.exports = Sha256\nconst SHA256_BYTES = module.exports.SHA256_BYTES = 32\nconst BLOCKSIZE = 64\n\nconst K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]\n\nfunction expand (a, b, c, d) {\n  var b_ = (((a >>> 17) | (a << 15)) ^ ((a >>> 19) | (a << 13)) ^ (a >>> 10)) + b\n  var d_ = (((c >>> 7) | (c << 25)) ^ ((c >>> 18) | (c << 14)) ^ (c >>> 3)) + d\n\n  return (b_ + d_) << 0\n}\n\nfunction compress (state, words) {\n  // initialise registers\n  var ch, maj, s0, s1, T1, T2\n  var [a, b, c, d, e, f, g, h] = state\n\n  // expand message schedule\n  const w = new Uint32Array(64)\n  for (let i = 0; i < 16; i++) w[i] = bswap(words[i])\n  for (let i = 16; i < 64; i++) w[i] = expand(w[i - 2], w[i - 7], w[i - 15], w[i - 16])\n  for (let i = 0; i < 64; i += 4) round(i)\n\n  state[0] = state[0] + a\n  state[1] = state[1] + b\n  state[2] = state[2] + c\n  state[3] = state[3] + d\n  state[4] = state[4] + e\n  state[5] = state[5] + f\n  state[6] = state[6] + g\n  state[7] = state[7] + h\n\n  function round (n) {\n    ch = (e & f) ^ (~e & g)\n    maj = (a & b) ^ (a & c) ^ (b & c)\n    s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10))\n    s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7))\n    T1 = h + ch + s1 + w[n] + K[n]\n    T2 = s0 + maj\n    h = d + T1\n    d = T1 + T2\n\n    ch = (h & e) ^ (~h & f)\n    maj = (d & a) ^ (d & b) ^ (a & b)\n    s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10))\n    s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7))\n    T1 = g + ch + s1 + w[n + 1] + K[n + 1]\n    T2 = s0 + maj\n    g = c + T1\n    c = T1 + T2\n\n    ch = (g & h) ^ (~g & e)\n    maj = (c & d) ^ (c & a) ^ (d & a)\n    s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10))\n    s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7))\n    T1 = f + ch + s1 + w[n + 2] + K[n + 2]\n    T2 = s0 + maj\n    f = b + T1\n    b = T1 + T2\n\n    ch = (f & g) ^ (~f & h)\n    maj = (b & c) ^ (b & d) ^ (c & d)\n    s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10))\n    s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7))\n    T1 = e + ch + s1 + w[n + 3] + K[n + 3]\n    T2 = s0 + maj\n    e = a + T1\n    a = T1 + T2\n  }\n}\n\nfunction Sha256 () {\n  if (!(this instanceof Sha256)) return new Sha256()\n\n  this.buffer = new ArrayBuffer(64)\n  this.bytesRead = 0\n  this.pos = 0\n  this.digestLength = SHA256_BYTES\n  this.finalised = false\n\n  this.load = new Uint8Array(this.buffer)\n  this.words = new Uint32Array(this.buffer)\n\n  this.state = new Uint32Array([\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n  ])\n\n  return this\n}\n\nSha256.prototype.update = function (input, enc) {\n  assert(this.finalised === false, 'Hash instance finalised')\n\n  var [inputBuf, len] = formatInput(input, enc)\n  var i = 0\n  this.bytesRead += len\n\n  while (len > 0) {\n    this.load.set(inputBuf.subarray(i, i + BLOCKSIZE - this.pos), this.pos)\n    i += BLOCKSIZE - this.pos\n    len -= BLOCKSIZE - this.pos\n\n    if (len < 0) break\n\n    this.pos = 0\n    compress(this.state, this.words)\n  }\n\n  this.pos = this.bytesRead & 0x3f\n  this.load.fill(0, this.pos)\n\n  return this\n}\n\nSha256.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalised === false, 'Hash instance finalised')\n  this.finalised = true\n\n  this.load.fill(0, this.pos)\n  this.load[this.pos] = 0x80\n\n  if (this.pos > 55) {\n    compress(this.state, this.words)\n\n    this.words.fill(0)\n    this.pos = 0\n  }\n\n  const view = new DataView(this.buffer)\n  view.setUint32(56, this.bytesRead / 2 ** 29)\n  view.setUint32(60, this.bytesRead << 3)\n\n  compress(this.state, this.words)\n\n  const resultBuf = new Uint8Array(this.state.map(bswap).buffer)\n\n  if (!enc) {\n    return new Uint8Array(resultBuf)\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset, 'input not large enough for digest')\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(64)\n  this.inner = Sha256()\n  this.outer = Sha256()\n\n  const keyhash = b4a.alloc(32)\n  if (key.byteLength > 64) {\n    Sha256().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha256.HMAC = HMAC\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\nfunction bswap (a) {\n  var r = ((a & 0x00ff00ff) >>> 8) | ((a & 0x00ff00ff) << 24)\n  var l = ((a & 0xff00ff00) << 8) | ((a & 0xff00ff00) >>> 24)\n\n  return r | l\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./sha256.wat\nvar require_sha256 = __commonJS({\n  \"wasm-binary:./sha256.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"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\");\n  }\n});\n\n// wasm-module:./sha256.wat\nvar bytes = require_sha256();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","const assert = require('nanoassert')\nconst b4a = require('b4a')\n\nconst wasm = typeof WebAssembly !== 'undefined' && require('./sha256.js')({\n  imports: {\n    debug: {\n      log (...args) {\n        console.log(...args.map(int => (int >>> 0).toString(16).padStart(8, '0')))\n      },\n      log_tee (arg) {\n        console.log((arg >>> 0).toString(16).padStart(8, '0'))\n        return arg\n      }\n    }\n  }\n})\n\nlet head = 0\nconst freeList = []\n\nmodule.exports = Sha256\nconst SHA256_BYTES = module.exports.SHA256_BYTES = 32\nconst INPUT_OFFSET = 40\nconst STATEBYTES = 108\nconst BLOCKSIZE = 64\n\nfunction Sha256 () {\n  if (!(this instanceof Sha256)) return new Sha256()\n  if (!(wasm)) throw new Error('WASM not loaded. Wait for Sha256.ready(cb)')\n\n  if (!freeList.length) {\n    freeList.push(head)\n    head += STATEBYTES // need 100 bytes for internal state\n  }\n\n  this.finalized = false\n  this.digestLength = SHA256_BYTES\n  this.pointer = freeList.pop()\n  this.pos = 0\n\n  this._memory = new Uint8Array(wasm.memory.buffer)\n  this._memory.fill(0, this.pointer, this.pointer + STATEBYTES)\n\n  if (this.pointer + this.digestLength > this._memory.length) this._realloc(this.pointer + STATEBYTES)\n}\n\nSha256.prototype._realloc = function (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - this._memory.length) / 65536)))\n  this._memory = new Uint8Array(wasm.memory.buffer)\n}\n\nSha256.prototype.update = function (input, enc) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  if (head % 4 !== 0) head += 4 - head % 4\n  assert(head % 4 === 0, 'input shoud be aligned for int32')\n\n  const [inputBuf, length] = formatInput(input, enc)\n\n  assert(inputBuf instanceof Uint8Array, 'input must be Uint8Array or Buffer')\n\n  if (head + length > this._memory.length) this._realloc(head + input.length)\n\n  this._memory.fill(0, head, head + roundUp(length, BLOCKSIZE) - BLOCKSIZE)\n  this._memory.set(inputBuf.subarray(0, BLOCKSIZE - this.pos), this.pointer + INPUT_OFFSET + this.pos)\n  this._memory.set(inputBuf.subarray(BLOCKSIZE - this.pos), head)\n\n  this.pos = (this.pos + length) & 0x3f\n  wasm.sha256(this.pointer, head, length, 0)\n\n  return this\n}\n\nSha256.prototype.digest = function (enc, offset = 0) {\n  assert(this.finalized === false, 'Hash instance finalized')\n\n  this.finalized = true\n  freeList.push(this.pointer)\n\n  const paddingStart = this.pointer + INPUT_OFFSET + this.pos\n  this._memory.fill(0, paddingStart, this.pointer + INPUT_OFFSET + BLOCKSIZE)\n  wasm.sha256(this.pointer, head, 0, 1)\n\n  const resultBuf = this._memory.subarray(this.pointer, this.pointer + this.digestLength)\n\n  if (!enc) {\n    return resultBuf\n  }\n\n  if (typeof enc === 'string') {\n    return b4a.toString(resultBuf, enc)\n  }\n\n  assert(enc instanceof Uint8Array, 'output must be Uint8Array or Buffer')\n  assert(enc.byteLength >= this.digestLength + offset,\n    \"output must have at least 'SHA256_BYTES' bytes remaining\")\n\n  for (let i = 0; i < this.digestLength; i++) {\n    enc[i + offset] = resultBuf[i]\n  }\n\n  return enc\n}\n\nSha256.WASM = wasm\nSha256.WASM_SUPPORTED = typeof WebAssembly !== 'undefined'\n\nSha256.ready = function (cb) {\n  if (!cb) cb = noop\n  if (!wasm) return cb(new Error('WebAssembly not supported'))\n  cb()\n  return Promise.resolve()\n}\n\nSha256.prototype.ready = Sha256.ready\n\nfunction HMAC (key) {\n  if (!(this instanceof HMAC)) return new HMAC(key)\n\n  this.pad = b4a.alloc(64)\n  this.inner = Sha256()\n  this.outer = Sha256()\n\n  const keyhash = b4a.alloc(32)\n  if (key.byteLength > 64) {\n    Sha256().update(key).digest(keyhash)\n    key = keyhash\n  }\n\n  this.pad.fill(0x36)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.inner.update(this.pad)\n\n  this.pad.fill(0x5c)\n  for (let i = 0; i < key.byteLength; i++) {\n    this.pad[i] ^= key[i]\n  }\n  this.outer.update(this.pad)\n\n  this.pad.fill(0)\n  keyhash.fill(0)\n}\n\nHMAC.prototype.update = function (input, enc) {\n  this.inner.update(input, enc)\n  return this\n}\n\nHMAC.prototype.digest = function (enc, offset = 0) {\n  this.outer.update(this.inner.digest())\n  return this.outer.digest(enc, offset)\n}\n\nSha256.HMAC = HMAC\n\nfunction noop () {}\n\nfunction formatInput (input, enc) {\n  var result = b4a.from(input, enc)\n\n  return [result, result.byteLength]\n}\n\n// only works for base that is power of 2\nfunction roundUp (n, base) {\n  return (n + base - 1) & -base\n}\n","const js = require('./sha256.js')\nconst wasm = require('sha256-wasm')\n\nvar Proto = js\n\nmodule.exports = function () {\n  return new Proto()\n}\n\nmodule.exports.ready = function (cb) {\n  wasm.ready(function () { // ignore errors\n    cb()\n  })\n}\n\nmodule.exports.WASM_SUPPORTED = wasm.WASM_SUPPORTED\nmodule.exports.WASM_LOADED = false\n\nvar SHA256_BYTES = module.exports.SHA256_BYTES = 32\n\nwasm.ready(function (err) {\n  if (!err) {\n    module.exports.WASM_LOADED = true\n    module.exports = Proto = wasm\n  }\n})\n","/* eslint-disable camelcase */\nconst sha256 = require('sha256-universal')\nconst assert = require('nanoassert')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nconst crypto_hash_sha256_BYTES = 32\n\nfunction crypto_hash_sha256 (out, m, n) {\n  assert(out.byteLength === crypto_hash_sha256_BYTES, \"out must be 'crypto_hash_sha256_BYTES' bytes long\")\n\n  sha256().update(m.subarray(0, n)).digest(out)\n  return 0\n}\n\nmodule.exports = {\n  crypto_hash_sha256,\n  crypto_hash_sha256_BYTES\n}\n","/* eslint-disable camelcase */\nconst assert = require('nanoassert')\nconst randombytes_buf = require('./randombytes').randombytes_buf\nconst blake2b = require('blake2b')\n\nmodule.exports.crypto_kdf_PRIMITIVE = 'blake2b'\nmodule.exports.crypto_kdf_BYTES_MIN = 16\nmodule.exports.crypto_kdf_BYTES_MAX = 64\nmodule.exports.crypto_kdf_CONTEXTBYTES = 8\nmodule.exports.crypto_kdf_KEYBYTES = 32\n\nfunction STORE64_LE (dest, int) {\n  var mul = 1\n  var i = 0\n  dest[0] = int & 0xFF\n  while (++i < 8 && (mul *= 0x100)) {\n    dest[i] = (int / mul) & 0xFF\n  }\n}\n\nmodule.exports.crypto_kdf_derive_from_key = function crypto_kdf_derive_from_key (subkey, subkey_id, ctx, key) {\n  assert(subkey.length >= module.exports.crypto_kdf_BYTES_MIN, 'subkey must be at least crypto_kdf_BYTES_MIN')\n  assert(subkey_id >= 0 && subkey_id <= 0x1fffffffffffff, 'subkey_id must be safe integer')\n  assert(ctx.length >= module.exports.crypto_kdf_CONTEXTBYTES, 'context must be at least crypto_kdf_CONTEXTBYTES')\n\n  var ctx_padded = new Uint8Array(blake2b.PERSONALBYTES)\n  var salt = new Uint8Array(blake2b.SALTBYTES)\n\n  ctx_padded.set(ctx, 0, module.exports.crypto_kdf_CONTEXTBYTES)\n  STORE64_LE(salt, subkey_id)\n\n  var outlen = Math.min(subkey.length, module.exports.crypto_kdf_BYTES_MAX)\n  blake2b(outlen, key.subarray(0, module.exports.crypto_kdf_KEYBYTES), salt, ctx_padded, true)\n    .final(subkey)\n}\n\nmodule.exports.crypto_kdf_keygen = function crypto_kdf_keygen (out) {\n  assert(out.length >= module.exports.crypto_kdf_KEYBYTES, 'out.length must be crypto_kdf_KEYBYTES')\n  randombytes_buf(out.subarray(0, module.exports.crypto_kdf_KEYBYTES))\n}\n","/* eslint-disable camelcase */\nconst { crypto_scalarmult_base } = require('./crypto_scalarmult')\nconst { crypto_generichash } = require('./crypto_generichash')\nconst { randombytes_buf } = require('./randombytes')\nconst assert = require('nanoassert')\n\nconst crypto_kx_SEEDBYTES = 32\nconst crypto_kx_PUBLICKEYBYTES = 32\nconst crypto_kx_SECRETKEYBYTES = 32\n\nfunction crypto_kx_keypair (pk, sk) {\n  assert(pk.byteLength === crypto_kx_PUBLICKEYBYTES, \"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_kx_SECRETKEYBYTES, \"sk must be 'crypto_kx_SECRETKEYBYTES' bytes\")\n\n  randombytes_buf(sk, crypto_kx_SECRETKEYBYTES)\n  return crypto_scalarmult_base(pk, sk)\n}\n\nfunction crypto_kx_seed_keypair (pk, sk, seed) {\n  assert(pk.byteLength === crypto_kx_PUBLICKEYBYTES, \"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes\")\n  assert(sk.byteLength === crypto_kx_SECRETKEYBYTES, \"sk must be 'crypto_kx_SECRETKEYBYTES' bytes\")\n  assert(seed.byteLength === crypto_kx_SEEDBYTES, \"seed must be 'crypto_kx_SEEDBYTES' bytes\")\n\n  crypto_generichash(sk, seed)\n  return crypto_scalarmult_base(pk, sk)\n}\n\nmodule.exports = {\n  crypto_kx_keypair,\n  crypto_kx_seed_keypair,\n  crypto_kx_SEEDBYTES,\n  crypto_kx_SECRETKEYBYTES,\n  crypto_kx_PUBLICKEYBYTES\n}\n","const assert = require('nanoassert')\n\nmodule.exports = Chacha20\n\nconst constant = [1634760805, 857760878, 2036477234, 1797285236]\n\nfunction Chacha20 (nonce, key, counter) {\n  assert(key.byteLength === 32)\n  assert(nonce.byteLength === 8 || nonce.byteLength === 12)\n\n  const n = new Uint32Array(nonce.buffer, nonce.byteOffset, nonce.byteLength / 4)\n  const k = new Uint32Array(key.buffer, key.byteOffset, key.byteLength / 4)\n\n  if (!counter) counter = 0\n  assert(counter < Number.MAX_SAFE_INTEGER)\n\n  this.finalized = false\n  this.pos = 0\n  this.state = new Uint32Array(16)\n\n  for (let i = 0; i < 4; i++) this.state[i] = constant[i]\n  for (let i = 0; i < 8; i++) this.state[4 + i] = k[i]\n\n  this.state[12] = counter & 0xffffffff\n\n  if (n.byteLength === 8) {\n    this.state[13] = (counter && 0xffffffff00000000) >> 32\n    this.state[14] = n[0]\n    this.state[15] = n[1]\n  } else {\n    this.state[13] = n[0]\n    this.state[14] = n[1]\n    this.state[15] = n[2]\n  }\n\n  return this\n}\n\nChacha20.prototype.update = function (output, input) {\n  assert(!this.finalized, 'cipher finalized.')\n  assert(output.byteLength >= input.byteLength,\n    'output cannot be shorter than input.')\n\n  let len = input.length\n  let offset = this.pos % 64\n  this.pos += len\n\n  // input position\n  let j = 0\n\n  let keyStream = chacha20Block(this.state)\n\n  // try to finsih the current block\n  while (offset > 0 && len > 0) {\n    output[j] = input[j++] ^ keyStream[offset]\n    offset = (offset + 1) & 0x3f\n    if (!offset) this.state[12]++\n    len--\n  }\n\n  // encrypt rest block at a time\n  while (len > 0) {\n    keyStream = chacha20Block(this.state)\n\n    // less than a full block remaining\n    if (len < 64) {\n      for (let i = 0; i < len; i++) {\n        output[j] = input[j++] ^ keyStream[offset++]\n        offset &= 0x3f\n      }\n\n      return\n    }\n\n    for (; offset < 64;) {\n      output[j] = input[j++] ^ keyStream[offset++]\n    }\n\n    this.state[12]++\n    offset = 0\n    len -= 64\n  }\n}\n\nChacha20.prototype.final = function () {\n  this.state.fill(0)\n  this.pos = 0\n  this.finalized = true\n}\n\nfunction chacha20Block (state) {\n  // working state\n  const ws = new Uint32Array(16)\n  for (let i = 16; i--;) ws[i] = state[i]\n\n  for (let i = 0; i < 20; i += 2) {\n    QR(ws, 0, 4, 8, 12) // column 0\n    QR(ws, 1, 5, 9, 13) // column 1\n    QR(ws, 2, 6, 10, 14) // column 2\n    QR(ws, 3, 7, 11, 15) // column 3\n\n    QR(ws, 0, 5, 10, 15) // diagonal 1 (main diagonal)\n    QR(ws, 1, 6, 11, 12) // diagonal 2\n    QR(ws, 2, 7, 8, 13) // diagonal 3\n    QR(ws, 3, 4, 9, 14) // diagonal 4\n  }\n\n  for (let i = 0; i < 16; i++) {\n    ws[i] += state[i]\n  }\n\n  return new Uint8Array(ws.buffer, ws.byteOffset, ws.byteLength)\n}\n\nfunction rotl (a, b) {\n  return ((a << b) | (a >>> (32 - b)))\n}\n\nfunction QR (obj, a, b, c, d) {\n  obj[a] += obj[b]\n  obj[d] ^= obj[a]\n  obj[d] = rotl(obj[d], 16)\n\n  obj[c] += obj[d]\n  obj[b] ^= obj[c]\n  obj[b] = rotl(obj[b], 12)\n\n  obj[a] += obj[b]\n  obj[d] ^= obj[a]\n  obj[d] = rotl(obj[d], 8)\n\n  obj[c] += obj[d]\n  obj[b] ^= obj[c]\n  obj[b] = rotl(obj[b], 7)\n}\n","const assert = require('nanoassert')\nconst Chacha20 = require('chacha20-universal')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_stream_chacha20_KEYBYTES = 32\nexports.crypto_stream_chacha20_NONCEBYTES = 8\nexports.crypto_stream_chacha20_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nexports.crypto_stream_chacha20_ietf_KEYBYTES = 32\nexports.crypto_stream_chacha20_ietf_NONCEBYTES = 12\nexports.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX = 2 ** 32\n\nexports.crypto_stream_chacha20 = function (c, n, k) {\n  c.fill(0)\n  exports.crypto_stream_chacha20_xor(c, c, n, k)\n}\n\nexports.crypto_stream_chacha20_xor = function (c, m, n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  const xor = new Chacha20(n, k)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_xor_ic = function (c, m, n, ic, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  const xor = new Chacha20(n, k, ic)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_xor_instance = function (n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_NONCEBYTES,\n    'n should be crypto_stream_chacha20_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_KEYBYTES,\n    'k should be crypto_stream_chacha20_KEYBYTES')\n\n  return new Chacha20(n, k)\n}\n\nexports.crypto_stream_chacha20_ietf = function (c, n, k) {\n  c.fill(0)\n  exports.crypto_stream_chacha20_ietf_xor(c, c, n, k)\n}\n\nexports.crypto_stream_chacha20_ietf_xor = function (c, m, n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  const xor = new Chacha20(n, k)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_ietf_xor_ic = function (c, m, n, ic, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  const xor = new Chacha20(n, k, ic)\n  xor.update(c, m)\n  xor.final()\n}\n\nexports.crypto_stream_chacha20_ietf_xor_instance = function (n, k) {\n  assert(n.byteLength === exports.crypto_stream_chacha20_ietf_NONCEBYTES,\n    'n should be crypto_stream_chacha20_ietf_NONCEBYTES')\n  assert(k.byteLength === exports.crypto_stream_chacha20_ietf_KEYBYTES,\n    'k should be crypto_stream_chacha20_ietf_KEYBYTES')\n\n  return new Chacha20(n, k)\n}\n","/* eslint-disable camelcase */\nconst { crypto_stream_chacha20_ietf, crypto_stream_chacha20_ietf_xor_ic } = require('./crypto_stream_chacha20')\nconst { crypto_verify_16 } = require('./crypto_verify')\nconst Poly1305 = require('./internal/poly1305')\nconst assert = require('nanoassert')\n\nconst crypto_aead_chacha20poly1305_ietf_KEYBYTES = 32\nconst crypto_aead_chacha20poly1305_ietf_NSECBYTES = 0\nconst crypto_aead_chacha20poly1305_ietf_NPUBBYTES = 12\nconst crypto_aead_chacha20poly1305_ietf_ABYTES = 16\nconst crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX = Number.MAX_SAFE_INTEGER\n\nconst _pad0 = new Uint8Array(16)\n\nfunction crypto_aead_chacha20poly1305_ietf_encrypt (c, m, ad, nsec, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_encrypt(c, m, new Uint8Array(0), nsec, npub, k)\n\n  assert(c.byteLength === m.byteLength + crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message\")\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n\n  const ret = crypto_aead_chacha20poly1305_ietf_encrypt_detached(c.subarray(0, m.byteLength),\n    c.subarray(m.byteLength), m, ad, nsec, npub, k)\n\n  return m.byteLength + ret\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_encrypt_detached (c, mac, m, ad, nsec, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_encrypt_detached(c, mac, m, new Uint8Array(0), nsec, npub, k)\n\n  assert(c.byteLength === m.byteLength, 'ciphertext should be same length than message')\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n  assert(mac.byteLength <= crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long\")\n\n  const block0 = new Uint8Array(64)\n  var slen = new Uint8Array(8)\n\n  crypto_stream_chacha20_ietf(block0, npub, k)\n  const poly = new Poly1305(block0)\n  block0.fill(0)\n\n  poly.update(ad, 0, ad.byteLength)\n  poly.update(_pad0, 0, (0x10 - ad.byteLength) & 0xf)\n\n  crypto_stream_chacha20_ietf_xor_ic(c, m, npub, 1, k)\n\n  poly.update(c, 0, m.byteLength)\n  poly.update(_pad0, 0, (0x10 - m.byteLength) & 0xf)\n\n  write64LE(slen, 0, ad.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  write64LE(slen, 0, m.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  poly.finish(mac, 0)\n  slen.fill(0)\n\n  return crypto_aead_chacha20poly1305_ietf_ABYTES\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_decrypt (m, nsec, c, ad, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_decrypt(m, nsec, c, new Uint8Array(0), npub, k)\n\n  assert(m.byteLength === c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext\")\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n\n  if (c.byteLength < crypto_aead_chacha20poly1305_ietf_ABYTES) throw new Error('could not verify data')\n\n  crypto_aead_chacha20poly1305_ietf_decrypt_detached(\n    m, nsec,\n    c.subarray(0, c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES),\n    c.subarray(c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES),\n    ad, npub, k)\n\n  return c.byteLength - crypto_aead_chacha20poly1305_ietf_ABYTES\n}\n\nfunction crypto_aead_chacha20poly1305_ietf_decrypt_detached (m, nsec, c, mac, ad, npub, k) {\n  if (ad === null) return crypto_aead_chacha20poly1305_ietf_decrypt_detached(m, nsec, c, mac, new Uint8Array(0), npub, k)\n\n  assert(c.byteLength === m.byteLength, 'message should be same length than ciphertext')\n  assert(npub.byteLength === crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n    \"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long\")\n  assert(k.byteLength === crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n    \"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long\")\n  assert(m.byteLength <= crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX, 'message is too large')\n  assert(mac.byteLength <= crypto_aead_chacha20poly1305_ietf_ABYTES,\n    \"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long\")\n\n  const block0 = new Uint8Array(64)\n  const slen = new Uint8Array(8)\n  const computed_mac = new Uint8Array(crypto_aead_chacha20poly1305_ietf_ABYTES)\n\n  crypto_stream_chacha20_ietf(block0, npub, k)\n  const poly = new Poly1305(block0)\n  block0.fill(0)\n\n  poly.update(ad, 0, ad.byteLength)\n  poly.update(_pad0, 0, (0x10 - ad.byteLength) & 0xf)\n\n  const mlen = c.byteLength\n  poly.update(c, 0, mlen)\n  poly.update(_pad0, 0, (0x10 - mlen) & 0xf)\n\n  write64LE(slen, 0, ad.byteLength)\n  poly.update(slen, 0, slen.byteLength)\n\n  write64LE(slen, 0, mlen)\n  poly.update(slen, 0, slen.byteLength)\n\n  poly.finish(computed_mac, 0)\n\n  assert(computed_mac.byteLength === 16)\n  const ret = crypto_verify_16(computed_mac, 0, mac, 0)\n\n  computed_mac.fill(0)\n  slen.fill(0)\n\n  if (!ret) {\n    m.fill(0)\n    throw new Error('could not verify data')\n  }\n\n  crypto_stream_chacha20_ietf_xor_ic(m, c, npub, 1, k)\n}\n\nfunction write64LE (buf, offset, int) {\n  buf.fill(0, 0, 8)\n\n  const view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength)\n  view.setUint32(offset, int & 0xffffffff, true)\n  view.setUint32(offset + 4, (int / 2 ** 32) & 0xffffffff, true)\n}\n\nmodule.exports = {\n  crypto_aead_chacha20poly1305_ietf_encrypt,\n  crypto_aead_chacha20poly1305_ietf_encrypt_detached,\n  crypto_aead_chacha20poly1305_ietf_decrypt,\n  crypto_aead_chacha20poly1305_ietf_decrypt_detached,\n  crypto_aead_chacha20poly1305_ietf_ABYTES,\n  crypto_aead_chacha20poly1305_ietf_KEYBYTES,\n  crypto_aead_chacha20poly1305_ietf_NPUBBYTES,\n  crypto_aead_chacha20poly1305_ietf_NSECBYTES,\n  crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX\n}\n","var __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __toBinary = /* @__PURE__ */ (() => {\n  var table = new Uint8Array(128);\n  for (var i = 0; i < 64; i++)\n    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;\n  return (base64) => {\n    var n = base64.length, bytes2 = new Uint8Array((n - (base64[n - 1] == \"=\") - (base64[n - 2] == \"=\")) * 3 / 4 | 0);\n    for (var i2 = 0, j = 0; i2 < n; ) {\n      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];\n      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];\n      bytes2[j++] = c0 << 2 | c1 >> 4;\n      bytes2[j++] = c1 << 4 | c2 >> 2;\n      bytes2[j++] = c2 << 6 | c3;\n    }\n    return bytes2;\n  };\n})();\n\n// wasm-binary:./siphash24.wat\nvar require_siphash24 = __commonJS({\n  \"wasm-binary:./siphash24.wat\"(exports2, module2) {\n    module2.exports = __toBinary(\"AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=\");\n  }\n});\n\n// wasm-module:./siphash24.wat\nvar bytes = require_siphash24();\nvar compiled = new WebAssembly.Module(bytes);\nmodule.exports = (imports) => {\n  const instance = new WebAssembly.Instance(compiled, imports);\n  return instance.exports;\n};\n","module.exports = fallback\n\nfunction _add (a, b) {\n  var rl = a.l + b.l\n  var a2 = {\n    h: a.h + b.h + (rl / 2 >>> 31) >>> 0,\n    l: rl >>> 0\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _xor (a, b) {\n  a.h ^= b.h\n  a.h >>>= 0\n  a.l ^= b.l\n  a.l >>>= 0\n}\n\nfunction _rotl (a, n) {\n  var a2 = {\n    h: a.h << n | a.l >>> (32 - n),\n    l: a.l << n | a.h >>> (32 - n)\n  }\n  a.h = a2.h\n  a.l = a2.l\n}\n\nfunction _rotl32 (a) {\n  var al = a.l\n  a.l = a.h\n  a.h = al\n}\n\nfunction _compress (v0, v1, v2, v3) {\n  _add(v0, v1)\n  _add(v2, v3)\n  _rotl(v1, 13)\n  _rotl(v3, 16)\n  _xor(v1, v0)\n  _xor(v3, v2)\n  _rotl32(v0)\n  _add(v2, v1)\n  _add(v0, v3)\n  _rotl(v1, 17)\n  _rotl(v3, 21)\n  _xor(v1, v2)\n  _xor(v3, v0)\n  _rotl32(v2)\n}\n\nfunction _get_int (a, offset) {\n  return (a[offset + 3] << 24) | (a[offset + 2] << 16) | (a[offset + 1] << 8) | a[offset]\n}\n\nfunction fallback (out, m, key) { // modified from https://github.com/jedisct1/siphash-js to use uint8arrays\n  var k0 = {h: _get_int(key, 4), l: _get_int(key, 0)}\n  var k1 = {h: _get_int(key, 12), l: _get_int(key, 8)}\n  var v0 = {h: k0.h, l: k0.l}\n  var v2 = k0\n  var v1 = {h: k1.h, l: k1.l}\n  var v3 = k1\n  var mi\n  var mp = 0\n  var ml = m.length\n  var ml7 = ml - 7\n  var buf = new Uint8Array(new ArrayBuffer(8))\n\n  _xor(v0, {h: 0x736f6d65, l: 0x70736575})\n  _xor(v1, {h: 0x646f7261, l: 0x6e646f6d})\n  _xor(v2, {h: 0x6c796765, l: 0x6e657261})\n  _xor(v3, {h: 0x74656462, l: 0x79746573})\n\n  while (mp < ml7) {\n    mi = {h: _get_int(m, mp + 4), l: _get_int(m, mp)}\n    _xor(v3, mi)\n    _compress(v0, v1, v2, v3)\n    _compress(v0, v1, v2, v3)\n    _xor(v0, mi)\n    mp += 8\n  }\n\n  buf[7] = ml\n  var ic = 0\n  while (mp < ml) {\n    buf[ic++] = m[mp++]\n  }\n  while (ic < 7) {\n    buf[ic++] = 0\n  }\n\n  mi = {\n    h: buf[7] << 24 | buf[6] << 16 | buf[5] << 8 | buf[4],\n    l: buf[3] << 24 | buf[2] << 16 | buf[1] << 8 | buf[0]\n  }\n\n  _xor(v3, mi)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _xor(v0, mi)\n  _xor(v2, { h: 0, l: 0xff })\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n  _compress(v0, v1, v2, v3)\n\n  var h = v0\n  _xor(h, v1)\n  _xor(h, v2)\n  _xor(h, v3)\n\n  out[0] = h.l & 0xff\n  out[1] = (h.l >> 8) & 0xff\n  out[2] = (h.l >> 16) & 0xff\n  out[3] = (h.l >> 24) & 0xff\n  out[4] = h.h & 0xff\n  out[5] = (h.h >> 8) & 0xff\n  out[6] = (h.h >> 16) & 0xff\n  out[7] = (h.h >> 24) & 0xff\n}\n","var assert = require('nanoassert')\nvar wasm = typeof WebAssembly !== 'undefined' && require('./siphash24')()\nvar fallback = require('./fallback')\n\nmodule.exports = siphash24\n\nvar BYTES = siphash24.BYTES = 8\nvar KEYBYTES = siphash24.KEYBYTES = 16\n\nsiphash24.WASM_SUPPORTED = !!wasm\nsiphash24.WASM_LOADED = !!wasm\n\nvar memory = new Uint8Array(wasm.memory.buffer)\n\nfunction siphash24 (data, key, out, noAssert) {\n  if (!out) out = new Uint8Array(8)\n\n  if (noAssert !== true) {\n    assert(out.length >= BYTES, 'output must be at least ' + BYTES)\n    assert(key.length >= KEYBYTES, 'key must be at least ' + KEYBYTES)\n  }\n\n  if (wasm) {\n    if (data.length + 24 > memory.length) realloc(data.length + 24)\n    memory.set(key, 8)\n    memory.set(data, 24)\n    wasm.siphash(24, data.length)\n    out.set(memory.subarray(0, 8))\n  } else {\n    fallback(out, data, key)\n  }\n\n  return out\n}\n\nfunction realloc (size) {\n  wasm.memory.grow(Math.max(0, Math.ceil(Math.abs(size - memory.length) / 65536)))\n  memory = new Uint8Array(wasm.memory.buffer)\n}\n","var siphash = require('siphash24')\n\nif (new Uint16Array([1])[0] !== 1) throw new Error('Big endian architecture is not supported.')\n\nexports.crypto_shorthash_PRIMITIVE = 'siphash24'\nexports.crypto_shorthash_BYTES = siphash.BYTES\nexports.crypto_shorthash_KEYBYTES = siphash.KEYBYTES\nexports.crypto_shorthash_WASM_SUPPORTED = siphash.WASM_SUPPORTED\nexports.crypto_shorthash_WASM_LOADED = siphash.WASM_LOADED\nexports.crypto_shorthash = shorthash\n\nfunction shorthash (out, data, key, noAssert) {\n  siphash(data, key, out, noAssert)\n}\n","/* eslint-disable camelcase, one-var */\nconst { crypto_verify_32 } = require('./crypto_verify')\nconst { crypto_hash } = require('./crypto_hash')\nconst {\n  gf, gf0, gf1, D, D2,\n  X, Y, I, A, Z, M, S,\n  sel25519, pack25519,\n  inv25519, unpack25519\n} = require('./internal/ed25519')\nconst { randombytes } = require('./randombytes')\nconst { crypto_scalarmult_BYTES } = require('./crypto_scalarmult.js')\nconst { crypto_hash_sha512_BYTES } = require('./crypto_hash.js')\nconst assert = require('nanoassert')\n\nconst crypto_sign_ed25519_PUBLICKEYBYTES = 32\nconst crypto_sign_ed25519_SECRETKEYBYTES = 64\nconst crypto_sign_ed25519_SEEDBYTES = 32\nconst crypto_sign_ed25519_BYTES = 64\n\nconst crypto_sign_BYTES = crypto_sign_ed25519_BYTES\nconst crypto_sign_PUBLICKEYBYTES = crypto_sign_ed25519_PUBLICKEYBYTES\nconst crypto_sign_SECRETKEYBYTES = crypto_sign_ed25519_SECRETKEYBYTES\nconst crypto_sign_SEEDBYTES = crypto_sign_ed25519_SEEDBYTES\n\nmodule.exports = {\n  crypto_sign_keypair,\n  crypto_sign_seed_keypair,\n  crypto_sign,\n  crypto_sign_detached,\n  crypto_sign_open,\n  crypto_sign_verify_detached,\n  crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES,\n  crypto_sign_ed25519_PUBLICKEYBYTES,\n  crypto_sign_ed25519_SECRETKEYBYTES,\n  crypto_sign_ed25519_SEEDBYTES,\n  crypto_sign_ed25519_BYTES,\n  crypto_sign_ed25519_pk_to_curve25519,\n  crypto_sign_ed25519_sk_to_curve25519,\n  crypto_sign_ed25519_sk_to_pk,\n  unpackneg,\n  pack\n}\n\nfunction set25519 (r, a) {\n  for (let i = 0; i < 16; i++) r[i] = a[i] | 0\n}\n\nfunction pow2523 (o, i) {\n  var c = gf()\n  var a\n  for (a = 0; a < 16; a++) c[a] = i[a]\n  for (a = 250; a >= 0; a--) {\n    S(c, c)\n    if (a !== 1) M(c, c, i)\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a]\n}\n\nfunction add (p, q) {\n  var a = gf(), b = gf(), c = gf(),\n    d = gf(), e = gf(), f = gf(),\n    g = gf(), h = gf(), t = gf()\n\n  Z(a, p[1], p[0])\n  Z(t, q[1], q[0])\n  M(a, a, t)\n  A(b, p[0], p[1])\n  A(t, q[0], q[1])\n  M(b, b, t)\n  M(c, p[3], q[3])\n  M(c, c, D2)\n  M(d, p[2], q[2])\n  A(d, d, d)\n  Z(e, b, a)\n  Z(f, d, c)\n  A(g, d, c)\n  A(h, b, a)\n\n  M(p[0], e, f)\n  M(p[1], h, g)\n  M(p[2], g, f)\n  M(p[3], e, h)\n}\n\nfunction cswap (p, q, b) {\n  var i\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b)\n  }\n}\n\nfunction pack (r, p) {\n  var tx = gf(), ty = gf(), zi = gf()\n  inv25519(zi, p[2])\n  M(tx, p[0], zi)\n  M(ty, p[1], zi)\n  pack25519(r, ty)\n  r[31] ^= par25519(tx) << 7\n}\n\nfunction scalarmult (p, q, s) {\n  // don't mutate q\n  var h = [gf(q[0]), gf(q[1]), gf(q[2]), gf(q[3])]\n  var b, i\n  set25519(p[0], gf0)\n  set25519(p[1], gf1)\n  set25519(p[2], gf1)\n  set25519(p[3], gf0)\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i / 8) | 0] >> (i & 7)) & 1\n    cswap(p, h, b)\n    add(h, p)\n    add(p, p)\n    cswap(p, h, b)\n  }\n}\n\nfunction scalarbase (p, s) {\n  var q = [gf(), gf(), gf(), gf()]\n  set25519(q[0], X)\n  set25519(q[1], Y)\n  set25519(q[2], gf1)\n  M(q[3], X, Y)\n  scalarmult(p, q, s)\n}\n\nfunction crypto_sign_keypair (pk, sk, seeded) {\n  check(pk, crypto_sign_PUBLICKEYBYTES)\n  check(sk, crypto_sign_SECRETKEYBYTES)\n\n  var d = new Uint8Array(64)\n  var p = [gf(), gf(), gf(), gf()]\n  var i\n\n  if (!seeded) randombytes(sk, 32)\n  crypto_hash(d, sk, 32)\n  d[0] &= 248\n  d[31] &= 127\n  d[31] |= 64\n\n  scalarbase(p, d)\n  pack(pk, p)\n\n  for (i = 0; i < 32; i++) sk[i + 32] = pk[i]\n}\n\nfunction crypto_sign_seed_keypair (pk, sk, seed) {\n  check(seed, crypto_sign_SEEDBYTES)\n  sk.set(seed)\n  return crypto_sign_keypair(pk, sk, true)\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10])\n\nfunction modL (r, x) {\n  var carry, i, j, k\n  for (i = 63; i >= 32; --i) {\n    carry = 0\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)]\n      carry = (x[j] + 128) >> 8\n      x[j] -= carry * 256\n    }\n    x[j] += carry\n    x[i] = 0\n  }\n  carry = 0\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j]\n    carry = x[j] >> 8\n    x[j] &= 255\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j]\n  for (i = 0; i < 32; i++) {\n    x[i + 1] += x[i] >> 8\n    r[i] = x[i] & 255\n  }\n}\n\nfunction reduce (r) {\n  var x = new Float64Array(64)\n  for (let i = 0; i < 64; i++) x[i] = r[i]\n  for (let i = 0; i < 64; i++) r[i] = 0\n  modL(r, x)\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign (sm, m, sk) {\n  check(sm, crypto_sign_BYTES + m.length)\n  check(m, 0)\n  check(sk, crypto_sign_SECRETKEYBYTES)\n  var n = m.length\n\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64)\n  var i, j, x = new Float64Array(64)\n  var p = [gf(), gf(), gf(), gf()]\n\n  crypto_hash(d, sk, 32)\n  d[0] &= 248\n  d[31] &= 127\n  d[31] |= 64\n\n  var smlen = n + 64\n  for (i = 0; i < n; i++) sm[64 + i] = m[i]\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i]\n\n  crypto_hash(r, sm.subarray(32), n + 32)\n  reduce(r)\n  scalarbase(p, r)\n  pack(sm, p)\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i]\n  crypto_hash(h, sm, n + 64)\n  reduce(h)\n\n  for (i = 0; i < 64; i++) x[i] = 0\n  for (i = 0; i < 32; i++) x[i] = r[i]\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i + j] += h[i] * d[j]\n    }\n  }\n\n  modL(sm.subarray(32), x)\n  return smlen\n}\n\nfunction crypto_sign_detached (sig, m, sk) {\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  crypto_sign(sm, m, sk)\n  for (let i = 0; i < crypto_sign_BYTES; i++) sig[i] = sm[i]\n}\n\nfunction unpackneg (r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n    den = gf(), den2 = gf(), den4 = gf(),\n    den6 = gf()\n\n  set25519(r[2], gf1)\n  unpack25519(r[1], p)\n  S(num, r[1])\n  M(den, num, D)\n  Z(num, num, r[2])\n  A(den, r[2], den)\n\n  S(den2, den)\n  S(den4, den2)\n  M(den6, den4, den2)\n  M(t, den6, num)\n  M(t, t, den)\n\n  pow2523(t, t)\n  M(t, t, num)\n  M(t, t, den)\n  M(t, t, den)\n  M(r[0], t, den)\n\n  S(chk, r[0])\n  M(chk, chk, den)\n  if (!neq25519(chk, num)) M(r[0], r[0], I)\n\n  S(chk, r[0])\n  M(chk, chk, den)\n  if (!neq25519(chk, num)) return false\n\n  if (par25519(r[0]) === (p[31] >> 7)) {\n    Z(r[0], gf(), r[0])\n  }\n\n  M(r[3], r[0], r[1])\n  return true\n}\n\n/* eslint-disable no-unused-vars */\nfunction crypto_sign_open (msg, sm, pk) {\n  check(msg, sm.length - crypto_sign_BYTES)\n  check(sm, crypto_sign_BYTES)\n  check(pk, crypto_sign_PUBLICKEYBYTES)\n  var n = sm.length\n  var m = new Uint8Array(sm.length)\n\n  var i, mlen\n  var t = new Uint8Array(32), h = new Uint8Array(64)\n  var p = [gf(), gf(), gf(), gf()],\n    q = [gf(), gf(), gf(), gf()]\n\n  mlen = -1\n  if (n < 64) return false\n\n  if (!unpackneg(q, pk)) return false\n\n  for (i = 0; i < n; i++) m[i] = sm[i]\n  for (i = 0; i < 32; i++) m[i + 32] = pk[i]\n  crypto_hash(h, m, n)\n  reduce(h)\n  scalarmult(p, q, h)\n\n  scalarbase(q, sm.subarray(32))\n  add(p, q)\n  pack(t, p)\n\n  n -= 64\n  if (!crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0\n    return false\n    // throw new Error('crypto_sign_open failed')\n  }\n\n  for (i = 0; i < n; i++) msg[i] = sm[i + 64]\n  mlen = n\n  return true\n}\n/* eslint-enable no-unused-vars */\n\nfunction crypto_sign_verify_detached (sig, m, pk) {\n  check(sig, crypto_sign_BYTES)\n  var sm = new Uint8Array(m.length + crypto_sign_BYTES)\n  var i = 0\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i]\n  for (i = 0; i < m.length; i++) sm[i + crypto_sign_BYTES] = m[i]\n  return crypto_sign_open(m, sm, pk)\n}\n\nfunction par25519 (a) {\n  var d = new Uint8Array(32)\n  pack25519(d, a)\n  return d[0] & 1\n}\n\nfunction neq25519 (a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32)\n  pack25519(c, a)\n  pack25519(d, b)\n  return crypto_verify_32(c, 0, d, 0)\n}\n\nfunction ed25519_mul_l (p, q) {\n  scalarmult(p, q, L)\n}\n\nfunction ed25519_is_on_main_subgroup (p) {\n  var pl = [gf(), gf(), gf(), gf()]\n\n  ed25519_mul_l(pl, p)\n\n  var zero = 0\n  for (let i = 0; i < 16; i++) {\n    zero |= (pl[0][i] & 0xffff)\n  }\n\n  return zero === 0\n}\n\nfunction crypto_sign_ed25519_pk_to_curve25519 (x25519_pk, ed25519_pk) {\n  check(x25519_pk, crypto_sign_PUBLICKEYBYTES)\n  check(ed25519_pk, crypto_sign_ed25519_PUBLICKEYBYTES)\n\n  var a = [gf(), gf(), gf(), gf()]\n  var x = gf([1])\n  var one_minus_y = gf([1])\n\n  assert(\n    isSmallOrder(ed25519_pk) &&\n    unpackneg(a, ed25519_pk) &&\n    ed25519_is_on_main_subgroup(a), 'Cannot convert key: bad point')\n\n  for (let i = 0; i < a.length; i++) {\n    pack25519(x25519_pk, a[i])\n  }\n\n  Z(one_minus_y, one_minus_y, a[1])\n  A(x, x, a[1])\n  inv25519(one_minus_y, one_minus_y)\n  M(x, x, one_minus_y)\n  pack25519(x25519_pk, x)\n\n  return 0\n}\n\nfunction isSmallOrder (s) {\n  Uint8Array.from([])\n\n  var bad_points = [\n    // 0 (order 4)\n    Uint8Array.from([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]),\n\n    // 1 (order 1)\n    Uint8Array.from([0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]),\n\n    // 2707385501144840649318225287225658788936804267575313519463743609750303402022(order 8)\n    Uint8Array.from([0x26, 0xe8, 0x95, 0x8f, 0xc2, 0xb2, 0x27, 0xb0, 0x45, 0xc3,\n      0xf4, 0x89, 0xf2, 0xef, 0x98, 0xf0, 0xd5, 0xdf, 0xac, 0x05, 0xd3,\n      0xc6, 0x33, 0x39, 0xb1, 0x38, 0x02, 0x88, 0x6d, 0x53, 0xfc, 0x05]),\n\n    // 55188659117513257062467267217118295137698188065244968500265048394206261417927 (order 8)\n    Uint8Array.from([0xc7, 0x17, 0x6a, 0x70, 0x3d, 0x4d, 0xd8, 0x4f, 0xba, 0x3c,\n      0x0b, 0x76, 0x0d, 0x10, 0x67, 0x0f, 0x2a, 0x20, 0x53, 0xfa, 0x2c,\n      0x39, 0xcc, 0xc6, 0x4e, 0xc7, 0xfd, 0x77, 0x92, 0xac, 0x03, 0x7a]),\n\n    // p-1 (order 2)\n    Uint8Array.from([0xec, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f]),\n\n    //  p (=0 order 4)\n    Uint8Array.from([0xed, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f]),\n\n    // p + 1 (=1 order 1)\n    Uint8Array.from([0xee, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n      0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f])\n  ]\n\n  var c = new Uint8Array(7)\n  var j\n\n  check(bad_points, 7)\n  for (let i = 0; i < bad_points.length; i++) {\n    for (j = 0; j < 31; j++) {\n      c[i] |= s[j] ^ bad_points[i][j]\n    }\n  }\n\n  for (let i = 0; i < bad_points.length; i++) {\n    c[i] |= (s[j] & 0x7f) ^ bad_points[i][j]\n  }\n\n  var k = 0\n  for (let i = 0; i < bad_points.length; i++) {\n    k |= (c[i] - 1)\n  }\n\n  return ((k >> 8) & 1) === 0\n}\n\nfunction crypto_sign_ed25519_sk_to_pk (pk, sk) {\n  check(pk, crypto_sign_ed25519_PUBLICKEYBYTES)\n  pk.set(sk.subarray(crypto_sign_ed25519_SEEDBYTES))\n  return pk\n}\n\nfunction crypto_sign_ed25519_sk_to_curve25519 (curveSk, edSk) {\n  assert(curveSk && curveSk.byteLength === crypto_scalarmult_BYTES, \"curveSk must be 'crypto_sign_SECRETKEYBYTES' long\")\n  assert(edSk && edSk.byteLength === crypto_sign_ed25519_SECRETKEYBYTES, \"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long\")\n\n  var h = new Uint8Array(crypto_hash_sha512_BYTES)\n  crypto_hash(h, edSk, 32)\n\n  h[0] &= 248\n  h[31] &= 127\n  h[31] |= 64\n\n  curveSk.set(h.subarray(0, crypto_scalarmult_BYTES))\n  h.fill(0)\n  return curveSk\n}\n\nfunction check (buf, len, arg = 'Argument') {\n  if (!buf || (len && buf.length < len)) throw new Error(arg + ' must be a buffer' + (len ? ' of length ' + len : ''))\n}\n","'use strict'\n\n// Based on https://github.com/dchest/tweetnacl-js/blob/6dcbcaf5f5cbfd313f2dcfe763db35c828c8ff5b/nacl-fast.js.\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nforward(require('./randombytes'))\nforward(require('./memory'))\nforward(require('./helpers'))\nforward(require('./crypto_verify'))\nforward(require('./crypto_auth'))\nforward(require('./crypto_box'))\nforward(require('./crypto_generichash'))\nforward(require('./crypto_hash'))\nforward(require('./crypto_hash_sha256'))\nforward(require('./crypto_kdf'))\nforward(require('./crypto_kx'))\nforward(require('./crypto_aead'))\nforward(require('./crypto_onetimeauth'))\nforward(require('./crypto_scalarmult'))\nforward(require('./crypto_secretbox'))\nforward(require('./crypto_shorthash'))\nforward(require('./crypto_sign'))\nforward(require('./crypto_stream'))\nforward(require('./crypto_stream_chacha20'))\n\nfunction forward (submodule) {\n  Object.keys(submodule).forEach(function (prop) {\n    module.exports[prop] = submodule[prop]\n  })\n}\n","module.exports = require('sodium-native')\n","module.exports = Symbol.for('nodejs.util.inspect.custom')\n","// SPDX-License-Identifier: AGPL-3.0-or-later\n// Copyright © 2020 Tony Ivanov <telamohn@pm.me>\n\n/* eslint-disable camelcase */\nconst {\n  crypto_sign_BYTES,\n  crypto_sign_SECRETKEYBYTES,\n  crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_detached,\n  crypto_sign_verify_detached,\n  crypto_sign_keypair\n} = require('sodium-universal')\n/* eslint-enable camelcase */\n\nconst inspectSymbol = require('inspect-custom-symbol')\n// Using global symbols here might be unecessary\n// but feeds created in ancestors of picofeed dependents evaulate:\n// (feed instanceof PicoFeed) as false..\nconst BLOCK_SYMBOL = Symbol.for('Pico::block')\nconst FEED_SYMBOL = Symbol.for('Pico::feed')\n\nconst GENESIS = Buffer.alloc(crypto_sign_BYTES).fill(0)\n\nmodule.exports = class PicoFeed {\n  static get MAX_FEED_SIZE () { return 64 << 10 } // 64 kilo byte\n  static get INITIAL_FEED_SIZE () { return 1 << 10 } // 1 kilo byte\n  static get PICKLE () { return Buffer.from('PIC0.') } // Buffer.from('🥒', 'utf8') }\n  static get KEY () { return Buffer.from('K0.') } // Buffer.from('f09f979d', 'hex') }\n  // consensus? pft! whoever can fit the most kittens into\n  // a single bottle is obviously the winner.\n  static get BLOCK () { return Buffer.from('B0.') } // Buffer.from('🐈', 'utf8') }\n  static get KEY_SIZE () { return crypto_sign_PUBLICKEYBYTES } // eslint-disable-line camelcase\n  static get SIGNATURE_SIZE () { return crypto_sign_BYTES } // eslint-disable-line camelcase\n  static get COUNTER_SIZE () { return 4 } // Sizeof UInt32BE\n  static get META_SIZE () { return PicoFeed.SIGNATURE_SIZE * 2 + PicoFeed.COUNTER_SIZE }\n  static get BLOCK_SYMBOL () { return BLOCK_SYMBOL }\n  static get FEED_SYMBOL () { return FEED_SYMBOL }\n\n  constructor (opts = {}) {\n    this[FEED_SYMBOL] = true\n    this.tail = 0 // Tail always points to next empty space\n    this._hasGenisis = null\n    this._keychain = [] // key-cache\n    this._cache = [] // block-cache\n    this._MAX_FEED_SIZE = opts.maxSize || PicoFeed.MAX_FEED_SIZE\n    this.buf = Buffer.alloc(opts.initialSize || PicoFeed.INITIAL_FEED_SIZE)\n  }\n\n  get partial () {\n    // length triggers _index(), empty feeds are neither partial nor full.\n    if (this._hasGenisis === null && !this.length) return false\n    return !this._hasGenisis\n  }\n\n  get free () { return this._MAX_FEED_SIZE - this.tail }\n\n  get _isDirty () {\n    if (!this.tail) return false // Buffer is empty\n    if (!this._cache.length) return true // Cache is empty\n\n    const descriptor = this._cache[this._cache.length - 1]\n    const block = PicoFeed.mapBlock(this.buf, descriptor.offset)\n    // Detect unindexed data between last cached block and tail\n    return block.end !== this.tail\n  }\n\n  get length () {\n    this._reIndex()\n    return this._cache.length\n  }\n\n  get last () { return this.get(this.length - 1) }\n  get first () { return this.get(0) }\n\n  get keys () {\n    this._reIndex()\n    return [...this._keychain]\n  }\n\n  // Forcefully re-index entire feed\n  _reIndex (force = false) {\n    if (!force && !this._isDirty) return\n    const iterator = this._index(force)\n    while (!iterator.next().done) continue\n  }\n\n  _appendKey (data) {\n    this._ensureMinimumCapacity(this.tail + PicoFeed.KEY.length + data.length)\n    this.tail += PicoFeed.KEY.copy(this.buf, this.tail)\n    this.tail += data.copy(this.buf, this.tail)\n  }\n\n  _appendBlock (chunk) {\n    this._ensureMinimumCapacity(this.tail + chunk.length)\n    this.tail += chunk.copy(this.buf, this.tail)\n  }\n\n  _ensureMinimumCapacity (size) {\n    if (this.buf.length < size) {\n      // console.info('Increasing backing buffer to new size:', size)\n      const nbuf = Buffer.allocUnsafe(size + 32)\n      this.buf.copy(nbuf)\n      this.buf = nbuf\n    }\n  }\n\n  _ensureKey (pk) {\n    for (const k of this.keys) {\n      if (pk.equals(k)) return\n    }\n    this._appendKey(pk)\n  }\n\n  get (idx) {\n    if (this._isDirty) this._reIndex()\n    if (idx < 0) idx = this.length + idx\n    const desc = this._cache[idx]\n    if (!desc) return undefined\n    return PicoFeed.mapBlock(this.buf, desc.offset, this._keychain[desc.keyId])\n  }\n\n  toArray () {\n    const arr = []\n    for (const block of this.blocks()) arr.push(block)\n    return arr\n  }\n\n  append (data, sk, cb) {\n    if (!sk) throw new Error('Can\\'t append without a signing secret')\n    if (sk.length !== 64) throw new Error('Unknown signature secret key format')\n    const pk = sk.slice(PicoFeed.KEY_SIZE) // this is a libsodium thing\n    this._ensureKey(pk)\n\n    const metaSz = PicoFeed.META_SIZE\n\n    const pBlock = this.last\n\n    // This is the only auto-encoding that will be supported\n    if (!Buffer.isBuffer(data)) data = Buffer.from(data)\n\n    const dataSize = data.length\n    const newEnd = this.tail + dataSize + metaSz\n\n    // Ensure we're not gonna pass the boundary\n    if (this._MAX_FEED_SIZE < newEnd) {\n      // console.error('NOFIT', this.tail, dataSize, metaSz)\n      console.error(`MAX_FEED_SIZE reached, block won't fit: ${newEnd} > ${this._MAX_FEED_SIZE}`)\n      const err = new Error('FeedOverflowError')\n      err.type = err.message\n      err.maxSize = this._MAX_FEED_SIZE\n      err.requestedSize = newEnd\n      err.bytesOverflow = newEnd - this._MAX_FEED_SIZE\n      throw err\n    }\n\n    // Resize current buffer if needed\n    this._ensureMinimumCapacity(newEnd)\n\n    const map = PicoFeed.mapBlock(this.buf, this.tail)\n\n    map.header.fill(0) // Zero out the header\n    map.size = dataSize\n\n    data.copy(map.body)\n\n    if (pBlock) { // Origin blocks are origins.\n      pBlock.sig.copy(map.parentSig)\n    }\n\n    crypto_sign_detached(map.sig, map.dat, sk)\n    // sanity check.\n    if (!map.verify(pk)) throw new Error('newly stored block is invalid. something went wrong')\n    this.tail = newEnd\n\n    // This method isn't async but we'll honour the old ways\n    if (typeof cb === 'function') cb(null, this.length)\n    return this.length\n  }\n\n  /* This generator is pretty magic,\n   * we're traversing the buffer and validating it\n   * in one sweep.\n   */\n  * _index (clearCache = false) {\n    let offset = 0\n    let blockIdx = 0\n\n    // Reset caches\n    if (clearCache) this._clearCache()\n\n    const ktok = PicoFeed.KEY\n    const KEY_SZ = PicoFeed.KEY_SIZE\n    // vars for block parsing\n    let prevSig = null\n    while (true) {\n      if (offset >= this.tail) return\n\n      if (offset + ktok.length > this.buf.length) return\n      const isKey = ktok.equals(this.buf.slice(offset, offset + ktok.length))\n\n      if (isKey) {\n        const key = this.buf.slice(offset + ktok.length, offset + ktok.length + KEY_SZ)\n        let keyIdx = this._keychain.findIndex(k => k.equals(key))\n        if (!~keyIdx) { // Append key to chain if missing\n          keyIdx = this._keychain.length\n          this._keychain.push(key)\n        }\n        yield { type: 0, id: keyIdx, key: key, offset }\n        offset += ktok.length + KEY_SZ\n      } else if (this._cache[blockIdx] && this._cache[blockIdx].offset === offset) {\n        // Load block from cache\n        const seq = blockIdx++\n        const desc = this._cache[seq]\n        const key = this._keychain[desc.keyId]\n        if (!key) throw new Error('InternalError:KeyCacheBroken')\n        const block = PicoFeed.mapBlock(this.buf, desc.offset, key)\n        yield { type: 1, seq, key, block, offset: desc.offset }\n        prevSig = block.sig\n        offset = block.end\n      } else {\n        // Index block from buffer and register in cache\n        const block = PicoFeed.mapBlock(this.buf, offset)\n        if (block.size === 0) return\n        if (offset + block.size > this.buf.length) return\n\n        // Parent verification\n        if (!blockIdx) {\n          // partial feeds/slices lack the genesis block\n          this._hasGenisis = block.parentSig.equals(Buffer.alloc(64))\n        } else if (!prevSig.equals(block.parentSig)) {\n          // Consequent blocks must state correct parent\n          return // reject block\n        }\n\n        let valid = false\n        for (let i = this._keychain.length - 1; i >= 0; i--) {\n          valid = block.verify(this._keychain[i])\n          if (!valid) continue\n          const seq = blockIdx++\n          block.key = this._keychain[i]\n          this._cache[seq] = { offset, keyId: i }\n          yield { type: 1, seq, block, offset, key: this._keychain[i] }\n          prevSig = block.sig\n          offset = block.end\n          break\n        }\n        if (!valid) return // chain of trust broken\n      }\n    }\n  }\n\n  toString () { return this.pickle() }\n\n  pickle (slice = 0) {\n    let str = encodeURIComponent(PicoFeed.PICKLE.toString('utf8'))\n    const kToken = PicoFeed.KEY\n    const bToken = PicoFeed.BLOCK\n    const itr = (slice ? this.slice(slice) : this)._index()\n    for (const fact of itr) {\n      str += !fact.type\n        ? kToken + b2ub(fact.key)\n        : bToken + b2ub(fact.block.buffer)\n    }\n    return str\n  }\n\n  /**\n   * Returns a sliced feed.\n   */\n  slice (start = 0, end = undefined, noKeys = false) {\n    const out = new PicoFeed()\n    for (const block of this.blocks(start, end)) {\n      if (!noKeys) out._ensureKey(block.key)\n      out._appendBlock(block.buffer)\n    }\n    return out\n  }\n\n  // Unpickle\n  _unpack (str) {\n    if (!str) throw new Error('Missing first argument')\n    if (typeof str !== 'string') throw new Error('url-friendly string expected')\n    // TODO: re-engineer for efficiency\n    const pToken = encodeURIComponent(PicoFeed.PICKLE)\n    const kToken = encodeURIComponent(PicoFeed.KEY)\n    const bToken = encodeURIComponent(PicoFeed.BLOCK)\n    const pickleOffset = str.indexOf(pToken)\n    if (pickleOffset === -1) throw new Error('NotPickleError')\n    let o = pToken.length + pickleOffset\n    let kM = 0\n    let bM = 0\n    let type = -1\n    let start = -1\n    const processChunk = () => {\n      if (type !== -1) {\n        const chunk = decodeURIComponent(str.substr(start, o - start - bM - kM + 1))\n        if (!type) { // Unpack Public Sign Key\n          const key = ub2b(chunk)\n          if (key.length !== PicoFeed.KEY_SIZE) throw new Error('PSIG key wrong size: ')\n          this._ensureKey(key) // modifies tail\n        } else { // Unpack Block\n          this._appendBlock(ub2b(chunk))\n        }\n        type = -1 // for sanity, not needed.\n      }\n      start = o + 1\n      type = kM ? 0 : 1\n      kM = bM = 0\n    }\n\n    while (o < str.length) {\n      if (str[o] === kToken[kM]) {\n        if (++kM === kToken.length) processChunk()\n      } else kM = 0\n\n      if (str[o] === bToken[bM]) {\n        if (++bM === bToken.length) processChunk()\n      } else bM = 0\n      o++\n    }\n    processChunk()\n  }\n\n  // Truncating is a lot faster\n  // than spawning a new feed.\n  truncate (toLength) {\n    if (toLength === 0) { // Empty the feed\n      this.tail = 0\n      this._cache = []\n      this._keychain = []\n      return true\n    }\n\n    const o = this.tail\n    const block = this.get(toLength - 1)\n    this.tail = block.end\n    if (o === this.tail) return false\n    // Truncate cache\n    let l = this._cache.length - toLength\n    while (l--) this._cache.pop()\n    return true\n  }\n\n  * blocks (start = 0, end = 0) {\n    if (start < 0) start = this.length + start\n    if (!end) end = this.length\n    if (end < 0) end = this.length + end + 1\n    while (start < end) yield this.get(start++)\n    /*\n    const itr = this._index()\n    function * filter () {\n      for (const entry of itr) if (entry.type && --slice < 0) yield entry\n    }\n    return filter() */\n  }\n\n  /*\n   * Steals the state of other feed,\n   * once a feed has been pilfered it should not be used\n   * anymore. This method is only used internally as an optimization\n   * for \"theirs\" merge strategy to avoid re-indexing\n   */\n  _steal (other, copy = false) {\n    if (copy) {\n      this.buf = Buffer.alloc(other.buf.length)\n      other.buf.copy(this.buf)\n      this._cache = other._cache.map(desc => ({ ...desc })) // Clone descriptors\n    } else {\n      this.buf = other.buf\n      this._cache = [...other._cache] // Steal descriptors\n    }\n    this._keychain = [...other._keychain] // Steal keys\n    this._hasGenisis = other._hasGenisis\n    this.tail = other.tail\n    other._robbed = true // earmark other feed for debugging\n    return true\n  }\n\n  _clearCache () {\n    this._keychain = []\n    this._cache = []\n  }\n\n  // little bit of meta-programming, that probably can be avoided.\n  get __clazz () {\n    return Object.getPrototypeOf(this).constructor\n  }\n\n  /*\n   * This method is going to need a docs page of it's own..\n   * The fastest way to merge a temporary feed into an empty feed is to steal the\n   * temporary feeds buffer; This is not possible while doing interactive merging as\n   * by optimization we forego the entire loop with no way to index nor abort.\n   * So for now userValidate implies forceCopy/noSteal\n   *\n   * @param source something that from() can convert into feed.\n   * @param options Object, merge options\n   * @param options.forceCopy `Boolean` prevents buffer stealing from source; Forces new buffers to be created an copied\n   * @param indexCallback Invoked for each new commit that is about to be merged, abort method is NOT asyncroneous.\n   * @return {boolean} true if source is/was merged, false if unmergable\n   */\n  merge (source, options = {}, indexCallback = null) {\n    if (typeof options === 'function') return this.merge(source, undefined, options)\n    const forceCopy = options.forceCopy || false\n    if (!source) throw new Error('First argument `source` expected by merge')\n    const other = this.__clazz.from(source)\n\n    // Prepare user index/validator\n    const interactiveMode = typeof indexCallback === 'function'\n    const userValidate = !interactiveMode\n      ? () => false\n      : block => {\n        // Invoke user indexing callback to let them process\n        // and validate a block before actually merging it.\n        let abort = false\n        indexCallback(block, () => { abort = true }) // Abortion is only possible in syncronized mode.\n        return abort\n      }\n\n    const rebase = blocksIterator => {\n      let mutated = false\n      for (const block of blocksIterator) {\n        const key = block.key\n        if (interactiveMode) {\n          const aborted = userValidate(block)\n          if (aborted) return mutated\n        }\n\n        // Rebase block onto self (no parents are modified)\n        this._ensureKey(key)\n        this._appendBlock(block.buffer)\n        mutated = true\n      }\n      return mutated\n    }\n\n    // If we're empty then we'll just use theirs\n    if (!this.length) {\n      if (!interactiveMode) return this._steal(other, forceCopy)\n      else return rebase(other.blocks())\n    }\n\n    const attemptReverseMerge = () => {\n      if (this._reverseMergeFlag) return false\n      const c = other.clone() // Avoid mutating other\n      c._reverseMergeFlag = true // Prevent loops without poisoning the state.\n      const sanityCheck = c.length\n      const firstBlockAccepted = !interactiveMode || !userValidate(c.get(0))\n      if (\n        firstBlockAccepted &&\n        c.merge(this, options, indexCallback)\n      ) { // Success, steal buffer\n        if (sanityCheck === c.length) throw new Error('InternalError:NothingMerged')\n        return this._steal(c)\n      } else return false // Give up\n    }\n\n    // Expected 2½ outcomes.\n    // 1. conflict, no merge, abort mission\n    // 2.a) no conflict, no new blocks, abort.\n    // 2.b) no conflict, new blocks, copy + validate?\n    try {\n      const s = this._compare(other)\n      if (s < 1) return true\n      return rebase(other.blocks(other.length - s))\n    } catch (err) {\n      switch (err.type) {\n        case 'BlockConflict':\n          return false\n        case 'NoCommonParent':\n          /* When this feed is partial and if this.merge(other)\n           * has no common parent; then there is yet a possibility\n           * that other.merge(this) yields a non-conflicting longer\n           * chain\n           */\n          if (!this.partial) return false\n          else return attemptReverseMerge()\n      }\n      throw err\n    }\n  }\n\n  clone (FeedDerivate) {\n    FeedDerivate = FeedDerivate || this.__clazz\n    const f = new FeedDerivate()\n    f._steal(this, true)\n    return f\n  }\n\n  /* How to look at counters\n   *\n   * A  0  1  2  3\n   * K0 B1 B2 B3 B4\n   * K0       B3 B4 B5 B6  (slice of a pickle)\n   * B        0  1  2  3\n   *\n   * A  0  1  2  3\n   * K0 B1 B2 B3 B4\n   * K0 B1 B2 B3 B4 B5 B6\n   * B  0  1  2  3  4  5\n   *\n   */\n  _compare (other) {\n    if (this === other) return 0\n    const counters = [-1, -1]\n    const iterators = [this._index(), other._index()]\n    const blocks = []\n    const eof = [false, false]\n    const parents = []\n\n    // Define a single step.\n    const step = (chain) => { // until block\n      if (blocks[chain]) parents[chain] = blocks[chain].sig\n      blocks[chain] = null\n      while (!blocks[chain] && !eof[chain]) {\n        const n = iterators[chain].next()\n        eof[chain] = eof[chain] || n.done\n        if (n.done && typeof n.value === 'undefined') break // Iterating an empty list..\n\n        if (n.value.type) {\n          counters[chain]++\n          blocks[chain] = n.value.block\n        }\n      }\n    }\n\n    const fastForward = chain => {\n      const c = counters[chain] - 1\n      while (blocks[chain]) step(chain)\n      return counters[chain] - c\n    }\n\n    const A = 0\n    const B = 1\n\n    const mkErr = text => {\n      const err = new Error(text)\n      err.type = text\n      err.idxA = counters[A]\n      err.idxB = counters[B]\n      return err\n    }\n\n    // 1. Find common parent / align B to A\n    step(B)\n    if (!blocks[B]) return -fastForward(A) // No new blocks no conflicts\n    const target = blocks[B].parentSig\n    while (!eof[A]) {\n      step(A)\n      if (!blocks[A]) break\n      if (blocks[A].parentSig.equals(target)) break\n\n      if (blocks[A].sig.equals(target) && this.length === counters[A] + 1) {\n        /* Current A is parent of B,\n         * - If there are no more blocks in A\n         *   then we can merge everything from B without conflict\n         * - If there are more blocks in A, then proceed,\n         *   the rest of the logic is legit and will detect conflicts.\n         */\n        return fastForward(B)\n      }\n    }\n    if (!blocks[A]) throw mkErr('NoCommonParent') // No common parent! [a: a.length > 0, b: 0]\n\n    // Check if it's the same block\n    if (!blocks[A].sig.equals(blocks[B].sig)) throw mkErr('BlockConflict')\n\n    // common parent found!\n    if (counters[B] !== counters[A]) console.info('B is a slice of a pickle') // TODO\n\n    // 2. lockstep the iterators while checking for conflicts.\n    while (1) {\n      step(A)\n      step(B)\n      if (blocks[A] && blocks[B]) {\n        // check for conflicts.\n        if (!blocks[A].sig.equals(blocks[B].sig)) throw mkErr('BlockConflict')\n      } else if (!blocks[A] && !blocks[B]) {\n        return 0\n      } else if (!blocks[A]) {\n        // B has some new blocks @ counters[B]\n        return fastForward(B)\n      } else { // !block[B]\n        // No new blocks / B is behind\n        return -fastForward(A)\n      }\n    }\n  }\n\n  inspect (noLog = false) {\n    const header = ['ID', 'KEY', 'SIG', 'PARENT', 'HEX', 'ASCII']\n    const table = [header]\n    const widths = [2]\n    let blockIdx = 0\n    for (const block of this.blocks()) {\n      const utf = block.body.slice(0, 12).toString('utf8')\n      const row = [\n        '' + (blockIdx++),\n        block.key.slice(0, 2).toString('hex'),\n        block.sig.slice(0, 4).toString('hex'),\n        block.isGenesis\n          ? '_GENESIS'\n          : block.parentSig.slice(0, 4).toString('hex'),\n        block.body.slice(0, 6)\n          .toString('hex')\n          .replace(/(.{2})/g, '$1 ')\n          .trimEnd(),\n        utf\n      ]\n\n      // All columns are static width except last utf8\n      for (let i = 0; i < row.length; i++) {\n        widths[i] = Math.max(widths[i] || 0, row[i].length)\n      }\n      table.push(row)\n    }\n\n    const lines = []\n    for (const row of table) {\n      lines.push('│ ' + row.map((cell, i) => cell.padEnd(widths[i])).join(' │ ') + ' │')\n    }\n    lines.splice(1, 0, '├'.padEnd(lines[0].length - 1, '─') + '┤')\n    if (!noLog) console.log(lines.join('\\n'))\n    else return lines.join('\\n')\n  }\n\n  static isFeed (other) { return other && other[FEED_SYMBOL] }\n\n  static from (source, opts = {}) {\n    // Warn, feeds are not cloned same way as Buffer.from(aBuffer) produces a copy\n    if (PicoFeed.isFeed(source)) return source\n\n    const feed = new PicoFeed(opts)\n\n    // Upgrade a single mapped block into a feed\n    if (source[BLOCK_SYMBOL]) {\n      feed._ensureKey(source.key)\n      feed._appendBlock(source.buffer)\n\n      // Load string\n    } else if (typeof source === 'string') feed._unpack(source)\n    // Load URL\n    else if (typeof source.hash === 'string') feed._unpack(source.hash)\n    // Load buffers\n    else if (Buffer.isBuffer(source)) {\n      // Assume buffer contains output from feed.pickle()\n      feed._unpack(source.toString('utf8'))\n\n      // We're not handling raw block buffers because you'd need to provide\n      // the tail and _lastBlockOffset in order to iterate them.\n    } else throw new Error('NotAFeed')\n    return feed\n  }\n\n  static signPair () {\n    const sk = Buffer.allocUnsafe(crypto_sign_SECRETKEYBYTES)\n    const pk = Buffer.allocUnsafe(crypto_sign_PUBLICKEYBYTES)\n    crypto_sign_keypair(pk, sk)\n    return { sk, pk }\n  }\n\n  static mapBlock (buf, start = 0, key = null) {\n    /**\n     * Block layout\n     *  ___________\n     * | Signature | <----------.\n     * |-----------|             '.\n     * | ParentSig | -.            '.\n     * |-----------|  |- HEADR ---.  '.\n     * | Body Size | -'           |    '.\n     * |-----------|              |--> Sign(skey, data)\n     * |           |              |\n     * | Body BLOB | -------------'\n     * |           |\n     * `-----------'\n     */\n    const SIG_N = PicoFeed.SIGNATURE_SIZE\n    const COUNT_N = PicoFeed.COUNTER_SIZE\n    const HDR_N = SIG_N + COUNT_N\n    const mapper = {\n      [BLOCK_SYMBOL]: true,\n      get start () { return start },\n      get sig () { return buf.subarray(start, start + SIG_N) },\n      get header () { return buf.subarray(start + SIG_N, start + SIG_N + HDR_N) },\n      get parentSig () { return buf.subarray(start + SIG_N, start + SIG_N + SIG_N) },\n\n      // Unsafe size read, use validateRead to ensure that you're reading a block.\n      get size () { return buf.readUInt32BE(start + SIG_N * 2) },\n      set size (v) {\n        if (typeof v !== 'number' || v < 0 || v + start + SIG_N + HDR_N > buf.length) throw new Error('Invalid blob size')\n        return buf.writeUInt32BE(v, start + SIG_N * 2)\n      },\n      get body () {\n        return buf.subarray(start + SIG_N + HDR_N, mapper.safeEnd)\n      },\n      get dat () {\n        return buf.subarray(start + SIG_N, mapper.safeEnd)\n      },\n      get end () { return start + SIG_N + HDR_N + mapper.size },\n      get safeEnd () {\n        const s = mapper.size\n        if (s < 1) throw new Error('Invalid blob size: ' + s)\n        const end = start + SIG_N + HDR_N + s\n        if (end > buf.length) throw new Error('Incomplete or invalid block: end overflows buffer length' + end)\n        return end\n      },\n      // get _unsafeNext () { return PicoFeed.mapBlock(buf, mapper.end) },\n      get next () { return PicoFeed.mapBlock(buf, mapper.safeEnd) },\n\n      verify (pk) {\n        return crypto_sign_verify_detached(mapper.sig, mapper.dat, pk)\n      },\n      get buffer () { return buf.subarray(start, mapper.safeEnd) },\n\n      get key () {\n        // Key is an experimental feature, fail-fast for now.\n        if (!key) throw new Error('InternalError:MissingKey')\n        return key\n      },\n      set key (pk) {\n        // Key is an experimental feature, fail-fast for now.\n        if (key) throw new Error('InternalError:KeyExists')\n        key = pk\n      },\n\n      get isGenesis () {\n        return GENESIS.equals(mapper.parentSig)\n      },\n\n      [inspectSymbol] () {\n        return `[BlockMapper] start: ${mapper.start}, blocksize: ${mapper.size}, id: ${mapper.sig.slice(0, 6).toString('hex')}, parent: ${mapper.parentSig.slice(0, 6).toString('hex')}`\n      }\n    }\n    return mapper\n  }\n}\n// Url compatible b64\nfunction b2ub (b) {\n  return b.toString('base64').replace(/\\+/, '-').replace(/\\//g, '_').replace(/=+$/, '')\n}\n\nfunction ub2b (str) {\n  str = (str + '===').slice(0, str.length + (str.length % 4))\n  str = str.replace(/-/g, '+').replace(/_/g, '/')\n  return Buffer.from(str, 'base64')\n}\n","/* TODO: move to independent module \"pico-repo\" as this file was cannibalized from PoH\n * So this is going to be a persistent block-store\n * as opposed to picofeed which is an in-memory datatype,\n *\n */\nconst Feed = require('picofeed')\nconst REPO_SYMBOL = Symbol.for('PicoRepo')\nconst HEAD = 0\nconst BLOCK = 1\nconst TAIL = 2\nconst LATEST = 3\nconst REG = 4 // misc\n\nfunction mkKey (type, key) {\n  if (!Buffer.isBuffer(key)) throw new Error('Expected key to be a Buffer')\n  const buffer = Buffer.alloc(1 + key.length)\n  key.copy(buffer, 1)\n  buffer[0] = type\n  return buffer\n}\n\nclass PicoRepo { //  PicoJar (a jar for crypto-pickles)\n  static isRepo (o) { return o && o[REPO_SYMBOL] }\n  constructor (db, strategy = []) {\n    this[REPO_SYMBOL] = true\n    this._db = db\n    // A jar usually boasts a label describing it's contents\n    // so that people know what to expect to get and at least\n    // what not to accidentally put.\n    this._strategies = Array.isArray(strategy) ? strategy : [strategy]\n    for (const s of this._strategies) {\n      if (typeof s !== 'function') throw new Error('ExpectedCallback')\n    }\n  }\n\n  get mkKey () { return mkKey } // minimalistic sub-leveldown alternative\n\n  async _setHeadPtr (name, ptr) {\n    const key = mkKey(HEAD, name)\n    await this._db.put(key, ptr)\n    return ptr\n  }\n\n  async _getHeadPtr (name) {\n    const key = mkKey(HEAD, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async _getTailPtr (name) {\n    const key = mkKey(TAIL, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async _setLatestPtr (name, ptr) {\n    const key = mkKey(LATEST, name)\n    await this._db.put(key, ptr)\n    return ptr\n  }\n\n  async _getLatestPtr (name) {\n    const key = mkKey(LATEST, name)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return buffer\n  }\n\n  async writeBlock (block) {\n    const key = mkKey(BLOCK, block.sig)\n    // TODO: this method used to return false when block exists\n    const buffer = Buffer.alloc(32 + block.buffer.length)\n    block.key.copy(buffer, 0)\n    block.buffer.copy(buffer, 32)\n    await this._db.put(key, buffer)\n    // console.debug('writeBlock: ', key.hexSlice())\n    if (block.isGenesis) {\n      await this._db.put(mkKey(TAIL, block.key), block.sig)\n    }\n    return true\n  }\n\n  async readBlock (id) {\n    const key = mkKey(BLOCK, id)\n    const buffer = await this._db.get(key)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n\n    if (buffer) return Feed.mapBlock(buffer, 32, buffer.slice(0, 32))\n  }\n\n  // Internal because it performs a full block read, use with care.\n  // (blocks are small in this application, don't care)\n  async _hasBlock (id) {\n    return !!(await this.readBlock(id))\n  }\n\n  async _traceOwnerOf (sig) {\n    // Tricky... trading off some extra index memory could possibly\n    // reduce the need to traverse the chain backwards\n    // I don't know.\n    let n = 0\n    for await (const block of this._chainLoad(sig)) {\n      if (block.isGenesis) return block.key\n      n++\n    }\n    if (n) throw new Error('Orphaned Chain')\n    // else chain not found\n  }\n\n  async merge (feed, strategy) { // or merge() ?\n    if (!Feed.isFeed(feed)) feed = Feed.from(feed)\n    let blocksWritten = 0\n    let owner = null\n    const first = feed.first\n    if (!first) return 0\n    else if (first.isGenesis) owner = first.key\n    else owner = await this._traceOwnerOf(first.parentSig)\n    if (!owner) throw new Error('CannotMerge: Unknown Chain')\n\n    for (const block of feed.blocks()) {\n      const author = block.key\n      const id = block.sig\n\n      // Ignore existing blocks\n      if (await this._hasBlock(id)) continue\n\n      const bumpHead = async () => {\n        await this.writeBlock(block)\n        await this._setHeadPtr(owner, block.sig)\n        await this._setLatestPtr(author, block.sig)\n        blocksWritten++\n      }\n\n      // fetch current head\n      const head = await this._getHeadPtr(owner)\n\n      // Allow creation of new heads\n      if (!head) {\n        await bumpHead()\n        continue\n      }\n\n      // skip ahead when previous head points to parent of new block\n      if (head.equals(block.parentSig)) {\n        await bumpHead()\n        continue\n      }\n\n      // Abort if no verifiably common parent in repo\n      // console.debug('haveParent?: ', block.parentSig.hexSlice())\n      if (!(await this._hasBlock(block.parentSig))) break\n\n      // Fast-forward when previous head is an ancestor\n      let isAncestor = false\n      for await (const parentBlock of this._chainLoad(block.parentSig)) {\n        if (head.equals(parentBlock.sig)) {\n          isAncestor = true\n          break // break inner _chainLoad loop\n        }\n      }\n      if (isAncestor) {\n        await bumpHead()\n        continue\n      }\n\n      // Let user-logic decide if this block should\n      // be accepted as a new head\n      if (await this._queryUserStrategy(block, strategy)) {\n        await bumpHead()\n        continue\n      }\n      break // No strategy allowed this transition, abort merge\n    }\n    return blocksWritten\n  }\n\n  async _queryUserStrategy (block, inlineStrategy) {\n    for (const strategy of [inlineStrategy, ...this._strategies]) {\n      if (!strategy) continue\n      const p = strategy(block, this)\n      if (typeof p.then !== 'function') throw new Error('PromiseExpected')\n      if (await p) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Loads feed from pubkey's personal feed\n   */\n  async loadHead (key, stopCallback = undefined) {\n    const head = await this._getHeadPtr(key)\n    if (head) return this.loadFeed(head, stopCallback)\n  }\n\n  /**\n   * Loads feed from pubkey's latest block and backwards\n   */\n  async loadLatest (key, stopCallback = undefined) {\n    const head = await this._getLatestPtr(key)\n    if (head) return this.loadFeed(head, stopCallback)\n  }\n\n  async loadFeed (ptr, stopCallback = undefined) {\n    let limit = 0\n    if (Number.isInteger(stopCallback) && stopCallback > 0) limit = stopCallback\n    if (limit) stopCallback = (_, after) => !--limit && after(true)\n    const pending = []\n    for await (const block of this._chainLoad(ptr)) {\n      /* If needed async abort use this instead.\n      if (typeof stopCallback === 'function') {\n        const abort = await defer(d => stopCallback(d.bind(null, null)))\n        if (abort) break\n      }\n      */\n      let abort = false\n      let abortAfter = false\n      if (typeof stopCallback === 'function') {\n        stopCallback(block, after => {\n          if (after) abortAfter = true\n          else abort = true\n        })\n      }\n\n      // Append block to in-memory feed\n      if (!abort) {\n        pending.unshift(block)\n      }\n\n      // Break loop to stop the chainloader\n      if (abortAfter || abort) break\n    }\n\n    // Merge all pending blocks in a forward fashion to avoid\n    // duplicate revalidations\n    const feed = new Feed()\n    for (const block of pending) {\n      const merged = feed.merge(block)\n      if (!merged) throw new Error('InternalError:CannotRestoreStoredBlock')\n    }\n    if (feed.length) return feed\n  }\n\n  async * _chainLoad (next) {\n    let first = true\n    while (true) {\n      const block = await this.readBlock(next)\n      if (!block && first) break // chain not found, silent\n      first = false\n      if (!block) throw new Error('ParentNotFound') // broken chain, loud\n      yield block\n      if (block.isGenesis) break // We've hit a genesis block\n      next = block.parentSig\n    }\n  }\n\n  async rollback (head, ptr) {\n    let stopHit = false\n    const evicted = await this.loadHead(head, (block, abort) => {\n      if (ptr && block.sig.equals(ptr)) {\n        stopHit = true\n        abort()\n      }\n    })\n    if (ptr && !stopHit) throw new Error('ReferenceNotFound')\n\n    const batch = []\n    const relocate = []\n    const latest = {}\n    for (let i = evicted.length - 1; i >= 0; i--) {\n      const block = evicted.get(i)\n      const key = block.key.toString('hex')\n      if (!latest[key]) latest[key] = await this._getLatestPtr(block.key)\n      // detect if latest-ptr needs to be adjusted\n      if (latest[key]?.equals(block.sig)) {\n        relocate.push(block.key)\n      }\n      // Delete block op\n      batch.push({ type: 'del', key: mkKey(BLOCK, block.sig) })\n    }\n    /*\n     * Latest tags are not used atm. maybe let's just relocate them to\n     * their respective heads after rollback, it's not correct but\n     * better than nothing.\n     */\n    /*\n    const newTags = []\n    for await (const block of this._chainLoad(ptr)) {\n      if (!relocate.length) break\n      const idx = relocate.findIndex(k => k.equals(block.key))\n      if (~idx) {\n        newTags.push({\n          key: relocate[idx],\n          ptr: block.sig\n        })\n        relocate.splice(idx, 1)\n      }\n    } */\n\n    // Adjust new head\n    batch.push({ type: 'del', key: mkKey(HEAD, head) })\n    if (ptr) batch.push({ type: 'put', key: mkKey(HEAD, head), value: ptr })\n    else if (!evicted.first.isGenesis) {\n      batch.push({ type: 'put', key: mkKey(HEAD, head), value: evicted.first.parentSig })\n    }\n    // For now, purge all deleted 'latest'-tags\n    for (const key of relocate) {\n      batch.push({ type: 'del', key: mkKey(LATEST, key) })\n    }\n\n    await this._db.batch(batch)\n    return evicted\n  }\n\n  // Expose some wrappers to avoid invoking internal API directly\n  get headOf () { return this._getHeadPtr }\n  get tailOf () { return this._getTailPtr }\n  get latestOf () { return this._getLatestPtr }\n  get chainload () { return this._chainLoad }\n  get ownerOf () { return this._traceOwnerOf }\n\n  /* Signatures are keys are 32bytes in size and are duplicated\n   * into every block blob, an idea was to use a varint keyId to make each\n   * block 28bytes smaller on disk. Buuuuut:\n   * Let's waste some storage for alpha version.\n  async _readCounter (keepOpen = false) {\n    const file = this._store('key_counter')\n    const val = await defer(d => file.read(0, 64, d))\n      .then(b => b.readUInt32BE())\n      .catch(err => {\n        console.warn('Failed reading counter, resetting to 0', err)\n        return 0\n      })\n    if (this._autoClose && !keepOpen) await defer(d => file.close(d))\n    return val\n  }\n\n  async _incrementCounter () {\n    const file = this._store('key_counter')\n    let val = await this._readCounter(true)\n    const buf = Buffer.alloc(4)\n    buf.writeUInt32BE(++val)\n    await defer(d => file.write(0, buf, d))\n    if (this._autoClose) await defer(d => file.close(d))\n    return val\n  }\n  */\n\n  async writeReg (key, value) {\n    const bkey = mkKey(REG, Buffer.from(key))\n    await this._db.put(bkey, Buffer.from(value))\n    return true\n  }\n\n  async readReg (key) {\n    const bkey = mkKey(REG, Buffer.from(key))\n    const value = await this._db.get(bkey)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    return value\n  }\n\n  async listHeads () {\n    const query = {\n      gt: mkKey(HEAD, Buffer.alloc(32).fill(0)),\n      lt: mkKey(HEAD, Buffer.alloc(32).fill(0xff))\n    }\n    const iter = this._db.iterator(query)\n    const result = []\n    while (true) {\n      try {\n        const [key, value] = await new Promise((resolve, reject) => {\n          iter.next((err, key, value) => {\n            if (err) reject(err)\n            else resolve([key, value])\n          })\n        })\n        if (!key) break\n        result.push({ key: key.slice(1), value })\n      } catch (err) {\n        console.warn('Iterator died with an error', err)\n        break\n      }\n    }\n    await new Promise((resolve, reject) => {\n      iter.end(err => err ? reject(err) : resolve())\n    })\n    return result\n  }\n}\n\nmodule.exports = PicoRepo\n","\"use strict\"\r\nvar decoder\r\ntry {\r\n\tdecoder = new TextDecoder()\r\n} catch(error) {}\r\nvar src\r\nvar srcEnd\r\nvar position = 0\r\nvar alreadySet\r\nconst EMPTY_ARRAY = []\r\nvar strings = EMPTY_ARRAY\r\nvar stringPosition = 0\r\nvar currentUnpackr = {}\r\nvar currentStructures\r\nvar srcString\r\nvar srcStringStart = 0\r\nvar srcStringEnd = 0\r\nvar referenceMap\r\nvar currentExtensions = []\r\nvar dataView\r\nvar defaultOptions = {\r\n\tuseRecords: false,\r\n\tmapsAsObjects: true\r\n}\r\nexport class C1Type {}\r\nexport const C1 = new C1Type()\r\nC1.name = 'MessagePack 0xC1'\r\nvar sequentialMode = false\r\n\r\nexport class Unpackr {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tif (options.useRecords === false && options.mapsAsObjects === undefined)\r\n\t\t\t\toptions.mapsAsObjects = true\r\n\t\t\tif (options.structures)\r\n\t\t\t\toptions.structures.sharedLength = options.structures.length\r\n\t\t\telse if (options.getStructures) {\r\n\t\t\t\t(options.structures = []).uninitialized = true // this is what we use to denote an uninitialized structures\r\n\t\t\t\toptions.structures.sharedLength = 0\r\n\t\t\t}\r\n\t\t}\r\n\t\tObject.assign(this, options)\r\n\t}\r\n\tunpack(source, end) {\r\n\t\tif (src) {\r\n\t\t\t// re-entrant execution, save the state and restore it after we do this unpack\r\n\t\t\treturn saveState(() => {\r\n\t\t\t\tclearSource()\r\n\t\t\t\treturn this ? this.unpack(source, end) : Unpackr.prototype.unpack.call(defaultOptions, source, end)\r\n\t\t\t})\r\n\t\t}\r\n\t\tsrcEnd = end > -1 ? end : source.length\r\n\t\tposition = 0\r\n\t\tstringPosition = 0\r\n\t\tsrcStringEnd = 0\r\n\t\tsrcString = null\r\n\t\tstrings = EMPTY_ARRAY\r\n\t\tsrc = source\r\n\t\t// this provides cached access to the data view for a buffer if it is getting reused, which is a recommend\r\n\t\t// technique for getting data from a database where it can be copied into an existing buffer instead of creating\r\n\t\t// new ones\r\n\t\ttry {\r\n\t\t\tdataView = source.dataView || (source.dataView = new DataView(source.buffer, source.byteOffset, source.byteLength))\r\n\t\t} catch(error) {\r\n\t\t\t// if it doesn't have a buffer, maybe it is the wrong type of object\r\n\t\t\tsrc = null\r\n\t\t\tif (source instanceof Uint8Array)\r\n\t\t\t\tthrow error\r\n\t\t\tthrow new Error('Source must be a Uint8Array or Buffer but was a ' + ((source && typeof source == 'object') ? source.constructor.name : typeof source))\r\n\t\t}\r\n\t\tif (this instanceof Unpackr) {\r\n\t\t\tcurrentUnpackr = this\r\n\t\t\tif (this.structures) {\r\n\t\t\t\tcurrentStructures = this.structures\r\n\t\t\t\treturn checkedRead()\r\n\t\t\t} else if (!currentStructures || currentStructures.length > 0) {\r\n\t\t\t\tcurrentStructures = []\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcurrentUnpackr = defaultOptions\r\n\t\t\tif (!currentStructures || currentStructures.length > 0)\r\n\t\t\t\tcurrentStructures = []\r\n\t\t}\r\n\t\treturn checkedRead()\r\n\t}\r\n\tunpackMultiple(source, forEach) {\r\n\t\tlet values, lastPosition = 0\r\n\t\ttry {\r\n\t\t\tsequentialMode = true\r\n\t\t\tlet size = source.length\r\n\t\t\tlet value = this ? this.unpack(source, size) : defaultUnpackr.unpack(source, size)\r\n\t\t\tif (forEach) {\r\n\t\t\t\tforEach(value)\r\n\t\t\t\twhile(position < size) {\r\n\t\t\t\t\tlastPosition = position\r\n\t\t\t\t\tif (forEach(checkedRead()) === false) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvalues = [ value ]\r\n\t\t\t\twhile(position < size) {\r\n\t\t\t\t\tlastPosition = position\r\n\t\t\t\t\tvalues.push(checkedRead())\r\n\t\t\t\t}\r\n\t\t\t\treturn values\r\n\t\t\t}\r\n\t\t} catch(error) {\r\n\t\t\terror.lastPosition = lastPosition\r\n\t\t\terror.values = values\r\n\t\t\tthrow error\r\n\t\t} finally {\r\n\t\t\tsequentialMode = false\r\n\t\t\tclearSource()\r\n\t\t}\r\n\t}\r\n\t_mergeStructures(loadedStructures, existingStructures) {\r\n\t\tloadedStructures = loadedStructures || []\r\n\t\tfor (let i = 0, l = loadedStructures.length; i < l; i++) {\r\n\t\t\tlet structure = loadedStructures[i]\r\n\t\t\tif (structure) {\r\n\t\t\t\tstructure.isShared = true\r\n\t\t\t\tif (i >= 32)\r\n\t\t\t\t\tstructure.highByte = (i - 32) >> 5\r\n\t\t\t}\r\n\t\t}\r\n\t\tloadedStructures.sharedLength = loadedStructures.length\r\n\t\tfor (let id in existingStructures || []) {\r\n\t\t\tif (id >= 0) {\r\n\t\t\t\tlet structure = loadedStructures[id]\r\n\t\t\t\tlet existing = existingStructures[id]\r\n\t\t\t\tif (existing) {\r\n\t\t\t\t\tif (structure)\r\n\t\t\t\t\t\t(loadedStructures.restoreStructures || (loadedStructures.restoreStructures = []))[id] = structure\r\n\t\t\t\t\tloadedStructures[id] = existing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.structures = loadedStructures\r\n\t}\r\n\tdecode(source, end) {\r\n\t\treturn this.unpack(source, end)\r\n\t}\r\n}\r\nexport function getPosition() {\r\n\treturn position\r\n}\r\nexport function checkedRead() {\r\n\ttry {\r\n\t\tif (!currentUnpackr.trusted && !sequentialMode) {\r\n\t\t\tlet sharedLength = currentStructures.sharedLength || 0\r\n\t\t\tif (sharedLength < currentStructures.length)\r\n\t\t\t\tcurrentStructures.length = sharedLength\r\n\t\t}\r\n\t\tlet result = read()\r\n\t\tif (position == srcEnd) {\r\n\t\t\t// finished reading this source, cleanup references\r\n\t\t\tif (currentStructures.restoreStructures)\r\n\t\t\t\trestoreStructures()\r\n\t\t\tcurrentStructures = null\r\n\t\t\tsrc = null\r\n\t\t\tif (referenceMap)\r\n\t\t\t\treferenceMap = null\r\n\t\t} else if (position > srcEnd) {\r\n\t\t\t// over read\r\n\t\t\tlet error = new Error('Unexpected end of MessagePack data')\r\n\t\t\terror.incomplete = true\r\n\t\t\tthrow error\r\n\t\t} else if (!sequentialMode) {\r\n\t\t\tthrow new Error('Data read, but end of buffer not reached')\r\n\t\t}\r\n\t\t// else more to read, but we are reading sequentially, so don't clear source yet\r\n\t\treturn result\r\n\t} catch(error) {\r\n\t\tif (currentStructures.restoreStructures)\r\n\t\t\trestoreStructures()\r\n\t\tclearSource()\r\n\t\tif (error instanceof RangeError || error.message.startsWith('Unexpected end of buffer')) {\r\n\t\t\terror.incomplete = true\r\n\t\t}\r\n\t\tthrow error\r\n\t}\r\n}\r\n\r\nfunction restoreStructures() {\r\n\tfor (let id in currentStructures.restoreStructures) {\r\n\t\tcurrentStructures[id] = currentStructures.restoreStructures[id]\r\n\t}\r\n\tcurrentStructures.restoreStructures = null\r\n}\r\n\r\nexport function read() {\r\n\tlet token = src[position++]\r\n\tif (token < 0xa0) {\r\n\t\tif (token < 0x80) {\r\n\t\t\tif (token < 0x40)\r\n\t\t\t\treturn token\r\n\t\t\telse {\r\n\t\t\t\tlet structure = currentStructures[token & 0x3f] ||\r\n\t\t\t\t\tcurrentUnpackr.getStructures && loadStructures()[token & 0x3f]\r\n\t\t\t\tif (structure) {\r\n\t\t\t\t\tif (!structure.read) {\r\n\t\t\t\t\t\tstructure.read = createStructureReader(structure, token & 0x3f)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn structure.read()\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn token\r\n\t\t\t}\r\n\t\t} else if (token < 0x90) {\r\n\t\t\t// map\r\n\t\t\ttoken -= 0x80\r\n\t\t\tif (currentUnpackr.mapsAsObjects) {\r\n\t\t\t\tlet object = {}\r\n\t\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\t\tobject[readKey()] = read()\r\n\t\t\t\t}\r\n\t\t\t\treturn object\r\n\t\t\t} else {\r\n\t\t\t\tlet map = new Map()\r\n\t\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\t\tmap.set(read(), read())\r\n\t\t\t\t}\r\n\t\t\t\treturn map\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoken -= 0x90\r\n\t\t\tlet array = new Array(token)\r\n\t\t\tfor (let i = 0; i < token; i++) {\r\n\t\t\t\tarray[i] = read()\r\n\t\t\t}\r\n\t\t\treturn array\r\n\t\t}\r\n\t} else if (token < 0xc0) {\r\n\t\t// fixstr\r\n\t\tlet length = token - 0xa0\r\n\t\tif (srcStringEnd >= position) {\r\n\t\t\treturn srcString.slice(position - srcStringStart, (position += length) - srcStringStart)\r\n\t\t}\r\n\t\tif (srcStringEnd == 0 && srcEnd < 140) {\r\n\t\t\t// for small blocks, avoiding the overhead of the extract call is helpful\r\n\t\t\tlet string = length < 16 ? shortStringInJS(length) : longStringInJS(length)\r\n\t\t\tif (string != null)\r\n\t\t\t\treturn string\r\n\t\t}\r\n\t\treturn readFixedString(length)\r\n\t} else {\r\n\t\tlet value\r\n\t\tswitch (token) {\r\n\t\t\tcase 0xc0: return null\r\n\t\t\tcase 0xc1: return C1; // \"never-used\", return special object to denote that\r\n\t\t\tcase 0xc2: return false\r\n\t\t\tcase 0xc3: return true\r\n\t\t\tcase 0xc4:\r\n\t\t\t\t// bin 8\r\n\t\t\t\treturn readBin(src[position++])\r\n\t\t\tcase 0xc5:\r\n\t\t\t\t// bin 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readBin(value)\r\n\t\t\tcase 0xc6:\r\n\t\t\t\t// bin 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readBin(value)\r\n\t\t\tcase 0xc7:\r\n\t\t\t\t// ext 8\r\n\t\t\t\treturn readExt(src[position++])\r\n\t\t\tcase 0xc8:\r\n\t\t\t\t// ext 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readExt(value)\r\n\t\t\tcase 0xc9:\r\n\t\t\t\t// ext 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readExt(value)\r\n\t\t\tcase 0xca:\r\n\t\t\t\tvalue = dataView.getFloat32(position)\r\n\t\t\t\tif (currentUnpackr.useFloat32 > 2) {\r\n\t\t\t\t\t// this does rounding of numbers that were encoded in 32-bit float to nearest significant decimal digit that could be preserved\r\n\t\t\t\t\tlet multiplier = mult10[((src[position] & 0x7f) << 1) | (src[position + 1] >> 7)]\r\n\t\t\t\t\tposition += 4\r\n\t\t\t\t\treturn ((multiplier * value + (value > 0 ? 0.5 : -0.5)) >> 0) / multiplier\r\n\t\t\t\t}\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xcb:\r\n\t\t\t\tvalue = dataView.getFloat64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\t\t\t// uint handlers\r\n\t\t\tcase 0xcc:\r\n\t\t\t\treturn src[position++]\r\n\t\t\tcase 0xcd:\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xce:\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xcf:\r\n\t\t\t\tif (currentUnpackr.int64AsNumber) {\r\n\t\t\t\t\tvalue = dataView.getUint32(position) * 0x100000000\r\n\t\t\t\t\tvalue += dataView.getUint32(position + 4)\r\n\t\t\t\t} else\r\n\t\t\t\t\tvalue = dataView.getBigUint64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\r\n\t\t\t// int handlers\r\n\t\t\tcase 0xd0:\r\n\t\t\t\treturn dataView.getInt8(position++)\r\n\t\t\tcase 0xd1:\r\n\t\t\t\tvalue = dataView.getInt16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xd2:\r\n\t\t\t\tvalue = dataView.getInt32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn value\r\n\t\t\tcase 0xd3:\r\n\t\t\t\tif (currentUnpackr.int64AsNumber) {\r\n\t\t\t\t\tvalue = dataView.getInt32(position) * 0x100000000\r\n\t\t\t\t\tvalue += dataView.getUint32(position + 4)\r\n\t\t\t\t} else\r\n\t\t\t\t\tvalue = dataView.getBigInt64(position)\r\n\t\t\t\tposition += 8\r\n\t\t\t\treturn value\r\n\r\n\t\t\tcase 0xd4:\r\n\t\t\t\t// fixext 1\r\n\t\t\t\tvalue = src[position++]\r\n\t\t\t\tif (value == 0x72) {\r\n\t\t\t\t\treturn recordDefinition(src[position++] & 0x3f)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet extension = currentExtensions[value]\r\n\t\t\t\t\tif (extension) {\r\n\t\t\t\t\t\tif (extension.read) {\r\n\t\t\t\t\t\t\tposition++ // skip filler byte\r\n\t\t\t\t\t\t\treturn extension.read(read())\r\n\t\t\t\t\t\t} else if (extension.noBuffer) {\r\n\t\t\t\t\t\t\tposition++ // skip filler byte\r\n\t\t\t\t\t\t\treturn extension()\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\treturn extension(src.subarray(position, ++position))\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tthrow new Error('Unknown extension ' + value)\r\n\t\t\t\t}\r\n\t\t\tcase 0xd5:\r\n\t\t\t\t// fixext 2\r\n\t\t\t\tvalue = src[position]\r\n\t\t\t\tif (value == 0x72) {\r\n\t\t\t\t\tposition++\r\n\t\t\t\t\treturn recordDefinition(src[position++] & 0x3f, src[position++])\r\n\t\t\t\t} else\r\n\t\t\t\t\treturn readExt(2)\r\n\t\t\tcase 0xd6:\r\n\t\t\t\t// fixext 4\r\n\t\t\t\treturn readExt(4)\r\n\t\t\tcase 0xd7:\r\n\t\t\t\t// fixext 8\r\n\t\t\t\treturn readExt(8)\r\n\t\t\tcase 0xd8:\r\n\t\t\t\t// fixext 16\r\n\t\t\t\treturn readExt(16)\r\n\t\t\tcase 0xd9:\r\n\t\t\t// str 8\r\n\t\t\t\tvalue = src[position++]\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString8(value)\r\n\t\t\tcase 0xda:\r\n\t\t\t// str 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString16(value)\r\n\t\t\tcase 0xdb:\r\n\t\t\t// str 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\tif (srcStringEnd >= position) {\r\n\t\t\t\t\treturn srcString.slice(position - srcStringStart, (position += value) - srcStringStart)\r\n\t\t\t\t}\r\n\t\t\t\treturn readString32(value)\r\n\t\t\tcase 0xdc:\r\n\t\t\t// array 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readArray(value)\r\n\t\t\tcase 0xdd:\r\n\t\t\t// array 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readArray(value)\r\n\t\t\tcase 0xde:\r\n\t\t\t// map 16\r\n\t\t\t\tvalue = dataView.getUint16(position)\r\n\t\t\t\tposition += 2\r\n\t\t\t\treturn readMap(value)\r\n\t\t\tcase 0xdf:\r\n\t\t\t// map 32\r\n\t\t\t\tvalue = dataView.getUint32(position)\r\n\t\t\t\tposition += 4\r\n\t\t\t\treturn readMap(value)\r\n\t\t\tdefault: // negative int\r\n\t\t\t\tif (token >= 0xe0)\r\n\t\t\t\t\treturn token - 0x100\r\n\t\t\t\tif (token === undefined) {\r\n\t\t\t\t\tlet error = new Error('Unexpected end of MessagePack data')\r\n\t\t\t\t\terror.incomplete = true\r\n\t\t\t\t\tthrow error\r\n\t\t\t\t}\r\n\t\t\t\tthrow new Error('Unknown MessagePack token ' + token)\r\n\r\n\t\t}\r\n\t}\r\n}\r\nconst validName = /^[a-zA-Z_$][a-zA-Z\\d_$]*$/\r\nfunction createStructureReader(structure, firstId) {\r\n\tfunction readObject() {\r\n\t\t// This initial function is quick to instantiate, but runs slower. After several iterations pay the cost to build the faster function\r\n\t\tif (readObject.count++ > 2) {\r\n\t\t\tlet readObject = structure.read = (new Function('r', 'return function(){return {' + structure.map(key => validName.test(key) ? key + ':r()' : ('[' + JSON.stringify(key) + ']:r()')).join(',') + '}}'))(read)\r\n\t\t\tif (structure.highByte === 0)\r\n\t\t\t\tstructure.read = createSecondByteReader(firstId, structure.read)\r\n\t\t\treturn readObject() // second byte is already read, if there is one so immediately read object\r\n\t\t}\r\n\t\tlet object = {}\r\n\t\tfor (let i = 0, l = structure.length; i < l; i++) {\r\n\t\t\tlet key = structure[i]\r\n\t\t\tobject[key] = read()\r\n\t\t}\r\n\t\treturn object\r\n\t}\r\n\treadObject.count = 0\r\n\tif (structure.highByte === 0) {\r\n\t\treturn createSecondByteReader(firstId, readObject)\r\n\t}\r\n\treturn readObject\r\n}\r\n\r\nconst createSecondByteReader = (firstId, read0) => {\r\n\treturn function() {\r\n\t\tlet highByte = src[position++]\r\n\t\tif (highByte === 0)\r\n\t\t\treturn read0()\r\n\t\tlet id = firstId < 32 ? -(firstId + (highByte << 5)) : firstId + (highByte << 5)\r\n\t\tlet structure = currentStructures[id] || loadStructures()[id]\r\n\t\tif (!structure) {\r\n\t\t\tthrow new Error('Record id is not defined for ' + id)\r\n\t\t}\r\n\t\tif (!structure.read)\r\n\t\t\tstructure.read = createStructureReader(structure, firstId)\r\n\t\treturn structure.read()\r\n\t}\r\n}\r\n\r\nfunction loadStructures() {\r\n\tlet loadedStructures = saveState(() => {\r\n\t\t// save the state in case getStructures modifies our buffer\r\n\t\tsrc = null\r\n\t\treturn currentUnpackr.getStructures()\r\n\t})\r\n\treturn currentStructures = currentUnpackr._mergeStructures(loadedStructures, currentStructures)\r\n}\r\n\r\nvar readFixedString = readStringJS\r\nvar readString8 = readStringJS\r\nvar readString16 = readStringJS\r\nvar readString32 = readStringJS\r\nexport let isNativeAccelerationEnabled = false\r\n\r\nexport function setExtractor(extractStrings) {\r\n\tisNativeAccelerationEnabled = true\r\n\treadFixedString = readString(1)\r\n\treadString8 = readString(2)\r\n\treadString16 = readString(3)\r\n\treadString32 = readString(5)\r\n\tfunction readString(headerLength) {\r\n\t\treturn function readString(length) {\r\n\t\t\tlet string = strings[stringPosition++]\r\n\t\t\tif (string == null) {\r\n\t\t\t\tlet extraction = extractStrings(position - headerLength, srcEnd, src)\r\n\t\t\t\tif (typeof extraction == 'string') {\r\n\t\t\t\t\tstring = extraction\r\n\t\t\t\t\tstrings = EMPTY_ARRAY\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrings = extraction\r\n\t\t\t\t\tstringPosition = 1\r\n\t\t\t\t\tsrcStringEnd = 1 // even if a utf-8 string was decoded, must indicate we are in the midst of extracted strings and can't skip strings\r\n\t\t\t\t\tstring = strings[0]\r\n\t\t\t\t\tif (string === undefined)\r\n\t\t\t\t\t\tthrow new Error('Unexpected end of buffer')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet srcStringLength = string.length\r\n\t\t\tif (srcStringLength <= length) {\r\n\t\t\t\tposition += length\r\n\t\t\t\treturn string\r\n\t\t\t}\r\n\t\t\tsrcString = string\r\n\t\t\tsrcStringStart = position\r\n\t\t\tsrcStringEnd = position + srcStringLength\r\n\t\t\tposition += length\r\n\t\t\treturn string.slice(0, length) // we know we just want the beginning\r\n\t\t}\r\n\t}\r\n}\r\nfunction readStringJS(length) {\r\n\tlet result\r\n\tif (length < 16) {\r\n\t\tif (result = shortStringInJS(length))\r\n\t\t\treturn result\r\n\t}\r\n\tif (length > 64 && decoder)\r\n\t\treturn decoder.decode(src.subarray(position, position += length))\r\n\tconst end = position + length\r\n\tconst units = []\r\n\tresult = ''\r\n\twhile (position < end) {\r\n\t\tconst byte1 = src[position++]\r\n\t\tif ((byte1 & 0x80) === 0) {\r\n\t\t\t// 1 byte\r\n\t\t\tunits.push(byte1)\r\n\t\t} else if ((byte1 & 0xe0) === 0xc0) {\r\n\t\t\t// 2 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tunits.push(((byte1 & 0x1f) << 6) | byte2)\r\n\t\t} else if ((byte1 & 0xf0) === 0xe0) {\r\n\t\t\t// 3 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tconst byte3 = src[position++] & 0x3f\r\n\t\t\tunits.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3)\r\n\t\t} else if ((byte1 & 0xf8) === 0xf0) {\r\n\t\t\t// 4 bytes\r\n\t\t\tconst byte2 = src[position++] & 0x3f\r\n\t\t\tconst byte3 = src[position++] & 0x3f\r\n\t\t\tconst byte4 = src[position++] & 0x3f\r\n\t\t\tlet unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4\r\n\t\t\tif (unit > 0xffff) {\r\n\t\t\t\tunit -= 0x10000\r\n\t\t\t\tunits.push(((unit >>> 10) & 0x3ff) | 0xd800)\r\n\t\t\t\tunit = 0xdc00 | (unit & 0x3ff)\r\n\t\t\t}\r\n\t\t\tunits.push(unit)\r\n\t\t} else {\r\n\t\t\tunits.push(byte1)\r\n\t\t}\r\n\r\n\t\tif (units.length >= 0x1000) {\r\n\t\t\tresult += fromCharCode.apply(String, units)\r\n\t\t\tunits.length = 0\r\n\t\t}\r\n\t}\r\n\r\n\tif (units.length > 0) {\r\n\t\tresult += fromCharCode.apply(String, units)\r\n\t}\r\n\r\n\treturn result\r\n}\r\n\r\nfunction readArray(length) {\r\n\tlet array = new Array(length)\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tarray[i] = read()\r\n\t}\r\n\treturn array\r\n}\r\n\r\nfunction readMap(length) {\r\n\tif (currentUnpackr.mapsAsObjects) {\r\n\t\tlet object = {}\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tobject[readKey()] = read()\r\n\t\t}\r\n\t\treturn object\r\n\t} else {\r\n\t\tlet map = new Map()\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tmap.set(read(), read())\r\n\t\t}\r\n\t\treturn map\r\n\t}\r\n}\r\n\r\nvar fromCharCode = String.fromCharCode\r\nfunction longStringInJS(length) {\r\n\tlet start = position\r\n\tlet bytes = new Array(length)\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tconst byte = src[position++];\r\n\t\tif ((byte & 0x80) > 0) {\r\n\t\t\tposition = start\r\n    \t\t\treturn\r\n    \t\t}\r\n    \t\tbytes[i] = byte\r\n    \t}\r\n    \treturn fromCharCode.apply(String, bytes)\r\n}\r\nfunction shortStringInJS(length) {\r\n\tif (length < 4) {\r\n\t\tif (length < 2) {\r\n\t\t\tif (length === 0)\r\n\t\t\t\treturn ''\r\n\t\t\telse {\r\n\t\t\t\tlet a = src[position++]\r\n\t\t\t\tif ((a & 0x80) > 1) {\r\n\t\t\t\t\tposition -= 1\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet a = src[position++]\r\n\t\t\tlet b = src[position++]\r\n\t\t\tif ((a & 0x80) > 0 || (b & 0x80) > 0) {\r\n\t\t\t\tposition -= 2\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 3)\r\n\t\t\t\treturn fromCharCode(a, b)\r\n\t\t\tlet c = src[position++]\r\n\t\t\tif ((c & 0x80) > 0) {\r\n\t\t\t\tposition -= 3\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn fromCharCode(a, b, c)\r\n\t\t}\r\n\t} else {\r\n\t\tlet a = src[position++]\r\n\t\tlet b = src[position++]\r\n\t\tlet c = src[position++]\r\n\t\tlet d = src[position++]\r\n\t\tif ((a & 0x80) > 0 || (b & 0x80) > 0 || (c & 0x80) > 0 || (d & 0x80) > 0) {\r\n\t\t\tposition -= 4\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (length < 6) {\r\n\t\t\tif (length === 4)\r\n\t\t\t\treturn fromCharCode(a, b, c, d)\r\n\t\t\telse {\r\n\t\t\t\tlet e = src[position++]\r\n\t\t\t\tif ((e & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 5\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e)\r\n\t\t\t}\r\n\t\t} else if (length < 8) {\r\n\t\t\tlet e = src[position++]\r\n\t\t\tlet f = src[position++]\r\n\t\t\tif ((e & 0x80) > 0 || (f & 0x80) > 0) {\r\n\t\t\t\tposition -= 6\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 7)\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e, f)\r\n\t\t\tlet g = src[position++]\r\n\t\t\tif ((g & 0x80) > 0) {\r\n\t\t\t\tposition -= 7\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn fromCharCode(a, b, c, d, e, f, g)\r\n\t\t} else {\r\n\t\t\tlet e = src[position++]\r\n\t\t\tlet f = src[position++]\r\n\t\t\tlet g = src[position++]\r\n\t\t\tlet h = src[position++]\r\n\t\t\tif ((e & 0x80) > 0 || (f & 0x80) > 0 || (g & 0x80) > 0 || (h & 0x80) > 0) {\r\n\t\t\t\tposition -= 8\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (length < 10) {\r\n\t\t\t\tif (length === 8)\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h)\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet i = src[position++]\r\n\t\t\t\t\tif ((i & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 9\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i)\r\n\t\t\t\t}\r\n\t\t\t} else if (length < 12) {\r\n\t\t\t\tlet i = src[position++]\r\n\t\t\t\tlet j = src[position++]\r\n\t\t\t\tif ((i & 0x80) > 0 || (j & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 10\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (length < 11)\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j)\r\n\t\t\t\tlet k = src[position++]\r\n\t\t\t\tif ((k & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 11\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k)\r\n\t\t\t} else {\r\n\t\t\t\tlet i = src[position++]\r\n\t\t\t\tlet j = src[position++]\r\n\t\t\t\tlet k = src[position++]\r\n\t\t\t\tlet l = src[position++]\r\n\t\t\t\tif ((i & 0x80) > 0 || (j & 0x80) > 0 || (k & 0x80) > 0 || (l & 0x80) > 0) {\r\n\t\t\t\t\tposition -= 12\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (length < 14) {\r\n\t\t\t\t\tif (length === 12)\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l)\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlet m = src[position++]\r\n\t\t\t\t\t\tif ((m & 0x80) > 0) {\r\n\t\t\t\t\t\t\tposition -= 13\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet m = src[position++]\r\n\t\t\t\t\tlet n = src[position++]\r\n\t\t\t\t\tif ((m & 0x80) > 0 || (n & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 14\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (length < 15)\r\n\t\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m, n)\r\n\t\t\t\t\tlet o = src[position++]\r\n\t\t\t\t\tif ((o & 0x80) > 0) {\r\n\t\t\t\t\t\tposition -= 15\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fromCharCode(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction readBin(length) {\r\n\treturn currentUnpackr.copyBuffers ?\r\n\t\t// specifically use the copying slice (not the node one)\r\n\t\tUint8Array.prototype.slice.call(src, position, position += length) :\r\n\t\tsrc.subarray(position, position += length)\r\n}\r\nfunction readExt(length) {\r\n\tlet type = src[position++]\r\n\tif (currentExtensions[type]) {\r\n\t\treturn currentExtensions[type](src.subarray(position, position += length))\r\n\t}\r\n\telse\r\n\t\tthrow new Error('Unknown extension type ' + type)\r\n}\r\n\r\nvar keyCache = new Array(4096)\r\nfunction readKey() {\r\n\tlet length = src[position++]\r\n\tif (length >= 0xa0 && length < 0xc0) {\r\n\t\t// fixstr, potentially use key cache\r\n\t\tlength = length - 0xa0\r\n\t\tif (srcStringEnd >= position) // if it has been extracted, must use it (and faster anyway)\r\n\t\t\treturn srcString.slice(position - srcStringStart, (position += length) - srcStringStart)\r\n\t\telse if (!(srcStringEnd == 0 && srcEnd < 180))\r\n\t\t\treturn readFixedString(length)\r\n\t} else { // not cacheable, go back and do a standard read\r\n\t\tposition--\r\n\t\treturn read()\r\n\t}\r\n\tlet key = ((length << 5) ^ (length > 1 ? dataView.getUint16(position) : length > 0 ? src[position] : 0)) & 0xfff\r\n\tlet entry = keyCache[key]\r\n\tlet checkPosition = position\r\n\tlet end = position + length - 3\r\n\tlet chunk\r\n\tlet i = 0\r\n\tif (entry && entry.bytes == length) {\r\n\t\twhile (checkPosition < end) {\r\n\t\t\tchunk = dataView.getUint32(checkPosition)\r\n\t\t\tif (chunk != entry[i++]) {\r\n\t\t\t\tcheckPosition = 0x70000000\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tcheckPosition += 4\r\n\t\t}\r\n\t\tend += 3\r\n\t\twhile (checkPosition < end) {\r\n\t\t\tchunk = src[checkPosition++]\r\n\t\t\tif (chunk != entry[i++]) {\r\n\t\t\t\tcheckPosition = 0x70000000\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (checkPosition === end) {\r\n\t\t\tposition = checkPosition\r\n\t\t\treturn entry.string\r\n\t\t}\r\n\t\tend -= 3\r\n\t\tcheckPosition = position\r\n\t}\r\n\tentry = []\r\n\tkeyCache[key] = entry\r\n\tentry.bytes = length\r\n\twhile (checkPosition < end) {\r\n\t\tchunk = dataView.getUint32(checkPosition)\r\n\t\tentry.push(chunk)\r\n\t\tcheckPosition += 4\r\n\t}\r\n\tend += 3\r\n\twhile (checkPosition < end) {\r\n\t\tchunk = src[checkPosition++]\r\n\t\tentry.push(chunk)\r\n\t}\r\n\t// for small blocks, avoiding the overhead of the extract call is helpful\r\n\tlet string = length < 16 ? shortStringInJS(length) : longStringInJS(length)\r\n\tif (string != null)\r\n\t\treturn entry.string = string\r\n\treturn entry.string = readFixedString(length)\r\n}\r\n\r\n// the registration of the record definition extension (as \"r\")\r\nconst recordDefinition = (id, highByte) => {\r\n\tvar structure = read()\r\n\tlet firstByte = id\r\n\tif (highByte !== undefined) {\r\n\t\tid = id < 32 ? -((highByte << 5) + id) : ((highByte << 5) + id)\r\n\t\tstructure.highByte = highByte\r\n\t}\r\n\tlet existingStructure = currentStructures[id]\r\n\tif (existingStructure && existingStructure.isShared) {\r\n\t\t(currentStructures.restoreStructures || (currentStructures.restoreStructures = []))[id] = existingStructure\r\n\t}\r\n\tcurrentStructures[id] = structure\r\n\tstructure.read = createStructureReader(structure, firstByte)\r\n\treturn structure.read()\r\n}\r\nvar glbl = typeof self == 'object' ? self : global\r\ncurrentExtensions[0] = () => {} // notepack defines extension 0 to mean undefined, so use that as the default here\r\ncurrentExtensions[0].noBuffer = true\r\n\r\ncurrentExtensions[0x65] = () => {\r\n\tlet data = read()\r\n\treturn (glbl[data[0]] || Error)(data[1])\r\n}\r\n\r\ncurrentExtensions[0x69] = (data) => {\r\n\t// id extension (for structured clones)\r\n\tlet id = dataView.getUint32(position - 4)\r\n\tif (!referenceMap)\r\n\t\treferenceMap = new Map()\r\n\tlet token = src[position]\r\n\tlet target\r\n\t// TODO: handle Maps, Sets, and other types that can cycle; this is complicated, because you potentially need to read\r\n\t// ahead past references to record structure definitions\r\n\tif (token >= 0x90 && token < 0xa0 || token == 0xdc || token == 0xdd)\r\n\t\ttarget = []\r\n\telse\r\n\t\ttarget = {}\r\n\r\n\tlet refEntry = { target } // a placeholder object\r\n\treferenceMap.set(id, refEntry)\r\n\tlet targetProperties = read() // read the next value as the target object to id\r\n\tif (refEntry.used) // there is a cycle, so we have to assign properties to original target\r\n\t\treturn Object.assign(target, targetProperties)\r\n\trefEntry.target = targetProperties // the placeholder wasn't used, replace with the deserialized one\r\n\treturn targetProperties // no cycle, can just use the returned read object\r\n}\r\n\r\ncurrentExtensions[0x70] = (data) => {\r\n\t// pointer extension (for structured clones)\r\n\tlet id = dataView.getUint32(position - 4)\r\n\tlet refEntry = referenceMap.get(id)\r\n\trefEntry.used = true\r\n\treturn refEntry.target\r\n}\r\n\r\ncurrentExtensions[0x73] = () => new Set(read())\r\n\r\nexport const typedArrays = ['Int8','Uint8','Uint8Clamped','Int16','Uint16','Int32','Uint32','Float32','Float64','BigInt64','BigUint64'].map(type => type + 'Array')\r\n\r\ncurrentExtensions[0x74] = (data) => {\r\n\tlet typeCode = data[0]\r\n\tlet typedArrayName = typedArrays[typeCode]\r\n\tif (!typedArrayName)\r\n\t\tthrow new Error('Could not find typed array for code ' + typeCode)\r\n\t// we have to always slice/copy here to get a new ArrayBuffer that is word/byte aligned\r\n\treturn new glbl[typedArrayName](Uint8Array.prototype.slice.call(data, 1).buffer)\r\n}\r\ncurrentExtensions[0x78] = () => {\r\n\tlet data = read()\r\n\treturn new RegExp(data[0], data[1])\r\n}\r\n\r\ncurrentExtensions[0xff] = (data) => {\r\n\t// 32-bit date extension\r\n\tif (data.length == 4)\r\n\t\treturn new Date((data[0] * 0x1000000 + (data[1] << 16) + (data[2] << 8) + data[3]) * 1000)\r\n\telse if (data.length == 8)\r\n\t\treturn new Date(\r\n\t\t\t((data[0] << 22) + (data[1] << 14) + (data[2] << 6) + (data[3] >> 2)) / 1000000 +\r\n\t\t\t((data[3] & 0x3) * 0x100000000 + data[4] * 0x1000000 + (data[5] << 16) + (data[6] << 8) + data[7]) * 1000)\r\n\telse if (data.length == 12)// TODO: Implement support for negative\r\n\t\treturn new Date(\r\n\t\t\t((data[0] << 24) + (data[1] << 16) + (data[2] << 8) + data[3]) / 1000000 +\r\n\t\t\t(((data[4] & 0x80) ? -0x1000000000000 : 0) + data[6] * 0x10000000000 + data[7] * 0x100000000 + data[8] * 0x1000000 + (data[9] << 16) + (data[10] << 8) + data[11]) * 1000)\r\n\telse\r\n\t\treturn new Date('invalid')\r\n} // notepack defines extension 0 to mean undefined, so use that as the default here\r\n// registration of bulk record definition?\r\n// currentExtensions[0x52] = () =>\r\n\r\nfunction saveState(callback) {\r\n\tlet savedSrcEnd = srcEnd\r\n\tlet savedPosition = position\r\n\tlet savedStringPosition = stringPosition\r\n\tlet savedSrcStringStart = srcStringStart\r\n\tlet savedSrcStringEnd = srcStringEnd\r\n\tlet savedSrcString = srcString\r\n\tlet savedStrings = strings\r\n\tlet savedReferenceMap = referenceMap\r\n\r\n\t// TODO: We may need to revisit this if we do more external calls to user code (since it could be slow)\r\n\tlet savedSrc = new Uint8Array(src.slice(0, srcEnd)) // we copy the data in case it changes while external data is processed\r\n\tlet savedStructures = currentStructures\r\n\tlet savedStructuresContents = currentStructures.slice(0, currentStructures.length)\r\n\tlet savedPackr = currentUnpackr\r\n\tlet savedSequentialMode = sequentialMode\r\n\tlet value = callback()\r\n\tsrcEnd = savedSrcEnd\r\n\tposition = savedPosition\r\n\tstringPosition = savedStringPosition\r\n\tsrcStringStart = savedSrcStringStart\r\n\tsrcStringEnd = savedSrcStringEnd\r\n\tsrcString = savedSrcString\r\n\tstrings = savedStrings\r\n\treferenceMap = savedReferenceMap\r\n\tsrc = savedSrc\r\n\tsequentialMode = savedSequentialMode\r\n\tcurrentStructures = savedStructures\r\n\tcurrentStructures.splice(0, currentStructures.length, ...savedStructuresContents)\r\n\tcurrentUnpackr = savedPackr\r\n\tdataView = new DataView(src.buffer, src.byteOffset, src.byteLength)\r\n\treturn value\r\n}\r\nexport function clearSource() {\r\n\tsrc = null\r\n\treferenceMap = null\r\n\tcurrentStructures = null\r\n}\r\n\r\nexport function addExtension(extension) {\r\n\tif (extension.unpack)\r\n\t\tcurrentExtensions[extension.type] = extension.unpack\r\n\telse\r\n\t\tcurrentExtensions[extension.type] = extension\r\n}\r\n\r\nexport const mult10 = new Array(147) // this is a table matching binary exponents to the multiplier to determine significant digit rounding\r\nfor (let i = 0; i < 256; i++) {\r\n\tmult10[i] = +('1e' + Math.floor(45.15 - i * 0.30103))\r\n}\r\nexport const Decoder = Unpackr\r\nvar defaultUnpackr = new Unpackr({ useRecords: false })\r\nexport const unpack = defaultUnpackr.unpack\r\nexport const unpackMultiple = defaultUnpackr.unpackMultiple\r\nexport const decode = defaultUnpackr.unpack\r\nexport const FLOAT32_OPTIONS = {\r\n\tNEVER: 0,\r\n\tALWAYS: 1,\r\n\tDECIMAL_ROUND: 3,\r\n\tDECIMAL_FIT: 4\r\n}\r\nlet f32Array = new Float32Array(1)\r\nlet u8Array = new Uint8Array(f32Array.buffer, 0, 4)\r\nexport function roundFloat32(float32Number) {\r\n\tf32Array[0] = float32Number\r\n\tlet multiplier = mult10[((u8Array[3] & 0x7f) << 1) | (u8Array[2] >> 7)]\r\n\treturn ((multiplier * float32Number + (float32Number > 0 ? 0.5 : -0.5)) >> 0) / multiplier\r\n}\r\n","export default (typeof global !== \"undefined\" ? global :\n  typeof self !== \"undefined\" ? self :\n  typeof window !== \"undefined\" ? window : {});","\"use strict\"\r\nimport { Unpackr, mult10, C1Type, typedArrays, addExtension as unpackAddExtension } from './unpack.js'\r\nlet textEncoder\r\ntry {\r\n\ttextEncoder = new TextEncoder()\r\n} catch (error) {}\r\nlet extensions, extensionClasses\r\nconst hasNodeBuffer = typeof Buffer !== 'undefined'\r\nconst ByteArrayAllocate = hasNodeBuffer ? Buffer.allocUnsafeSlow : Uint8Array\r\nconst ByteArray = hasNodeBuffer ? Buffer : Uint8Array\r\nconst MAX_BUFFER_SIZE = hasNodeBuffer ? 0x100000000 : 0x7fd00000\r\nlet target\r\nlet targetView\r\nlet position = 0\r\nlet safeEnd\r\nconst RECORD_SYMBOL = Symbol('record-id')\r\nexport class Packr extends Unpackr {\r\n\tconstructor(options) {\r\n\t\tsuper(options)\r\n\t\tthis.offset = 0\r\n\t\tlet typeBuffer\r\n\t\tlet start\r\n\t\tlet sharedStructures\r\n\t\tlet hasSharedUpdate\r\n\t\tlet structures\r\n\t\tlet referenceMap\r\n\t\tlet lastSharedStructuresLength = 0\r\n\t\tlet encodeUtf8 = ByteArray.prototype.utf8Write ? function(string, position, maxBytes) {\r\n\t\t\treturn target.utf8Write(string, position, maxBytes)\r\n\t\t} : (textEncoder && textEncoder.encodeInto) ?\r\n\t\t\tfunction(string, position) {\r\n\t\t\t\treturn textEncoder.encodeInto(string, target.subarray(position)).written\r\n\t\t\t} : false\r\n\r\n\t\tlet packr = this\r\n\t\tif (!options)\r\n\t\t\toptions = {}\r\n\t\tlet isSequential = options && options.sequential\r\n\t\tlet hasSharedStructures = options.structures || options.saveStructures\r\n\t\tlet maxSharedStructures = options.maxSharedStructures\r\n\t\tif (maxSharedStructures == null)\r\n\t\t\tmaxSharedStructures = hasSharedStructures ? 32 : 0\r\n\t\tif (maxSharedStructures > 8160)\r\n\t\t\tthrow new Error('Maximum maxSharedStructure is 8160')\r\n\t\tlet maxOwnStructures = options.maxOwnStructures\r\n\t\tif (maxOwnStructures == null)\r\n\t\t\tmaxOwnStructures = hasSharedStructures ? 32 : 64\r\n\t\tif (isSequential && !options.saveStructures)\r\n\t\t\tthis.structures = []\r\n\t\t// two byte record ids for shared structures\r\n\t\tlet useTwoByteRecords = maxSharedStructures > 32 || (maxOwnStructures + maxSharedStructures > 64)\t\t\r\n\t\tlet sharedLimitId = maxSharedStructures + 0x40\r\n\t\tlet maxStructureId = maxSharedStructures + maxOwnStructures + 0x40\r\n\t\tif (maxStructureId > 8256) {\r\n\t\t\tthrow new Error('Maximum maxSharedStructure + maxOwnStructure is 8192')\r\n\t\t}\r\n\t\tlet recordIdsToRemove = []\r\n\t\tlet transitionsCount = 0\r\n\t\tlet serializationsSinceTransitionRebuild = 0\r\n\r\n\t\tthis.pack = this.encode = function(value, encodeOptions) {\r\n\t\t\tif (!target) {\r\n\t\t\t\ttarget = new ByteArrayAllocate(8192)\r\n\t\t\t\ttargetView = new DataView(target.buffer, 0, 8192)\r\n\t\t\t\tposition = 0\r\n\t\t\t}\r\n\t\t\tsafeEnd = target.length - 10\r\n\t\t\tif (safeEnd - position < 0x800) {\r\n\t\t\t\t// don't start too close to the end, \r\n\t\t\t\ttarget = new ByteArrayAllocate(target.length)\r\n\t\t\t\ttargetView = new DataView(target.buffer, 0, target.length)\r\n\t\t\t\tsafeEnd = target.length - 10\r\n\t\t\t\tposition = 0\r\n\t\t\t} else\r\n\t\t\t\tposition = (position + 7) & 0x7ffffff8 // Word align to make any future copying of this buffer faster\r\n\t\t\tstart = position\r\n\t\t\treferenceMap = packr.structuredClone ? new Map() : null\r\n\t\t\tsharedStructures = packr.structures\r\n\t\t\tif (sharedStructures) {\r\n\t\t\t\tif (sharedStructures.uninitialized)\r\n\t\t\t\t\tsharedStructures = packr._mergeStructures(packr.getStructures())\r\n\t\t\t\tlet sharedLength = sharedStructures.sharedLength || 0\r\n\t\t\t\tif (sharedLength > maxSharedStructures) {\r\n\t\t\t\t\t//if (maxSharedStructures <= 32 && sharedStructures.sharedLength > 32) // TODO: could support this, but would need to update the limit ids\r\n\t\t\t\t\tthrow new Error('Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to ' + sharedStructures.sharedLength)\r\n\t\t\t\t}\r\n\t\t\t\tif (!sharedStructures.transitions) {\r\n\t\t\t\t\t// rebuild our structure transitions\r\n\t\t\t\t\tsharedStructures.transitions = Object.create(null)\r\n\t\t\t\t\tfor (let i = 0; i < sharedLength; i++) {\r\n\t\t\t\t\t\tlet keys = sharedStructures[i]\r\n\t\t\t\t\t\tif (!keys)\r\n\t\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t\tlet nextTransition, transition = sharedStructures.transitions\r\n\t\t\t\t\t\tfor (let j = 0, l = keys.length; j < l; j++) {\r\n\t\t\t\t\t\t\tlet key = keys[j]\r\n\t\t\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttransition = nextTransition\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttransition[RECORD_SYMBOL] = i + 0x40\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastSharedStructuresLength = sharedLength\r\n\t\t\t\t}\r\n\t\t\t\tif (!isSequential) {\r\n\t\t\t\t\tsharedStructures.nextId = sharedLength + 0x40\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (hasSharedUpdate)\r\n\t\t\t\thasSharedUpdate = false\r\n\t\t\tstructures = sharedStructures || []\r\n\t\t\ttry {\r\n\t\t\t\tpack(value)\r\n\t\t\t\tpackr.offset = position // update the offset so next serialization doesn't write over our buffer, but can continue writing to same buffer sequentially\r\n\t\t\t\tif (referenceMap && referenceMap.idsToInsert) {\r\n\t\t\t\t\tposition += referenceMap.idsToInsert.length * 6\r\n\t\t\t\t\tif (position > safeEnd)\r\n\t\t\t\t\t\tmakeRoom(position)\r\n\t\t\t\t\tpackr.offset = position\r\n\t\t\t\t\tlet serialized = insertIds(target.subarray(start, position), referenceMap.idsToInsert)\r\n\t\t\t\t\treferenceMap = null\r\n\t\t\t\t\treturn serialized\r\n\t\t\t\t}\r\n\t\t\t\tif (encodeOptions === REUSE_BUFFER_MODE) {\r\n\t\t\t\t\ttarget.start = start\r\n\t\t\t\t\ttarget.end = position\r\n\t\t\t\t\treturn target\r\n\t\t\t\t}\r\n\t\t\t\treturn target.subarray(start, position) // position can change if we call pack again in saveStructures, so we get the buffer now\r\n\t\t\t} finally {\r\n\t\t\t\tif (sharedStructures) {\r\n\t\t\t\t\tif (serializationsSinceTransitionRebuild < 10)\r\n\t\t\t\t\t\tserializationsSinceTransitionRebuild++\r\n\t\t\t\t\tif (transitionsCount > 10000) {\r\n\t\t\t\t\t\t// force a rebuild occasionally after a lot of transitions so it can get cleaned up\r\n\t\t\t\t\t\tsharedStructures.transitions = null\r\n\t\t\t\t\t\tserializationsSinceTransitionRebuild = 0\r\n\t\t\t\t\t\ttransitionsCount = 0\r\n\t\t\t\t\t\tif (recordIdsToRemove.length > 0)\r\n\t\t\t\t\t\t\trecordIdsToRemove = []\r\n\t\t\t\t\t} else if (recordIdsToRemove.length > 0 && !isSequential) {\r\n\t\t\t\t\t\tfor (let i = 0, l = recordIdsToRemove.length; i < l; i++) {\r\n\t\t\t\t\t\t\trecordIdsToRemove[i][RECORD_SYMBOL] = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trecordIdsToRemove = []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasSharedUpdate && packr.saveStructures) {\r\n\t\t\t\t\t\tlet sharedLength = sharedStructures.sharedLength || maxSharedStructures\r\n\t\t\t\t\t\tif (sharedStructures.length > sharedLength) {\r\n\t\t\t\t\t\t\tsharedStructures = sharedStructures.slice(0, sharedLength)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// we can't rely on start/end with REUSE_BUFFER_MODE since they will (probably) change when we save\r\n\t\t\t\t\t\tlet returnBuffer = target.subarray(start, position)\r\n\t\t\t\t\t\tif (packr.saveStructures(sharedStructures, lastSharedStructuresLength) === false) {\r\n\t\t\t\t\t\t\t// get updated structures and try again if the update failed\r\n\t\t\t\t\t\t\tpackr._mergeStructures(packr.getStructures())\r\n\t\t\t\t\t\t\treturn packr.pack(value)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlastSharedStructuresLength = sharedLength\r\n\t\t\t\t\t\treturn returnBuffer\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst pack = (value) => {\r\n\t\t\tif (position > safeEnd)\r\n\t\t\t\ttarget = makeRoom(position)\r\n\r\n\t\t\tvar type = typeof value\r\n\t\t\tvar length\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tlet strLength = value.length\r\n\t\t\t\tlet headerSize\r\n\t\t\t\t// first we estimate the header size, so we can write to the correct location\r\n\t\t\t\tif (strLength < 0x20) {\r\n\t\t\t\t\theaderSize = 1\r\n\t\t\t\t} else if (strLength < 0x100) {\r\n\t\t\t\t\theaderSize = 2\r\n\t\t\t\t} else if (strLength < 0x10000) {\r\n\t\t\t\t\theaderSize = 3\r\n\t\t\t\t} else {\r\n\t\t\t\t\theaderSize = 5\r\n\t\t\t\t}\r\n\t\t\t\tlet maxBytes = strLength * 3\r\n\t\t\t\tif (position + maxBytes > safeEnd)\r\n\t\t\t\t\ttarget = makeRoom(position + maxBytes)\r\n\r\n\t\t\t\tif (strLength < 0x40 || !encodeUtf8) {\r\n\t\t\t\t\tlet i, c1, c2, strPosition = position + headerSize\r\n\t\t\t\t\tfor (i = 0; i < strLength; i++) {\r\n\t\t\t\t\t\tc1 = value.charCodeAt(i)\r\n\t\t\t\t\t\tif (c1 < 0x80) {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1\r\n\t\t\t\t\t\t} else if (c1 < 0x800) {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 | 0xc0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t(c1 & 0xfc00) === 0xd800 &&\r\n\t\t\t\t\t\t\t((c2 = value.charCodeAt(i + 1)) & 0xfc00) === 0xdc00\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tc1 = 0x10000 + ((c1 & 0x03ff) << 10) + (c2 & 0x03ff)\r\n\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 18 | 0xf0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 12 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 12 | 0xe0\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 >> 6 & 0x3f | 0x80\r\n\t\t\t\t\t\t\ttarget[strPosition++] = c1 & 0x3f | 0x80\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlength = strPosition - position - headerSize\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlength = encodeUtf8(value, position + headerSize, maxBytes)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (length < 0x20) {\r\n\t\t\t\t\ttarget[position++] = 0xa0 | length\r\n\t\t\t\t} else if (length < 0x100) {\r\n\t\t\t\t\tif (headerSize < 2) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 2, position + 1, position + 1 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xd9\r\n\t\t\t\t\ttarget[position++] = length\r\n\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\tif (headerSize < 3) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 3, position + 2, position + 2 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xda\r\n\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (headerSize < 5) {\r\n\t\t\t\t\t\ttarget.copyWithin(position + 5, position + 3, position + 3 + length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xdb\r\n\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\tposition += 4\r\n\t\t\t\t}\r\n\t\t\t\tposition += length\r\n\t\t\t} else if (type === 'number') {\r\n\t\t\t\tif (value >>> 0 === value) {// positive integer, 32-bit or less\r\n\t\t\t\t\t// positive uint\r\n\t\t\t\t\tif (value < 0x40) {\r\n\t\t\t\t\t\ttarget[position++] = value\r\n\t\t\t\t\t} else if (value < 0x100) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcc\r\n\t\t\t\t\t\ttarget[position++] = value\r\n\t\t\t\t\t} else if (value < 0x10000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcd\r\n\t\t\t\t\t\ttarget[position++] = value >> 8\r\n\t\t\t\t\t\ttarget[position++] = value & 0xff\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xce\r\n\t\t\t\t\t\ttargetView.setUint32(position, value)\r\n\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (value >> 0 === value) { // negative integer\r\n\t\t\t\t\tif (value >= -0x20) {\r\n\t\t\t\t\t\ttarget[position++] = 0x100 + value\r\n\t\t\t\t\t} else if (value >= -0x80) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd0\r\n\t\t\t\t\t\ttarget[position++] = value + 0x100\r\n\t\t\t\t\t} else if (value >= -0x8000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd1\r\n\t\t\t\t\t\ttargetView.setInt16(position, value)\r\n\t\t\t\t\t\tposition += 2\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xd2\r\n\t\t\t\t\t\ttargetView.setInt32(position, value)\r\n\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet useFloat32\r\n\t\t\t\t\tif ((useFloat32 = this.useFloat32) > 0 && value < 0x100000000 && value >= -0x80000000) {\r\n\t\t\t\t\t\ttarget[position++] = 0xca\r\n\t\t\t\t\t\ttargetView.setFloat32(position, value)\r\n\t\t\t\t\t\tlet xShifted\r\n\t\t\t\t\t\tif (useFloat32 < 4 ||\r\n\t\t\t\t\t\t\t\t// this checks for rounding of numbers that were encoded in 32-bit float to nearest significant decimal digit that could be preserved\r\n\t\t\t\t\t\t\t\t((xShifted = value * mult10[((target[position] & 0x7f) << 1) | (target[position + 1] >> 7)]) >> 0) === xShifted) {\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tposition-- // move back into position for writing a double\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[position++] = 0xcb\r\n\t\t\t\t\ttargetView.setFloat64(position, value)\r\n\t\t\t\t\tposition += 8\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'object') {\r\n\t\t\t\tif (!value)\r\n\t\t\t\t\ttarget[position++] = 0xc0\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (referenceMap) {\r\n\t\t\t\t\t\tlet referee = referenceMap.get(value)\r\n\t\t\t\t\t\tif (referee) {\r\n\t\t\t\t\t\t\tif (!referee.id) {\r\n\t\t\t\t\t\t\t\tlet idsToInsert = referenceMap.idsToInsert || (referenceMap.idsToInsert = [])\r\n\t\t\t\t\t\t\t\treferee.id = idsToInsert.push(referee)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttarget[position++] = 0xd6 // fixext 4\r\n\t\t\t\t\t\t\ttarget[position++] = 0x70 // \"p\" for pointer\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, referee.id)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else \r\n\t\t\t\t\t\t\treferenceMap.set(value, { offset: position - start })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet constructor = value.constructor\r\n\t\t\t\t\tif (constructor === Object) {\r\n\t\t\t\t\t\twriteObject(value, true)\r\n\t\t\t\t\t} else if (constructor === Array) {\r\n\t\t\t\t\t\tlength = value.length\r\n\t\t\t\t\t\tif (length < 0x10) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0x90 | length\r\n\t\t\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdc\r\n\t\t\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdd\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\t\t\t\tpack(value[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (constructor === Map) {\r\n\t\t\t\t\t\tlength = value.size\r\n\t\t\t\t\t\tif (length < 0x10) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0x80 | length\r\n\t\t\t\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xde\r\n\t\t\t\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget[position++] = 0xdf\r\n\t\t\t\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\t\t\t\tposition += 4\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let [ key, entryValue ] of value) {\r\n\t\t\t\t\t\t\tpack(key)\r\n\t\t\t\t\t\t\tpack(entryValue)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\tfor (let i = 0, l = extensions.length; i < l; i++) {\r\n\t\t\t\t\t\t\tlet extensionClass = extensionClasses[i]\r\n\t\t\t\t\t\t\tif (value instanceof extensionClass) {\r\n\t\t\t\t\t\t\t\tlet extension = extensions[i]\r\n\t\t\t\t\t\t\t\tif (extension.write) {\r\n\t\t\t\t\t\t\t\t\tif (extension.type) {\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = 0xd4 // one byte \"tag\" extension\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = extension.type\r\n\t\t\t\t\t\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tpack(extension.write.call(this, value))\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlet currentTarget = target\r\n\t\t\t\t\t\t\t\tlet currentTargetView = targetView\r\n\t\t\t\t\t\t\t\tlet currentPosition = position\r\n\t\t\t\t\t\t\t\ttarget = null\r\n\t\t\t\t\t\t\t\tlet result\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tresult = extension.pack.call(this, value, (size) => {\r\n\t\t\t\t\t\t\t\t\t\t// restore target and use it\r\n\t\t\t\t\t\t\t\t\t\ttarget = currentTarget\r\n\t\t\t\t\t\t\t\t\t\tcurrentTarget = null\r\n\t\t\t\t\t\t\t\t\t\tposition += size\r\n\t\t\t\t\t\t\t\t\t\tif (position > safeEnd)\r\n\t\t\t\t\t\t\t\t\t\t\tmakeRoom(position)\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\ttarget, targetView, position: position - size\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}, pack)\r\n\t\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\t\t// restore current target information (unless already restored)\r\n\t\t\t\t\t\t\t\t\tif (currentTarget) {\r\n\t\t\t\t\t\t\t\t\t\ttarget = currentTarget\r\n\t\t\t\t\t\t\t\t\t\ttargetView = currentTargetView\r\n\t\t\t\t\t\t\t\t\t\tposition = currentPosition\r\n\t\t\t\t\t\t\t\t\t\tsafeEnd = target.length - 10\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\t\tif (result.length + position > safeEnd)\r\n\t\t\t\t\t\t\t\t\t\tmakeRoom(result.length + position)\r\n\t\t\t\t\t\t\t\t\tposition = writeExtensionData(result, target, position, extension.type)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// no extension found, write as object\r\n\t\t\t\t\t\twriteObject(value, !value.hasOwnProperty) // if it doesn't have hasOwnProperty, don't do hasOwnProperty checks\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'boolean') {\r\n\t\t\t\ttarget[position++] = value ? 0xc3 : 0xc2\r\n\t\t\t} else if (type === 'bigint') {\r\n\t\t\t\tif (value < (BigInt(1)<<BigInt(63)) && value >= -(BigInt(1)<<BigInt(63))) {\r\n\t\t\t\t\t// use a signed int as long as it fits\r\n\t\t\t\t\ttarget[position++] = 0xd3\r\n\t\t\t\t\ttargetView.setBigInt64(position, value)\r\n\t\t\t\t} else if (value < (BigInt(1)<<BigInt(64)) && value > 0) {\r\n\t\t\t\t\t// if we can fit an unsigned int, use that\r\n\t\t\t\t\ttarget[position++] = 0xcf\r\n\t\t\t\t\ttargetView.setBigUint64(position, value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// overflow\r\n\t\t\t\t\tif (this.largeBigIntToFloat) {\r\n\t\t\t\t\t\ttarget[position++] = 0xcb\r\n\t\t\t\t\t\ttargetView.setFloat64(position, Number(value))\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new RangeError(value + ' was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tposition += 8\r\n\t\t\t} else if (type === 'undefined') {\r\n\t\t\t\tif (this.encodeUndefinedAsNil)\r\n\t\t\t\t\ttarget[position++] = 0xc0\r\n\t\t\t\telse {\r\n\t\t\t\t\ttarget[position++] = 0xd4 // a number of implementations use fixext1 with type 0, data 0 to denote undefined, so we follow suite\r\n\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t\ttarget[position++] = 0\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'function') {\r\n\t\t\t\tpack(this.writeFunction && this.writeFunction()) // if there is a writeFunction, use it, otherwise just encode as undefined\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('Unknown type: ' + type)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst writeObject = this.useRecords === false ? this.variableMapSize ? (object) => {\r\n\t\t\t// this method is slightly slower, but generates \"preferred serialization\" (optimally small for smaller objects)\r\n\t\t\tlet keys = Object.keys(object)\r\n\t\t\tlet length = keys.length\r\n\t\t\tif (length < 0x10) {\r\n\t\t\t\ttarget[position++] = 0x80 | length\r\n\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\ttarget[position++] = 0xde\r\n\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t} else {\r\n\t\t\t\ttarget[position++] = 0xdf\r\n\t\t\t\ttargetView.setUint32(position, length)\r\n\t\t\t\tposition += 4\r\n\t\t\t}\r\n\t\t\tlet key\r\n\t\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\t\tpack(key = keys[i])\r\n\t\t\t\tpack(object[key])\r\n\t\t\t}\r\n\t\t} :\r\n\t\t(object, safePrototype) => {\r\n\t\t\ttarget[position++] = 0xde // always using map 16, so we can preallocate and set the length afterwards\r\n\t\t\tlet objectOffset = position - start\r\n\t\t\tposition += 2\r\n\t\t\tlet size = 0\r\n\t\t\tfor (let key in object) {\r\n\t\t\t\tif (safePrototype || object.hasOwnProperty(key)) {\r\n\t\t\t\t\tpack(key)\r\n\t\t\t\t\tpack(object[key])\r\n\t\t\t\t\tsize++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttarget[objectOffset++ + start] = size >> 8\r\n\t\t\ttarget[objectOffset + start] = size & 0xff\r\n\t\t} :\r\n\r\n\t/*\tsharedStructures ?  // For highly stable structures, using for-in can a little bit faster\r\n\t\t(object, safePrototype) => {\r\n\t\t\tlet nextTransition, transition = structures.transitions || (structures.transitions = Object.create(null))\r\n\t\t\tlet objectOffset = position++ - start\r\n\t\t\tlet wroteKeys\r\n\t\t\tfor (let key in object) {\r\n\t\t\t\tif (safePrototype || object.hasOwnProperty(key)) {\r\n\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\t\tnextTransition.__keys__ = (transition.__keys__ || []).concat([key])\r\n\t\t\t\t\t\t/*let keys = Object.keys(object)\r\n\t\t\t\t\t\tif \r\n\t\t\t\t\t\tlet size = 0\r\n\t\t\t\t\t\tlet startBranch = transition.__keys__ ? transition.__keys__.length : 0\r\n\t\t\t\t\t\tfor (let i = 0, l = keys.length; i++) {\r\n\t\t\t\t\t\t\tlet key = keys[i]\r\n\t\t\t\t\t\t\tsize += key.length << 2\r\n\t\t\t\t\t\t\tif (i >= startBranch) {\r\n\t\t\t\t\t\t\t\tnextTransition = nextTransition[key] = Object.create(null)\r\n\t\t\t\t\t\t\t\tnextTransition.__keys__ = keys.slice(0, i + 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmakeRoom(position + size)\r\n\t\t\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\t\t\ttarget.copy(target, )\r\n\t\t\t\t\t\tobjectOffset\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttransition = nextTransition\r\n\t\t\t\t\tpack(object[key])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet id = transition.id\r\n\t\t\tif (!id) {\r\n\t\t\t\tid = transition.id = structures.push(transition.__keys__) + 63\r\n\t\t\t\tif (sharedStructures.onUpdate)\r\n\t\t\t\t\tsharedStructures.onUpdate(id, transition.__keys__)\r\n\t\t\t}\r\n\t\t\ttarget[objectOffset + start] = id\r\n\t\t}*/\r\n\t\t(object) => {\r\n\t\t\tlet keys = Object.keys(object)\r\n\t\t\tlet nextTransition, transition = structures.transitions || (structures.transitions = Object.create(null))\r\n\t\t\tlet newTransitions = 0\r\n\t\t\tfor (let i = 0, l = keys.length; i < l; i++) {\r\n\t\t\t\tlet key = keys[i]\r\n\t\t\t\tnextTransition = transition[key]\r\n\t\t\t\tif (!nextTransition) {\r\n\t\t\t\t\tnextTransition = transition[key] = Object.create(null)\r\n\t\t\t\t\tnewTransitions++\r\n\t\t\t\t}\r\n\t\t\t\ttransition = nextTransition\r\n\t\t\t}\r\n\t\t\tlet recordId = transition[RECORD_SYMBOL]\r\n\t\t\tif (recordId) {\r\n\t\t\t\tif (recordId >= 0x60 && useTwoByteRecords) {\r\n\t\t\t\t\ttarget[position++] = ((recordId -= 0x60) & 0x1f) + 0x60\r\n\t\t\t\t\ttarget[position++] = recordId >> 5\r\n\t\t\t\t} else\r\n\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t} else {\r\n\t\t\t\trecordId = structures.nextId\r\n\t\t\t\tif (!recordId)\r\n\t\t\t\t\trecordId = 0x40\r\n\t\t\t\tif (recordId < sharedLimitId && this.shouldShareStructure && !this.shouldShareStructure(keys)) {\r\n\t\t\t\t\trecordId = structures.nextOwnId\r\n\t\t\t\t\tif (!(recordId < maxStructureId))\r\n\t\t\t\t\t\trecordId = sharedLimitId\r\n\t\t\t\t\tstructures.nextOwnId = recordId + 1\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (recordId >= maxStructureId)// cycle back around\r\n\t\t\t\t\t\trecordId = sharedLimitId\r\n\t\t\t\t\tstructures.nextId = recordId + 1\r\n\t\t\t\t}\r\n\t\t\t\tlet highByte = keys.highByte = recordId >= 0x60 && useTwoByteRecords ? (recordId - 0x60) >> 5 : -1\r\n\t\t\t\ttransition[RECORD_SYMBOL] = recordId\r\n\t\t\t\tstructures[recordId - 0x40] = keys\r\n\r\n\t\t\t\tif (recordId < sharedLimitId) {\r\n\t\t\t\t\tkeys.isShared = true\r\n\t\t\t\t\tstructures.sharedLength = recordId - 0x3f\r\n\t\t\t\t\thasSharedUpdate = true\r\n\t\t\t\t\tif (highByte >= 0) {\r\n\t\t\t\t\t\ttarget[position++] = (recordId & 0x1f) + 0x60\r\n\t\t\t\t\t\ttarget[position++] = highByte\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (highByte >= 0) {\r\n\t\t\t\t\t\ttarget[position++] = 0xd5 // fixext 2\r\n\t\t\t\t\t\ttarget[position++] = 0x72 // \"r\" record defintion extension type\r\n\t\t\t\t\t\ttarget[position++] = (recordId & 0x1f) + 0x60\r\n\t\t\t\t\t\ttarget[position++] = highByte\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[position++] = 0xd4 // fixext 1\r\n\t\t\t\t\t\ttarget[position++] = 0x72 // \"r\" record defintion extension type\r\n\t\t\t\t\t\ttarget[position++] = recordId\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (newTransitions)\r\n\t\t\t\t\t\ttransitionsCount += serializationsSinceTransitionRebuild * newTransitions\r\n\t\t\t\t\t// record the removal of the id, we can maintain our shared structure\r\n\t\t\t\t\tif (recordIdsToRemove.length >= maxOwnStructures)\r\n\t\t\t\t\t\trecordIdsToRemove.shift()[RECORD_SYMBOL] = 0 // we are cycling back through, and have to remove old ones\r\n\t\t\t\t\trecordIdsToRemove.push(transition)\r\n\t\t\t\t\tpack(keys)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// now write the values\r\n\t\t\tfor (let i = 0, l = keys.length; i < l; i++)\r\n\t\t\t\tpack(object[keys[i]])\r\n\t\t}\r\n\t\tconst makeRoom = (end) => {\r\n\t\t\tlet newSize\r\n\t\t\tif (end > 0x1000000) {\r\n\t\t\t\t// special handling for really large buffers\r\n\t\t\t\tif ((end - start) > MAX_BUFFER_SIZE)\r\n\t\t\t\t\tthrow new Error('Packed buffer would be larger than maximum buffer size')\r\n\t\t\t\tnewSize = Math.min(MAX_BUFFER_SIZE,\r\n\t\t\t\t\tMath.round(Math.max((end - start) * (end > 0x4000000 ? 1.25 : 2), 0x400000) / 0x1000) * 0x1000)\r\n\t\t\t} else // faster handling for smaller buffers\r\n\t\t\t\tnewSize = ((Math.max((end - start) << 2, target.length - 1) >> 12) + 1) << 12\r\n\t\t\tlet newBuffer = new ByteArrayAllocate(newSize)\r\n\t\t\ttargetView = new DataView(newBuffer.buffer, 0, newSize)\r\n\t\t\tif (target.copy)\r\n\t\t\t\ttarget.copy(newBuffer, 0, start, end)\r\n\t\t\telse\r\n\t\t\t\tnewBuffer.set(target.slice(start, end))\r\n\t\t\tposition -= start\r\n\t\t\tstart = 0\r\n\t\t\tsafeEnd = newBuffer.length - 10\r\n\t\t\treturn target = newBuffer\r\n\t\t}\r\n\t}\r\n\tuseBuffer(buffer) {\r\n\t\t// this means we are finished using our own buffer and we can write over it safely\r\n\t\ttarget = buffer\r\n\t\ttargetView = new DataView(target.buffer, target.byteOffset, target.byteLength)\r\n\t\tposition = 0\r\n\t}\r\n}\r\n\r\nfunction copyBinary(source, target, targetOffset, offset, endOffset) {\r\n\twhile (offset < endOffset) {\r\n\t\ttarget[targetOffset++] = source[offset++]\r\n\t}\r\n}\r\n\r\nextensionClasses = [ Date, Set, Error, RegExp, ArrayBuffer, Object.getPrototypeOf(Uint8Array.prototype).constructor /*TypedArray*/, C1Type ]\r\nextensions = [{\r\n\tpack(date, allocateForWrite, pack) {\r\n\t\tlet seconds = date.getTime() / 1000\r\n\t\tif ((this.useTimestamp32 || date.getMilliseconds() === 0) && seconds >= 0 && seconds < 0x100000000) {\r\n\t\t\t// Timestamp 32\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(6)\r\n\t\t\ttarget[position++] = 0xd6\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, seconds)\r\n\t\t} else if (seconds > 0 && seconds < 0x400000000) {\r\n\t\t\t// Timestamp 64\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(10)\r\n\t\t\ttarget[position++] = 0xd7\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, date.getMilliseconds() * 4000000 + ((seconds / 1000 / 0x100000000) >> 0))\r\n\t\t\ttargetView.setUint32(position + 4, seconds)\r\n\t\t} else if (isNaN(seconds)) {\r\n\t\t\tif (this.onInvalidDate)\r\n\t\t\t\treturn pack(this.onInvalidDate())\r\n\t\t\t// Intentionally invalid timestamp\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(3)\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t} else {\r\n\t\t\t// Timestamp 96\r\n\t\t\tlet { target, targetView, position} = allocateForWrite(15)\r\n\t\t\ttarget[position++] = 0xc7\r\n\t\t\ttarget[position++] = 12\r\n\t\t\ttarget[position++] = 0xff\r\n\t\t\ttargetView.setUint32(position, date.getMilliseconds() * 1000000)\r\n\t\t\ttargetView.setBigInt64(position + 4, BigInt(Math.floor(seconds)))\r\n\t\t}\r\n\t}\r\n}, {\r\n\tpack(set, allocateForWrite, pack) {\r\n\t\tlet array = Array.from(set)\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x73 // 's' for Set\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack(array)\r\n\t}\r\n}, {\r\n\tpack(error, allocateForWrite, pack) {\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x65 // 'e' for error\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack([ error.name, error.message ])\r\n\t}\r\n}, {\r\n\tpack(regex, allocateForWrite, pack) {\r\n\t\tlet { target, position} = allocateForWrite(this.structuredClone ? 3 : 0)\r\n\t\tif (this.structuredClone) {\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\ttarget[position++] = 0x78 // 'x' for regeXp\r\n\t\t\ttarget[position++] = 0\r\n\t\t}\r\n\t\tpack([ regex.source, regex.flags ])\r\n\t}\r\n}, {\r\n\tpack(arrayBuffer, allocateForWrite) {\r\n\t\tif (this.structuredClone)\r\n\t\t\twriteExtBuffer(arrayBuffer, 0x10, allocateForWrite)\r\n\t\telse\r\n\t\t\twriteBuffer(hasNodeBuffer ? Buffer.from(arrayBuffer) : new Uint8Array(arrayBuffer), allocateForWrite)\r\n\t}\r\n}, {\r\n\tpack(typedArray, allocateForWrite) {\r\n\t\tlet constructor = typedArray.constructor\r\n\t\tif (constructor !== ByteArray && this.structuredClone)\r\n\t\t\twriteExtBuffer(typedArray, typedArrays.indexOf(constructor.name), allocateForWrite)\r\n\t\telse\r\n\t\t\twriteBuffer(typedArray, allocateForWrite)\r\n\t}\r\n}, {\r\n\tpack(c1, allocateForWrite) { // specific 0xC1 object\r\n\t\tlet { target, position} = allocateForWrite(1)\r\n\t\ttarget[position] = 0xc1\r\n\t}\r\n}]\r\n\r\nfunction writeExtBuffer(typedArray, type, allocateForWrite, encode) {\r\n\tlet length = typedArray.byteLength\r\n\tif (length + 1 < 0x100) {\r\n\t\tvar { target, position } = allocateForWrite(4 + length)\r\n\t\ttarget[position++] = 0xc7\r\n\t\ttarget[position++] = length + 1\r\n\t} else if (length + 1 < 0x10000) {\r\n\t\tvar { target, position } = allocateForWrite(5 + length)\r\n\t\ttarget[position++] = 0xc8\r\n\t\ttarget[position++] = (length + 1) >> 8\r\n\t\ttarget[position++] = (length + 1) & 0xff\r\n\t} else {\r\n\t\tvar { target, position, targetView } = allocateForWrite(7 + length)\r\n\t\ttarget[position++] = 0xc9\r\n\t\ttargetView.setUint32(position, length + 1) // plus one for the type byte\r\n\t\tposition += 4\r\n\t}\r\n\ttarget[position++] = 0x74 // \"t\" for typed array\r\n\ttarget[position++] = type\r\n\ttarget.set(new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength), position)\r\n}\r\nfunction writeBuffer(buffer, allocateForWrite) {\r\n\tlet length = buffer.byteLength\r\n\tvar target, position\r\n\tif (length < 0x100) {\r\n\t\tvar { target, position } = allocateForWrite(length + 2)\r\n\t\ttarget[position++] = 0xc4\r\n\t\ttarget[position++] = length\r\n\t} else if (length < 0x10000) {\r\n\t\tvar { target, position } = allocateForWrite(length + 3)\r\n\t\ttarget[position++] = 0xc5\r\n\t\ttarget[position++] = length >> 8\r\n\t\ttarget[position++] = length & 0xff\r\n\t} else {\r\n\t\tvar { target, position, targetView } = allocateForWrite(length + 5)\r\n\t\ttarget[position++] = 0xc6\r\n\t\ttargetView.setUint32(position, length)\r\n\t\tposition += 4\r\n\t}\r\n\ttarget.set(buffer, position)\r\n}\r\n\r\nfunction writeExtensionData(result, target, position, type) {\r\n\tlet length = result.length\r\n\tswitch (length) {\r\n\t\tcase 1:\r\n\t\t\ttarget[position++] = 0xd4\r\n\t\t\tbreak\r\n\t\tcase 2:\r\n\t\t\ttarget[position++] = 0xd5\r\n\t\t\tbreak\r\n\t\tcase 4:\r\n\t\t\ttarget[position++] = 0xd6\r\n\t\t\tbreak\r\n\t\tcase 8:\r\n\t\t\ttarget[position++] = 0xd7\r\n\t\t\tbreak\r\n\t\tcase 16:\r\n\t\t\ttarget[position++] = 0xd8\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tif (length < 0x100) {\r\n\t\t\t\ttarget[position++] = 0xc7\r\n\t\t\t\ttarget[position++] = length\r\n\t\t\t} else if (length < 0x10000) {\r\n\t\t\t\ttarget[position++] = 0xc8\r\n\t\t\t\ttarget[position++] = length >> 8\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t} else {\r\n\t\t\t\ttarget[position++] = 0xc9\r\n\t\t\t\ttarget[position++] = length >> 24\r\n\t\t\t\ttarget[position++] = (length >> 16) & 0xff\r\n\t\t\t\ttarget[position++] = (length >> 8) & 0xff\r\n\t\t\t\ttarget[position++] = length & 0xff\r\n\t\t\t}\r\n\t}\r\n\ttarget[position++] = type\r\n\ttarget.set(result, position)\r\n\tposition += length\r\n\treturn position\r\n}\r\n\r\nfunction insertIds(serialized, idsToInsert) {\r\n\t// insert the ids that need to be referenced for structured clones\r\n\tlet nextId\r\n\tlet distanceToMove = idsToInsert.length * 6\r\n\tlet lastEnd = serialized.length - distanceToMove\r\n\tidsToInsert.sort((a, b) => a.offset > b.offset ? 1 : -1)\r\n\twhile (nextId = idsToInsert.pop()) {\r\n\t\tlet offset = nextId.offset\r\n\t\tlet id = nextId.id\r\n\t\tserialized.copyWithin(offset + distanceToMove, offset, lastEnd)\r\n\t\tdistanceToMove -= 6\r\n\t\tlet position = offset + distanceToMove\r\n\t\tserialized[position++] = 0xd6\r\n\t\tserialized[position++] = 0x69 // 'i'\r\n\t\tserialized[position++] = id >> 24\r\n\t\tserialized[position++] = (id >> 16) & 0xff\r\n\t\tserialized[position++] = (id >> 8) & 0xff\r\n\t\tserialized[position++] = id & 0xff\r\n\t\tlastEnd = offset\r\n\t}\r\n\treturn serialized\r\n}\r\n\r\nexport function addExtension(extension) {\r\n\tif (extension.Class) {\r\n\t\tif (!extension.pack && !extension.write)\r\n\t\t\tthrow new Error('Extension has no pack or write function')\r\n\t\tif (extension.pack && !extension.type)\r\n\t\t\tthrow new Error('Extension has no type (numeric code to identify the extension)')\r\n\t\textensionClasses.unshift(extension.Class)\r\n\t\textensions.unshift(extension)\r\n\t}\r\n\tunpackAddExtension(extension)\r\n}\r\n\r\nlet defaultPackr = new Packr({ useRecords: false })\r\nexport const pack = defaultPackr.pack\r\nexport const encode = defaultPackr.pack\r\nexport const Encoder = Packr\r\nexport { FLOAT32_OPTIONS } from './unpack.js'\r\nimport { FLOAT32_OPTIONS } from './unpack.js'\r\nexport const { NEVER, ALWAYS, DECIMAL_ROUND, DECIMAL_FIT } = FLOAT32_OPTIONS\r\nexport const REUSE_BUFFER_MODE = 1000\r\n","import { Packr } from './pack.js'\r\nimport { Unpackr } from './unpack.js'\r\n\r\n/**\r\n * Given an Iterable first argument, returns an Iterable where each value is packed as a Buffer\r\n * If the argument is only Async Iterable, the return value will be an Async Iterable.\r\n * @param {Iterable|Iterator|AsyncIterable|AsyncIterator} objectIterator - iterable source, like a Readable object stream, an array, Set, or custom object\r\n * @param {options} [options] - msgpackr pack options\r\n * @returns {IterableIterator|Promise.<AsyncIterableIterator>}\r\n */\r\nexport function packIter (objectIterator, options = {}) {\r\n  if (!objectIterator || typeof objectIterator !== 'object') {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable')\r\n  } else if (typeof objectIterator[Symbol.iterator] === 'function') {\r\n    return packIterSync(objectIterator, options)\r\n  } else if (typeof objectIterator.then === 'function' || typeof objectIterator[Symbol.asyncIterator] === 'function') {\r\n    return packIterAsync(objectIterator, options)\r\n  } else {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise')\r\n  }\r\n}\r\n\r\nfunction * packIterSync (objectIterator, options) {\r\n  const packr = new Packr(options)\r\n  for (const value of objectIterator) {\r\n    yield packr.pack(value)\r\n  }\r\n}\r\n\r\nasync function * packIterAsync (objectIterator, options) {\r\n  const packr = new Packr(options)\r\n  for await (const value of objectIterator) {\r\n    yield packr.pack(value)\r\n  }\r\n}\r\n\r\n/**\r\n * Given an Iterable/Iterator input which yields buffers, returns an IterableIterator which yields sync decoded objects\r\n * Or, given an Async Iterable/Iterator which yields promises resolving in buffers, returns an AsyncIterableIterator.\r\n * @param {Iterable|Iterator|AsyncIterable|AsyncIterableIterator} bufferIterator\r\n * @param {object} [options] - unpackr options\r\n * @returns {IterableIterator|Promise.<AsyncIterableIterator}\r\n */\r\nexport function unpackIter (bufferIterator, options = {}) {\r\n  if (!bufferIterator || typeof bufferIterator !== 'object') {\r\n    throw new Error('first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise')\r\n  }\r\n\r\n  const unpackr = new Unpackr(options)\r\n  let incomplete\r\n  const parser = (chunk) => {\r\n    let yields\r\n    // if there's incomplete data from previous chunk, concatinate and try again\r\n    if (incomplete) {\r\n      chunk = Buffer.concat([incomplete, chunk])\r\n      incomplete = undefined\r\n    }\r\n\r\n    try {\r\n      yields = unpackr.unpackMultiple(chunk)\r\n    } catch (err) {\r\n      if (err.incomplete) {\r\n        incomplete = chunk.slice(err.lastPosition)\r\n        yields = err.values\r\n      } else {\r\n        throw err\r\n      }\r\n    }\r\n    return yields\r\n  }\r\n\r\n  if (typeof bufferIterator[Symbol.iterator] === 'function') {\r\n    return (function * iter () {\r\n      for (const value of bufferIterator) {\r\n        yield * parser(value)\r\n      }\r\n    })()\r\n  } else if (typeof bufferIterator[Symbol.asyncIterator] === 'function') {\r\n    return (async function * iter () {\r\n      for await (const value of bufferIterator) {\r\n        yield * parser(value)\r\n      }\r\n    })()\r\n  }\r\n}\r\nexport const decodeIter = unpackIter\r\nexport const encodeIter = packIter","export { Packr, Encoder, addExtension, pack, encode, NEVER, ALWAYS, DECIMAL_ROUND, DECIMAL_FIT, REUSE_BUFFER_MODE } from './pack.js'\r\nexport { Unpackr, Decoder, C1, unpack, unpackMultiple, decode, FLOAT32_OPTIONS, clearSource, roundFloat32, isNativeAccelerationEnabled } from './unpack.js'\r\nexport { decodeIter, encodeIter } from './iterators.js'\r\nexport const useRecords = false\r\nexport const mapsAsObjects = true\r\n","const PicoRepo = require('picorepo')\nconst Feed = require('picofeed')\nconst { Packr, pack, unpack } = require('msgpackr')\nconst STRUCTS = 'msgpackr::structs'\nclass PicoStore {\n  constructor (db, mergeStrategy) {\n    this.repo = PicoRepo.isRepo(db) ? db : new PicoRepo(db)\n    this._strategy = mergeStrategy || (() => {})\n    this._stores = []\n    this._loaded = false\n    this._mutex = Promise.resolve(0)\n    this._packr = null\n  }\n\n  async _waitLock () {\n    const current = this._mutex\n    let release, fail\n    const next = new Promise((resolve, reject) => { release = resolve; fail = reject })\n    this._mutex = next\n    let timeoutError = null\n    try { throw new Error('MutexTimeout') } catch (err) { timeoutError = err }\n    const timerId = setTimeout(() => {\n      console.error('MutexTimeout', timeoutError.stack)\n      fail(timeoutError)\n    }, 5000) // TODO: way to disable timeouts during debugger sessions\n    await current\n    return () => {\n      clearTimeout(timerId)\n      release()\n    }\n  }\n\n  register (name, initialValue, validator, reducer, trap) {\n    if (this._loaded) throw new Error('register() must be invoked before load()')\n    if (typeof name !== 'string') {\n      return this.register(name.name, name.initialValue, name.filter, name.reducer, name.trap)\n    } else if (typeof initialValue === 'function') {\n      return this.register(name, undefined, initialValue, validator)\n    }\n\n    this._stores.push({\n      name,\n      validator,\n      reducer,\n      trap,\n      version: 0,\n      head: undefined,\n      value: initialValue,\n      initialValue,\n      observers: new Set()\n    })\n  }\n\n  async load () {\n    const unlock = await this._waitLock()\n    if (this._loaded) throw new Error('Store already loaded')\n\n    let structures = await this.repo.readReg(STRUCTS)\n    if (structures) structures = unpack(structures)\n    else structures = []\n\n    this._packr = new Packr({\n      structures,\n      saveStructures: () => this.repo.writeReg(STRUCTS, pack(structures))\n        // .then(console.info.bind(null, 'msgpackr:structs saved'))\n        .catch(console.error.bind(null, 'Failed saving msgpackr:structs'))\n    })\n\n    for (const store of this._stores) {\n      const head = await this.repo.readReg(`HEADS/${store.name}`)\n      if (!head) continue // Empty\n      store.head = head\n      store.version = this._decodeValue(await this.repo.readReg(`VER/${store.name}`))\n      store.value = this._decodeValue(await this.repo.readReg(`STATES/${store.name}`))\n      for (const listener of store.observers) listener(store.value)\n    }\n    this._loaded = true\n    unlock()\n  }\n\n  /**\n   * Mutates the state, if a reload is in progress the dispatch will wait\n   * for it to complete.\n   */\n  async dispatch (patch, loud) {\n    const unlock = await this._waitLock()\n    try { // Ensure mutex release on error\n      const res = await this._dispatch(patch, loud)\n      unlock()\n      return res\n    } catch (err) {\n      unlock()\n      throw err\n    }\n  }\n\n  async _dispatch (patch, loud = false) {\n    if (!this._loaded) throw Error('Store not ready, call load()')\n    patch = Feed.from(patch)\n    // Check if head can be fast-forwarded\n    /* Oops I broke it again....\n     * In-repo (local):\n     * A0 A1  <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * incoming (patch): A1 B1\n     *\n     * Expected result:\n     * A0 A1 B1 <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * Ex. #2 (local)\n     * A0 A1 B1  <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     *\n     * Patch: B1 A2\n     *\n     * Expected result:\n     * A0 A1 B1 A2 <-- branch 'A' head\n     * B0 <-- branch 'B' head\n     */\n    let local = null // Target branch to merge to\n    if (patch.first.isGenesis) {\n      const owner = patch.first.key\n      const tail = await this.repo.tailOf(owner)\n      if (tail) local = await this.repo.loadHead(owner)\n      else local = new Feed() // happy birthday feed!\n    } else {\n      // Load entire branch into memory twice...\n      const owner = await this.repo._traceOwnerOf(patch.first.parentSig)\n      if (!owner) throw new Error('Unknown target branch')\n      local = await this.repo.loadHead(owner)\n    }\n\n    // canMerge?\n    if (!local.clone().merge(patch)) return []\n\n    const diff = !local.length ? patch.length : local._compare(patch) // WARNING untested internal api.\n    if (diff < 1) return [] // Patch contains equal or less blocks than local\n\n    const modified = new Set()\n    const root = this.state\n\n    let parentBlock = null\n    const _first = patch.get(-diff)\n    if (!_first.isGenesis && !local.length) {\n      if (loud) throw new Error('NoCommonParent')\n      return []\n    } else if (!_first.isGenesis && local.length) {\n      const it = local.blocks()\n      let res = it.next()\n      while (!parentBlock && !res.done) { // TODO: avoid loop using local.get(something)\n        if (res.value.sig.equals(_first.parentSig)) parentBlock = res.value\n        res = it.next()\n      }\n      if (!parentBlock) {\n        throw new Error('ParentNotFound') // real logical error\n      }\n    }\n\n    for (const block of patch.blocks(-diff)) {\n      const accepted = []\n      for (const store of this._stores) {\n        if (typeof store.validator !== 'function') continue\n        let validationError = store.validator({ block, parentBlock, state: store.value, root })\n\n        if (!validationError) accepted.push(store) // no error, proceed.\n        else if (validationError === true) {\n          // NO-OP\n          // Returning 'true' from a validator explicitly means silent ignore.\n        } else if (loud) { // throw validation errors\n          if (typeof validationError === 'string') validationError = new Error(`InvalidBlock: ${validationError}`)\n          throw validationError\n        }\n      }\n      if (!accepted.length) break // reject rest of chain if block not accepted\n      const mod = await this._mutateState(block, parentBlock, false, loud)\n\n      for (const s of mod) modified.add(s)\n      parentBlock = block\n    }\n    return Array.from(modified)\n  }\n\n  async _mutateState (block, parentBlock, dryMerge = false, loud = false) {\n    const modified = []\n\n    // Generate list of stores that want to reduce this block\n    const stores = []\n    for (const store of this._stores) {\n      if (typeof store.validator !== 'function') continue\n      if (typeof store.reducer !== 'function') continue\n      const root = this.state\n      const rejected = store.validator({ block, parentBlock, state: store.value, root })\n      if (rejected) continue\n      stores.push(store)\n    }\n\n    // Attempt repo.merge if at least one store accepts block\n    if (stores.length) {\n      const merged = await this.repo.merge(block, this._strategy)\n      if (!dryMerge && !merged) {\n        if (loud) console.warn('RejectedByBucket: MergeStrategy failed')\n        return modified // Rejected by bucket\n      }\n      // TODO: maybe push block to stupid cache at this point\n      // to avoid discarding an out of order block\n    }\n    // Interrupts are buffered until after the mutations have run\n    const interrupts = []\n    const signal = (i, p) => interrupts.push([i, p])\n\n    // Run all state reducers\n    for (const store of stores) {\n      // If repo accepted the change, apply it\n      const root = this.state\n      const val = store.reducer({ block, parentBlock, state: store.value, root, signal })\n      if (typeof val === 'undefined') console.warn('Reducer returned `undefined` state.')\n      await this._commitHead(store, block.sig, val)\n      modified.push(store.name)\n    }\n\n    // Run all traps in signal order\n    // NOTE: want to avoid reusing term 'signal' as it's a function\n    // in reducer context, candidates: code/type/event ('type' already overused)\n    for (const [code, payload] of interrupts) {\n      for (const store of this._stores) {\n        if (typeof store.trap !== 'function') continue\n        const root = this.state\n        const val = store.trap({ code, payload, block, parentBlock, state: store.value, root })\n        if (typeof val === 'undefined') continue // undefined equals no change\n        await this._commitHead(store, block.sig, val)\n        modified.push(store.name)\n      }\n    }\n\n    this._notifyObservers(modified)\n    return modified\n  }\n\n  _notifyObservers (modified) {\n    for (const name of modified) {\n      const store = this._stores.find(s => s.name === name)\n      for (const listener of store.observers) listener(store.value)\n    }\n  }\n\n  async _commitHead (store, head, val) {\n    await this.repo.writeReg(`STATES/${store.name}`, this._encodeValue(val))\n    await this.repo.writeReg(`HEADS/${store.name}`, head)\n    await this.repo.writeReg(`VER/${store.name}`, this._encodeValue(store.version++))\n\n    // who needs a seatbelt anyway? let's save some memory.\n    store.value = val // Object.freeze(val)\n    store.head = head\n  }\n\n  get state () {\n    return this._stores.reduce((state, store) => {\n      state[store.name] = store.value\n      return state\n    }, {})\n  }\n\n  /**\n   * Restores all registers to initial values and re-applies all mutations from database.\n   */\n  async reload () {\n    const unlock = await this._waitLock()\n    try {\n      const modified = []\n      const peers = await this.repo.listHeads()\n\n      for (const store of this._stores) {\n        store.value = store.initialValue\n        store.version = 0\n        store.head = undefined\n        for (const listener of store.observers) listener(store.value)\n      }\n\n      // for (const { key, value: ptr } of peers) {\n      for (const { value: ptr } of peers) {\n        let done = false\n        while (!done) {\n          const part = await this.repo.loadFeed(ptr)\n          // TODO: Multiparent resolve chains and prioritize\n          // paths that lead to `key` (peer id) genesis\n          let parentBlock = null\n          for (const block of part.blocks()) {\n            const mods = await this._mutateState(block, parentBlock, true)\n\n            for (const s of mods) {\n              if (!~modified.indexOf(s)) modified.push(s)\n            }\n            // if (block.isGenesis) done = true\n            // else ptr = some other reference\n            parentBlock = block\n          }\n          done = true\n        }\n      }\n\n      // TODO: considered to release mutex with error if occurs within reload this scope,\n      // but there is no engine-independent way to handle/rethrow an error\n      // without clobbering stack-traces.\n      // Some set stack on `throw` others on `new Error()` *shrug*\n      unlock()\n      return modified\n    } catch (err) {\n      unlock()\n      throw err\n    }\n  }\n\n  on (name, observer) {\n    const store = this._stores.find(s => s.name === name)\n    if (!store) throw new Error(`No such store: \"${name}\"`)\n    if (typeof observer !== 'function') throw new Error('observer must be a function')\n    store.observers.add(observer)\n    observer(store.value)\n    // unsub\n    return () => store.observers.delete(observer)\n  }\n\n  /**\n   * Hotswaps data-storage immediately reloading store from given bucket\n   * and destroying previous database deleting all values in the background\n   * to free up memory in storage.\n   * returns an array containing two promises:\n   *   Reload op: Store ready for use again when resolves.\n   *   Destroy op: Old database was succesfully cleared when resolved.\n   */\n  hotswap (db) {\n    const prev = this.repo\n    // Swap database and begin reload\n    this.repo = db instanceof PicoRepo ? db : new PicoRepo(db)\n    const reloaded = this.reload()\n    // TODO: move this to PicoRepo#destroy() => Promise\n    const destroyed = prev._db.clear()\n    return [reloaded, destroyed]\n  }\n\n  _decodeValue (buf) {\n    if (!buf) return buf\n    return this._packr.unpack(buf)\n  }\n\n  _encodeValue (obj) {\n    return this._packr.pack(obj)\n  }\n}\n\nmodule.exports = PicoStore\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/* eslint-disable camelcase */\nconst {\n  crypto_box_seal,\n  crypto_box_seal_open,\n  crypto_box_keypair,\n  crypto_box_SEALBYTES,\n  crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES\n} = require('sodium-universal')\n/* eslint-enable camelcase */\nconst createDebug = require('debug')\nconst { pack, unpack } = require('msgpackr')\n\n// Global registry names (used as session variables)\nconst KEY_SK = 'reg/sk'\nconst KEY_BOX_LIKES_PK = 'reg/likes_pk'\nconst KEY_BOX_LIKES_SK = 'reg/likes_sk'\n\n// Block-types\nconst TYPE_PROFILE = 'profile'\nconst TYPE_VIBE = 'vibe' // A.k.a ❤️ Like ❤️\nconst TYPE_VIBE_RESP = 'vibe-response' // <3 / </3\nconst TYPE_MESSAGE = 'message'\nconst TYPE_BYE = 'bye'\nconst TYPE_BYE_RESP = 'byebye'\n\n// Interrupts (internal lowlevel events)\n// Yes.. they look scary cause they probably are. :/\nconst EV_CHAT_END = 60\n\n// Other Constants\nconst VIBE_REJECTED = Buffer.from('💔')\nconst PASS_TURN = Buffer.from('😶')\nconst PEACE = 0\nconst UNDERSTANDING = 1\nconst LOVE = 2\n\nconst G_M = 0\nconst G_F = 1\nconst G_NB = 2\nconst G_R = 3 // Robots are people too\n\n// It's silly to waste\nconst GEO_BITS = 17\n\n/**\n * Convert Object to buffer\n */\nfunction encodeBlock (type, seq, payload) {\n  return pack({\n    ...payload,\n    type,\n    seq,\n    date: new Date().getTime()\n  })\n  // return JSON.stringify(o)\n}\n\n/**\n * Converts buffer to Object\n */\nfunction decodeBlock (body, offset = 0) {\n  return unpack(body)\n  // return JSON.parse(body, bufferReplacer)\n}\n\nfunction typeOfBlock (body) {\n  return decodeBlock(body).type\n  // return body[0]\n}\n\nfunction bufferReplacer (k, o) {\n  return (o && typeof o === 'object' && o.type === 'Buffer') ? Buffer.from(o.data) : o\n}\n\n/**\n * Fixes JSON.parse(JSON.stringify(Buffer.alloc(1))) => Buffer\n * instead of: { type: 'Buffer', data [ 0 ] }\n */\nfunction fixJsonBuffers (o) {\n  if (typeof o === 'object' && o.type === 'Buffer') return Buffer.from(o.data)\n  if (Array.isArray(o)) return o.map(fixJsonBuffers)\n  if (typeof o === 'object') {\n    for (const prop in o) {\n      o[prop] = fixJsonBuffers(o[prop])\n    }\n  }\n  return o\n}\n\n/**\n * Converts hexString to buffer\n */\nfunction toBuffer (o) {\n  if (!o) return o\n  if (Buffer.isBuffer(o)) return o\n  if (typeof o === 'string' && /^[0-9A-f]+$/.test(o)) return Buffer.from(o, 'hex')\n  if (typeof o === 'string') return Buffer.from(o) // Not sure if like, remember PHP anyone?\n  if (typeof o === 'object' && o.type === 'Buffer') return Buffer.from(o.data)\n  else return o\n}\n\n/*\n * Sodium seal/unseal encryption\n * https://doc.libsodium.org/public-key_cryptography/sealed_boxes\n */\nfunction seal (m, pk) {\n  const c = Buffer.allocUnsafe(crypto_box_SEALBYTES + m.length) // eslint-disable-line camelcase\n  crypto_box_seal(c, m, pk)\n  return c\n}\n\nfunction unseal (c, sk, pk) {\n  const m = Buffer.allocUnsafe(c.length - crypto_box_SEALBYTES) // eslint-disable-line camelcase\n  const succ = crypto_box_seal_open(m, c, pk, sk)\n  if (!succ) throw new Error('DecryptionFailedError')\n  return m\n}\n\nfunction boxPair () {\n  const pk = Buffer.allocUnsafe(crypto_box_PUBLICKEYBYTES)\n  const sk = Buffer.allocUnsafe(crypto_box_SECRETKEYBYTES)\n  crypto_box_keypair(pk, sk)\n  return { pk, sk }\n}\n\n/*\n * Pepper `debug` lib with buf->hexstring interpolators\n */\ncreateDebug.formatters.h = v => {\n  if (!Buffer.isBuffer(v) || !v?.length) return v\n  return v.slice(0, Math.min(8, v.length)).toString('hex')\n}\ncreateDebug.formatters.H = v => {\n  if (!Buffer.isBuffer(v) || !v?.length) return v\n  return v.toString('hex')\n}\n\n/**\n * And so the madness recurses upon itself\n */\nfunction feedToGraph (f) {\n  let graph = ''\n  let w = f.first.isGenesis ? f.first.key : null\n  for (const block of f.blocks()) {\n    switch (typeOfBlock(block.body)) {\n      case TYPE_PROFILE:\n        graph += 'P'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n        break\n      case TYPE_VIBE:\n        if (!w) w = block.key\n        graph += 'V'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n        break\n      case TYPE_VIBE_RESP: {\n        graph += 'W'\n        const r = VIBE_REJECTED.equals(decodeBlock(block.body).box)\n        if (r) graph += 'r'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n      } break\n      case TYPE_MESSAGE: {\n        graph += 'M'\n        const p = PASS_TURN.equals(decodeBlock(block.body).content)\n        graph += p ? 'p' : 'm'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n      } break\n      case TYPE_BYE:\n        graph += 'B'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n        break\n      case TYPE_BYE_RESP:\n        graph += 'E'\n        if (w) graph += block.key.equals(w) ? 'a' : 'b'\n        break\n    }\n  }\n  return graph\n}\nmodule.exports = {\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK,\n  TYPE_PROFILE,\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  VIBE_REJECTED,\n  PASS_TURN,\n  PEACE,\n  LOVE,\n  UNDERSTANDING,\n  G_M,\n  G_F,\n  G_NB,\n  G_R,\n  GEO_BITS,\n  encodeBlock,\n  decodeBlock,\n  typeOfBlock,\n  fixJsonBuffers,\n  toBuffer,\n  boxPair,\n  seal,\n  unseal,\n  bufferReplacer,\n  feedToGraph\n}\n","const {\n  TYPE_PROFILE,\n  decodeBlock\n} = require('../util')\nconst TTL = 30 * 60 * 1000 // 30min\nconst emptyProfile = (pk = null) => ({\n  name: null,\n  picture: null,\n  pk,\n  tagline: null,\n  date: null,\n  sex: 2,\n  sig: null,\n  expiresAt: 0,\n  state: 'active'\n})\n\nfunction validateProfile (data) {\n  // Validate profile content\n  if (!data.picture) return 'Profile Picture missing'\n  if (Buffer.isBuffer(data.picture)) { // webp support\n    // TODO: validate webp headers && bitmap offsets?\n    if (data.picture.length > 15000) return 'Picture should be less than 15kB'\n  } else if (typeof data.picture !== 'string' || data.picture.length > 10) {\n    return 'Picture should be an emoji'\n  }\n\n  if (containsURL(data.tagline)) return 'URL in tagline not permitted'\n  if (containsURL(data.name)) return 'Links in name is not permitted'\n  if (data.name.match(/^\\s/)) return 'Name must contain only letters or numbers'\n  if (typeof data.age !== 'number') return 'Age must be a number'\n  if (data.age < 18) return 'Kids not allowed into bars'\n  if (!~[0, 1, 2].indexOf(data.sex)) return 'Sex should be 0: female, 1: male, 2: other'\n\n  return false // All good, accept block\n}\n\nfunction containsURL (s) {\n  if (typeof s !== 'string') return false\n  if (s.match('://')) return true\n  return false\n}\n\nmodule.exports = () => ({\n  name: 'peers',\n  initialValue: {}, // Initial state, empty hash\n\n  filter: ({ block, state }) => {\n    const data = decodeBlock(block.body)\n    if (data.type !== TYPE_PROFILE) return true // Ignore non-profile blocks.\n    return validateProfile(data)\n  },\n\n  // Reducer updates state with values from block\n  reducer: ({ block, state, schedule }) => {\n    const key = block.key.toString('hex')\n    state[key] = state[key] || emptyProfile(key) // Lazy initalize profile object\n    Object.assign(state[key], decodeBlock(block.body, 1)) // Set new values\n    state[key].pk = block.key // Store profile.pk as hexString\n    state[key].sig = block.sig // Store profile.pk as hexString\n    state[key].expiresAt = state[key].date + TTL\n    schedule('peer', block.key, state[key].expiresAt)\n    return state // return new state\n  }\n})\n\n// Experiment, attempt maintaining own profile as separate slice\n// registering it as the first controller should ensure that all other slices\n// will run after it, making it possible to use as a dependency through rootState...\nmodule.exports.ProfileCtrl = function ProfileCtrl (pubKeyGetter) {\n  let peerId = null\n  return {\n    name: 'peer',\n    initialValue: {\n      ...emptyProfile(),\n      exp: 0 // fck\n    },\n    filter ({ block }) {\n      peerId = peerId || pubKeyGetter()\n      if (!peerId) return 'Cannot process block without knowing own identity'\n      if (!block.key.equals(peerId)) return true // Ignore non self-authored blocks\n      const data = decodeBlock(block.body)\n      if (data.type !== TYPE_PROFILE) return true // Ignore non-profile blocks.\n      return validateProfile(data)\n    },\n    reducer ({ block, state }) {\n      const data = decodeBlock(block.body)\n      Object.assign(state, data)\n      state.pk = block.key\n      state.sig = block.sig // Store profile.pk as hexString\n      state.expiresAt = state.date + TTL\n      return state\n    }\n  }\n}\n","const {\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_PROFILE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  VIBE_REJECTED,\n  decodeBlock,\n  unseal\n} = require('../util')\nconst D = require('debug')('picochat:slices:vibes')\n\nconst TTL = 5 * 1000 * 60 // Defaults to 5 minutes\nconst RESP_TTL = 3 * 1000 * 60 // Defaults to 5 minutes\n\nclass VibeCtrl { // TODO: use same pattern as aother reducers instead of class\n  constructor (vibeTTL = TTL) {\n    this._sk = null\n    this._pk = null\n    this._reduceHasRun = false\n    this.ttl = vibeTTL\n    this.reducer = this.reducer.bind(this)\n  }\n\n  setKeys (peerId, { sk, pk }) {\n    if (this._sk) throw new Error('VibeBox secret has already been set')\n    if (this._reduceHasRun) throw new Error('Reducer has already run without box secret')\n    this._sk = sk\n    this._pk = pk\n    this._peerId = peerId\n  }\n\n  get name () { return 'vibes' }\n\n  get initialValue () {\n    return {\n      // Register to maintain flood rules/timers\n      seen: {},\n\n      // Register chatId\n      // ( ChatID is block.signature of first vibe )\n      // TODO: introducing this register creates incentive to mess with it.\n      // patch 3rd-party vibe-response by introducing a public hash(nonce) in init and reveal the nonce in reply\n      // this will most likely superseed the sent/received[] registers\n      matches: {},\n      own: []\n    }\n  }\n\n  filter ({ block, parentBlock, state }) {\n    const data = decodeBlock(block.body)\n    const { type } = data\n\n    // Silently ignore unrelated blocks\n    if (type !== TYPE_VIBE && type !== TYPE_VIBE_RESP) return true\n\n    const parentType = parentBlock && decodeBlock(parentBlock.body).type\n\n    // Assert vibes\n    if (type === TYPE_VIBE) {\n      // Ensure parent is either profile or own chat-head or tail?\n      if (\n        parentType !== TYPE_PROFILE &&\n        parentType !== TYPE_BYE_RESP // Continue where we left off\n      ) return `InvalidParent: ${parentType}`\n\n      const key = block.key.toString('hex')\n      // Reject block if vibe timestamp located in the future.\n      if (data.date > new Date().getTime()) return 'Vibe from the future'\n      const chatId = state.seen[key]\n      if (chatId) {\n        const m = state.matches[chatId.toString('hex')]\n        if (m.expiresAt >= Date.now()) return 'Only 1 active vibe allowed'\n      }\n    }\n\n    // Assert VibeResponses\n    if (type === TYPE_VIBE_RESP) {\n      // TODO: assert parent.nonce equals SHA(vibeRes.reveal)\n\n      // VibeResponses only allowed onto a Vibe\n      if (parentType !== TYPE_VIBE) return `InvalidParent: ${parentType}`\n      // TODO: return 'Expired' if match.expiresAt < now()\n    }\n    return false // All good, accept block\n  }\n\n  // Reducer updates state with values from block\n  reducer ({ block, state, parentBlock, root, schedule }) {\n    const vibe = decodeBlock(block.body, 1)\n    const { type } = vibe\n    const chatId = type === TYPE_VIBE ? block.sig : block.parentSig\n    const key = chatId.toString('hex')\n    const rejected = VIBE_REJECTED.equals(vibe.box)\n\n    if (type === TYPE_VIBE) {\n      D('%s reducing vibe: %o %h %h', root.peer.name, !!state.matches[key], block.key, block.sig)\n      if (state.matches[key]) throw new Error('InternalError: Vibe already registered')\n      // Set lookup reference\n      state.seen[block.key.toString('hex')] = chatId\n      const match = state.matches[key] = mkMatch()\n      match.chatId = chatId\n      match.a = block.key\n      match.updatedAt = vibe.date\n      match.createdAt = vibe.date\n      match.expiresAt = vibe.date + TTL\n      match.state = 'wait'\n    } else { // type === TYPE_VIBE_RESP\n      const match = state.matches[key]\n      if (!match) throw new Error('InternalError: MatchNotFound')\n      match.response = block.sig\n      match.b = block.key\n      match.updatedAt = vibe.date\n      match.expiresAt = match.createdAt + RESP_TTL\n      match.state = rejected ? 'rejected' : 'match'\n    }\n\n    const peerId = root.peer.pk\n    const match = state.matches[key]\n\n    // Push sent vibes to \"own\" registry\n    if (type === TYPE_VIBE && peerId.equals(block.key)) state.own.push(chatId)\n\n    let decrypted = null\n    if (!rejected && !peerId.equals(block.key) && this._sk) { // Attempt decryption\n      try {\n        decrypted = unseal(vibe.box, this._sk, this._pk)\n      } catch (error) {\n        if (error.message !== 'DecryptionFailedError') throw error\n      }\n    }\n\n    if (decrypted) {\n      // Push decryptable received vibes/responses to \"own\" registry\n      if (!state.own.find(c => c.equals(chatId))) state.own.push(chatId)\n      match.remoteBox = decrypted\n    }\n\n    this._reduceHasRun = true\n    schedule('chat', match.chatId, match.expiresAt)\n    return state // return new state\n  }\n\n  trap ({ code, payload, root, state }) {\n    switch (code) {\n      case EV_CHAT_END: {\n        const strkey = payload.toString('hex')\n        const chat = root.chats.chats[strkey]\n        delete state.seen[chat.a.toString('hex')] // Release vibe-block\n        // delete state.matches[strkey] // remove match to please single-vibe filter.\n        // Question; should state.own be cleared here??\n        // i know too little about what to do with completed chats.\n        // they should most likely be archived.\n        D('%s Peer Unseen %h => %h', root.peer.name, chat.a.toString('hex'), payload)\n      } break\n      default:\n        return // return undefined, (interrupt ignored/state-unchanged)\n    }\n    return state\n  }\n}\n\nconst mkMatch = () => ({\n  chatId: null, // tail blocksig\n  response: null, // head blocksig\n  updatedAt: 0, // Counter for garbage collection\n  // Participants/Peers\n  a: null,\n  b: null,\n  remoteBox: null\n})\n\nmodule.exports = VibeCtrl\n","const D = require('debug')('picochat:slice:chat')\nconst {\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  EV_CHAT_END,\n  PASS_TURN,\n  decodeBlock\n} = require('../util')\n\nfunction ConversationCtrl (opts = {}) {\n  const {\n    ttl: ChatTimeout,\n    blockReward: BlockReward,\n    health: InitialHealth,\n    regenerate: RegenerateAmount\n  } = {\n    ttl: 3 * 60 * 1000, // 3 minutes\n    blockReward: 60 * 1000, // Each successfull block adds 1 minute\n    health: 3, // <3 <3 <3\n    regenerate: 0.3,\n    ...opts\n  }\n\n  const now = () => new Date().getTime()\n  const mkChat = chatId => ({\n    id: chatId,\n    head: null,\n    messages: [],\n    expiresAt: 0,\n    updatedAt: 0,\n    state: 'active',\n    a: null, // Peer id\n    b: null, // Peer id\n    hp: InitialHealth, // Mana/ Conversation health\n    aEnd: -1,\n    bEnd: -1\n  })\n\n  const mkStats = peerId => ({\n    peerId,\n    lastSeen: 0,\n    nMessages: 0,\n    nExhausted: 0,\n    nPassed: 0,\n    nEnded: 0,\n    nStarted: 0,\n    blocks: 0,\n    blockSize: 0,\n    hpRegenerated: 0\n  })\n\n  return {\n    name: 'chats',\n\n    initialValue: {\n      chats: {},\n      heads: {},\n      own: [],\n      stats: {} // Indexed by peer\n    },\n\n    filter ({ block, parentBlock, state, root }) {\n      const data = decodeBlock(block.body)\n      const { type } = data\n      if (!~[TYPE_MESSAGE, TYPE_BYE, TYPE_BYE_RESP].indexOf(type)) return true\n      const parentType = parentBlock && decodeBlock(parentBlock.body).type\n      D('[%s] FilterOP: %s %h <-- %s %h', root.peer.name, parentType, parentBlock.sig, type, block.sig)\n      if (\n        // message onto message or vibe_resp\n        (type === TYPE_MESSAGE && parentType !== TYPE_MESSAGE && parentType !== TYPE_VIBE_RESP) ||\n        // bye onto message\n        (type === TYPE_BYE && parentType !== TYPE_MESSAGE) ||\n        // bye-response onto bye\n        (type === TYPE_BYE_RESP && parentType !== TYPE_BYE)\n      ) return `Invalid parent type: ${parentType}`\n\n      const from = block.key\n      if (from.equals(parentBlock.key)) return 'MonologueNotAllowed'\n\n      // Reject 3rdParty blocks\n      if (parentType === TYPE_VIBE_RESP) {\n        // need to Lookup in matches registry\n        const chatId = parentBlock.parentSig\n        const match = root.vibes.matches[chatId.toString('hex')]\n        if (!match) return true // Unknown conversation TODO: cache block for later (partially available chain)\n        if (match.state !== 'match') return 'MessagingNotAllowed'\n        if (![match.a, match.b].find(k => from.equals(k))) return 'NotYourConversation'\n        if (match.expiresAt < now()) return 'ConversationTimeout'\n      } else { // TYPE_MESSAGE || TYPE_BYE\n        const chatId = state.heads[block.parentSig.toString('hex')]\n        if (!chatId) return 'ConversationNotFound'\n        const chat = state.chats[chatId.toString('hex')]\n        const nextAuthor = chat.mLength % 2 ? chat.b : chat.a\n        if (!from.equals(nextAuthor)) return 'NotYourConversation'\n        if (chat.expiresAt < now()) return 'ConversationTimeout'\n        if (type !== TYPE_BYE_RESP && chat.state !== 'active') return 'ConversationEnded'\n        else if (type === TYPE_BYE_RESP && chat.state !== 'finalizing') return 'InvalidState'\n      }\n      return false // All good, accept block\n    },\n\n    reducer ({ block, parentBlock, root, state, schedule, signal }) {\n      const data = decodeBlock(block.body)\n      const { type } = data\n      const parentType = decodeBlock(parentBlock.body).type\n      const peerId = root.peer.pk\n      const from = block.key\n      let chatId = null\n\n      if (parentType === TYPE_VIBE_RESP) chatId = parentBlock.parentSig\n      else chatId = state.heads[block.parentSig.toString('hex')]\n\n      const indexKey = chatId.toString('hex')\n\n      // Initialize entry from vibes.matches register\n      if (parentType === TYPE_VIBE_RESP) {\n        const match = root.vibes.matches[indexKey]\n        const chat = mkChat(chatId)\n        chat.a = match.a\n        chat.b = match.b\n        chat.remoteBox = match.remoteBox\n        chat.createdAt = match.createdAt\n        chat.mLength = 0\n        state.chats[indexKey] = chat\n      }\n\n      const chat = state.chats[indexKey]\n\n      chat.updatedAt = data.date\n      chat.mLength++ // Always availble compared to messages array that's only indexed for own conversations\n      chat.expiresAt = chat.createdAt + ChatTimeout + (chat.mLength * BlockReward)\n\n      const authorId = block.key.toString('hex')\n      let stats = state.stats[authorId]\n      if (!stats) {\n        stats = state.stats[authorId] = mkStats(block.key)\n        stats.nStarted++\n        D('[%s] Initating new stats for %h', root.peer.name, block.key)\n      }\n      stats.lastSeen = Math.max(stats.lastSeen, data.date)\n      stats.nMessages++\n      stats.blocks++\n      stats.blockSize += block.body.length\n\n      if (TYPE_MESSAGE === type) {\n        const turnPassed = PASS_TURN.equals(data.content)\n        turnPassed && stats.nPassed++\n        if (turnPassed && --chat.hp < 1) {\n          chat.state = 'exhausted'\n          stats.nExhausted++\n        } else if (!turnPassed) {\n          // Regenerate\n          chat.hp = Math.min(RegenerateAmount + chat.hp, InitialHealth)\n          stats.hpRegenerated += RegenerateAmount\n        }\n\n        chat.own = !![chat.a, chat.b].find(k => peerId.equals(k))\n        if (chat.own) {\n          // Push messages\n          const isSent = peerId.equals(from)\n          chat.messages.push({\n            type: isSent ? 'sent' : 'received',\n            date: data.date,\n            content: !isSent ? data.content : null, // contents are encrypted, decrypt here?\n            pass: turnPassed,\n            sig: block.sig // when type is sent, use signature to lookup decrypted copy of contents.\n          })\n        }\n\n        // Insert into \"own\" register\n        if (chat.own && !state.own.find(b => b.equals(chatId))) state.own.push(chatId)\n      } else {\n        if (TYPE_BYE === type) chat.state = 'finalizing'\n        else chat.state = 'end' // Assume BYE_RESPONSE\n        // Set gesture\n        if (chat.a.equals(from)) chat.aEnd = data.gesture\n        else chat.bEnd = data.gesture\n        D('ENDING: ', root.peer.name, type, chat.state, chat.aEnd, chat.bEnd)\n      }\n\n      if (chat.state === 'end') {\n        const aStat = state.stats[chat.b.toString('hex')]\n        const bStat = state.stats[chat.a.toString('hex')]\n        aStat.nEnded++\n        bStat.nEnded++\n        signal(EV_CHAT_END, chatId)\n      }\n\n      D('[%s] Conversation(%h) state: %s mLength: %d, head: %h => %h', root.peer.name, chatId, chat.state, chat.mLength, block.parentSig, block.sig)\n      // Bump head of findChatIdBy(parentSig) index\n      delete state.heads[block.parentSig.toString('hex')]\n      state.heads[block.sig.toString('hex')] = chatId\n      chat.head = block.sig\n      schedule('chat', chat.id, chat.expiresAt)\n      return state\n    }\n  }\n}\n\n/*\n * Note about the \"pass-turn\" mechanizm:\n * The original idea is that silence is an important human response with an implicit value.\n * In this game I would like to use it as a mechanic to detect a goodbye.\n * At first I thought that 3 consecutive passes from one party means that they've run out of words.\n * But writing that code made me realize how boring this feature would be;\n * So here's a crazy idea, what if the turn-pass would be seen as a shared resource that eventually\n * replenishes with conversation progress. It's just as important to dare using the pass as it is saving it.\n * Especially if we attach some kind of punishment like box-secrets being revealed when passTurn is exhausted.\n * *evil-imp-grin*\n *\n * Usecases for pass-turn:\n * - Alice wants to talk to Bob but is too shy to speak first, she initiates the match but then hits pass to let Bob lead the conversation.\n * - Bob is rewarded with a pass for an impolite remark.\n * - Alice is having a monologue (talks to much/ self centered)\n *\n * If you haven't noticed already noticed robots never know when to shut up.\n */\n\nmodule.exports = ConversationCtrl\n","const D = require('debug')('picochat:mod:chat')\nconst {\n  TYPE_MESSAGE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  PASS_TURN,\n  PEACE, LOVE,\n  UNDERSTANDING,\n  feedToGraph,\n  seal,\n  unseal,\n  toBuffer\n} = require('../util')\n\nconst { combine, mute, init, gate } = require('../nuro')\n/* A reactive store whose value is conversation object\n * containing all then necesarry tidbits and bound actions\n * to progress the conversation\n */\nmodule.exports = function ChatModule () {\n  return {\n    $chats () {\n      // For now just return list of vibes with 'match' state\n      return mute(this.$vibes(), vibes =>\n        vibes.filter(v => v.state === 'match')\n      )\n    },\n\n    $chat (chatId) {\n      chatId = toBuffer(chatId)\n      let localPair = null\n\n      // Actions\n      const _send = async (message, pass = false) => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        if (!pass && typeof message !== 'string') throw new Error('Message should be a string')\n        if (!pass && !message.length) throw new Error('EmptyMessage')\n        const pk = await this._getRemoteChatKey(chatId) // Remote Public Key\n        const branch = await this.repo.loadFeed(cache.head)\n        const content = pass ? PASS_TURN : seal(Buffer.from(message), pk)\n        // console.log('Appending message to', feedToGraph(branch))\n        await this._createBlock(branch, TYPE_MESSAGE, { content })\n        // Branch \"hopefully\" contains new block, if not use return of createBlock() in future\n        if (!pass) await this._setMessageBody(branch.last.sig, Buffer.from(message))\n      }\n      const send = async message => _send(message)\n      const pass = async () => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        return _send(0, true)\n      }\n\n      const bye = async gesture => {\n        if (!cache.myTurn) throw new Error('NotYourTurn')\n        if (!~[PEACE, LOVE, UNDERSTANDING].indexOf(gesture)) throw new Error('InvalidGesture')\n        if (!~['active', 'finalizing'].indexOf(cache.state)) throw new Error('InvalidState')\n        const branch = await this.repo.loadFeed(cache.head)\n        if (!branch) return console.error('branch dissapeared, expected head sig:', cache.head?.toString('hex'))\n        // console.log('bye() invoked current chainState:')\n        // branch.inspect()\n        await this._createBlock(branch, cache.state === 'active' ? TYPE_BYE : TYPE_BYE_RESP,\n          {\n            gesture\n            // TBD\n          }\n        )\n      }\n      const chat = {\n        id: chatId,\n        state: 'loading',\n        initiator: false,\n        myTurn: null,\n        peerId: null,\n        peer: null,\n        mLength: 0,\n        messages: [],\n        updatedAt: 0,\n        createdAt: 0,\n        expiresAt: 0,\n        health: -1,\n        errorMessage: null,\n        head: null,\n        send,\n        pass,\n        bye\n      }\n      let cache = chat\n      const computeChat = async ([vibe, chats]) => {\n        const lChat = chats.chats[chatId.toString('hex')]\n\n        // All conversations must start with a vibe\n        if (!vibe || vibe.state === 'error') {\n          chat.state = 'error'\n          chat.errorMessage = 'ChatNotFound'\n          return chat // TODO return  ERR_CHAT_NOT_FOUND causes test-fail\n        }\n        // let vibe load before processing chat\n        if (vibe.state === 'loading') return chat\n\n        chat.head = vibe.head\n        if (vibe.state === 'match') chat.state = 'active'\n        else if (vibe.state === 'rejected') chat.state = 'inactive'\n        chat.createdAt = lChat ? lChat.createdAt : vibe.createdAt\n        chat.updatedAt = lChat ? lChat.updatedAt : vibe.updatedAt\n        chat.expiresAt = lChat ? lChat.expiresAt : vibe.expiresAt\n        chat.peerId = vibe.peerId\n        chat.peer = vibe.peer\n        chat.initiator = vibe.initiator\n        chat.myTurn = vibe.myTurn\n        chat.health = vibe.health\n\n        if (!lChat) return chat\n        chat.head = lChat.head\n\n        // Update headers\n        chat.state = lChat.state\n        if (chat.state === 'active' && chat.expiresAt < Date.now()) chat.state = 'expired'\n\n        chat.mLength = lChat.mLength\n\n        // Skip message decryption if no new messages available\n        if (chat.messages.length === lChat.messages.length) return chat\n        // Decrypt messages\n        try {\n          if (!localPair) localPair = await this._getLocalChatKey(chatId)\n          chat.messages = [...chat.messages] // copy message array\n          // loop through unread messages\n          for (let i = chat.messages.length; i < lChat.messages.length; i++) {\n            const msg = { ...lChat.messages[i] } // copy lowlevel message\n            if (!msg.pass) {\n              if (msg.type === 'received') {\n                msg.content = unseal(msg.content, localPair.sk, localPair.pk).toString()\n              } else {\n                msg.content = await this._getMessageBody(msg.sig)\n              }\n            } else msg.content = PASS_TURN.toString()\n            chat.messages[i] = msg\n          }\n        } catch (err) { console.error('Message decryption failed', err) }\n        cache = chat\n        return chat\n      }\n      return gate(\n        init(chat,\n          mute(\n            combine(\n              this._vibe(chatId),\n              s => this.store.on('chats', s)\n            ),\n            computeChat\n          )\n        )\n      )\n    },\n\n    async loadChat (chatId) {\n      chatId = toBuffer(chatId)\n      const str = chatId.toString('hex')\n      let head = null\n      const v = this.store.state.vibes.matches[str]\n      head = v?.response || v?.chatId\n      if (!v) D('vibe does not exist for chatId:', str)\n\n      const c = this.store.state.chats.chats[str]\n      if (!v && !c) D('conversation not found %h', chatId)\n      head = c?.head || head\n      if (!head) return\n      const search = await this._tracePath(head)\n      return search.feed\n    },\n\n    async _inspectChat (chatId, dump = false) {\n      const f = await this.loadChat(chatId)\n      console.log(feedToGraph(f))\n      if (dump) f.inspect()\n    }\n  }\n}\n","// SPDX-License-Identifier: AGPL-3.0-or-later\nconst D = require('debug')('pico-net')\nconst PLUG_SYMBOL = Symbol.for('pico:plug')\nconst REPLY_EXPECTED = 1\n// const END_OF_STREAM = 1  // plug.close()\n// const ERROR = 1 << 1 // plug.close(new Error('RemoteError'))\n// const BANNED = 1 << 2 // plug.close(new Error('BannedByRemote'))\n\nfunction picoWire (opts = {}) {\n  const MESSAGE_TIMEOUT = opts?.timeout || 30 * 1000\n  let id = opts?.id // named pipes?\n  let closed = false\n  let [aOpened, bOpened] = [false, false]\n  const a = mkPlug(true)\n  const b = mkPlug(false)\n  const [castA, setCastA, abortCastA] = unpromise()\n  const [castB, setCastB, abortCastB] = unpromise()\n  const broadcastsExported = [false, false]\n\n  const [$closed, setClosed] = unpromise()\n  const pending = new Set()\n  return [a, b]\n  function mkPlug (isA) {\n    const plug = {\n      // get name () { return `${id || '|'}_${isA ? 'a' : 'b'}` },\n      get name () { return `${id || '|'} ${isA ? '-->' : '<--'} ` },\n      get id () { return id },\n      set id (v) {\n        if (id) throw new Error('ID has already been set')\n        id = v\n      },\n      get onmessage () {\n        broadcastsExported[isA ? 0 : 1] = true\n        return isA ? castA : castB\n      },\n      get opened () {\n        if (closed) return Promise.reject(new Error('Disconnected'))\n        broadcastsExported[isA ? 1 : 0] = true\n        return (isA ? castB : castA).then(cast => !!cast)\n      },\n      get closed () {\n        return $closed\n      },\n      set onmessage (fn) { // broadcast handler\n        if (typeof fn !== 'function') throw new Error('expected onmessage to be a function')\n        if (isA ? aOpened : bOpened) throw new Error('Handler has already been set')\n        if (isA) {\n          setCastA(fn)\n          aOpened = true\n        } else {\n          setCastB(fn)\n          bOpened = true\n        }\n      },\n\n      async postMessage (msg, flags) {\n        if (closed) throw new Error('Disconnected')\n        if (!plug.isActive) throw new Error('Void')\n        broadcastsExported[isA ? 1 : 0] = true\n        const sink = await (isA ? castB : castA)\n        const resolve = scope => sink(scope)\n        return Recurser(isA, resolve, msg, flags)\n      },\n      get isActive () { return (isA ? bOpened : aOpened) && !closed },\n      get isClosed () { return closed },\n\n      open (handler) {\n        if (isPlug(handler)) return spliceWires(plug, handler)\n        plug.onmessage = handler\n        return plug.opened\n          .then(() => [plug.postMessage, plug])\n      },\n      close (err = null) { tearDown(isA, err) },\n      get other () { return isA ? b : a }\n    }\n    plug[PLUG_SYMBOL] = true // used by open/splice\n    return plug\n  }\n\n  /**\n   * Generates two lock-stepped promise chains until\n   * a reply is invoked without the expectResponse flags set\n   */\n  async function Recurser (isA, sink, msg, flags) {\n    if (closed) throw new Error('Disconnected') // console.warn('Message dropped, connection closed', msg)\n    if (typeof flags === 'function') throw new Error('Callback API has been deprecated')\n    const replyExpected = flags & REPLY_EXPECTED || flags\n    const tag = module.exports.V && `${(isA ? a : b).name} = ${msg.toString(Buffer.isBuffer(msg) && 'hex').slice(0, 14)}`\n    const [$scope, setScope, abortScope] = unpromiseTimeout(MESSAGE_TIMEOUT, tag)\n    setScope.abort = abortScope // tiny hack\n    if (replyExpected) pending.add(setScope)\n    pending.delete(sink)\n    const reply = !replyExpected ? null : Recurser.bind(null, !isA, setScope)\n    try { // Second async context that runs past this methods lifetime\n      sink([msg, reply, !isA ? a : b]) // transmit to other\n      if (!replyExpected) setScope([]) // Consider message delivered\n    } catch (err) { abortScope(err); console.warn('Trap A: ', err.message) }\n    return $scope // installTrap($scope, err => { console.warn('Trap B: ', err.message) })\n      .catch(err => { console.warn('Trap B: ', err.message); throw err })\n  }\n\n  /*\n  // Now some black magic\n  function installTrap (p, h, depth = 0) {\n    if (!p || typeof p.then !== 'function') return p\n    const t = p.then.bind(p)\n    p.then = (a) => {\n      console.info(depth, 'Installing trap after', a.toString())\n      const next = t(s => { console.log(depth, 'then Hijacked', s[0]); return a(s) })\n        .catch(err => { console.log(depth, 'catch Hijacked', err); h(err); throw err })\n      installTrap(next, h, ++depth)\n      return next\n    }\n    return p\n  }\n  */\n\n  function tearDown (isA, error = null) {\n    if (closed) return true\n    D('PipeClosed by: %s cause: %s pending: %d', isA ? 'A' : 'B', error?.message, pending.size)\n    closed = true // block further interaction\n    for (const set of Array.from(pending)) {\n      pending.delete(set)\n      set.abort(error || new Error('Disconnected'))\n    }\n    setClosed(error)\n    if (broadcastsExported[0]) abortCastA(error || new Error('Disconnected'))\n    if (broadcastsExported[1]) abortCastB(error || new Error('Disconnected'))\n    return $closed\n  }\n}\n\nfunction isPlug (o) { return !!(o && o[PLUG_SYMBOL]) }\n\nfunction spliceWires (a, b) {\n  if (!isPlug(a) || !isPlug(b)) throw new Error('Expected two pipe-ends')\n  // console.log(`Splicing ${plug.id} <--> ${other.id}`)\n  function stitch (sink, scope) {\n    if (!Array.isArray(scope)) throw new Error('DesignFlaw')\n    const [msg, reply] = scope\n    let next = sink(msg, !!reply)\n    if (reply) next = next.then(stitch.bind(null, reply))\n    return next\n      .catch(err => {\n        console.warn('Trap S: ', err.message)\n        // throw err // there's nothing to catch this error\n      })\n  }\n  a.onmessage = scope => stitch(b.postMessage, scope)\n  b.onmessage = scope => stitch(a.postMessage, scope)\n  a.closed.then(b.close).catch(b.close)\n  b.closed.then(a.close).catch(a.close)\n  return a.close\n}\n\nfunction _picoWire (onmessage, onopen, onclose) {\n  const [a, b] = picoWire()\n  a.closed\n    .then(onclose)\n    .catch(onclose)\n  a.opened\n    .then(onopen)\n    .catch(onopen)\n  a.onmessage = onmessage\n  return b\n}\n\nfunction unpromiseTimeout (t, debug = false) {\n  const [promise, set, abort] = unpromise(debug)\n  const id = setTimeout(abort.bind(null, new Error('Timeout')), t)\n  return [\n    promise,\n    (err, value) => {\n      clearTimeout(id)\n      set(err, value)\n    },\n    function _abort (err) {\n      clearTimeout(id)\n      abort(err || new Error('Aborted'))\n    }\n  ]\n}\n\n// Stay healthy, stay sane\nlet _unpctr = 0\nconst _active = []\nfunction unpromiseD (tag = '_') {\n  const id = _unpctr++\n  let stack = null\n  try { throw new Error() } catch (e) { stack = e.stack }\n  console.debug('[UNP]', id, tag, 'Promise Created\\n', module.exports.V > 1 && stack)\n\n  const [$p, set, abort] = unpromise()\n  _active[id] = abort\n  return [\n    $p.then(v => ((notify('resolved', v), v)))\n      .catch(e => { notify('rejected', undefined, e); throw e }),\n    v => { notify('set', v); set(v) },\n    e => { notify('abort', undefined, e); abort(e) }\n  ]\n  function notify (state, value, error) {\n    _active[id] = undefined\n    const active = _active.map((a, i) => a && i).filter(n => n)\n    if (state === 'set') {\n      let stack = null\n      try { throw new Error() } catch (e) { stack = e.stack }\n      module.exports.V > 1 && console.debug('[UNP]', id, tag, 'SET at: \\n', stack)\n      return\n    }\n    console.debug(\n      '[UNP]',\n      id,\n      tag,\n      state,\n      `P(${active.join(',')})`,\n      error\n        ? error.message\n        : Array.isArray(value)\n          ? `Arr[${value.length}]: ${value[0] || ''}`\n          : value\n    )\n  }\n}\nfunction unpromise (debug = false) {\n  if (debug) return unpromiseD(debug)\n  let set, abort\n  return [\n    new Promise((resolve, reject) => { set = resolve; abort = reject }),\n    set,\n    abort\n  ]\n}\n\n/**\n * So the repeater is a naive fictional network-hub that dumbly\n * repeats all message to all available nodes;\n * I might have just described a shared message-bus (a.k.a EventEmitter)\n *\n * Bridging two repeaters is surprisingly simple:\n * const a = new Repeater()\n * const b = new Repeater()\n * a.createWire()(b.broadcast)\n * b.createWire()(a.broadcast)\n * - or -\n * a.createWire().pipe(b.createWire())\n *\n *\n * Repeater is now PicoHub having 2 modes of operation.\n * if instantiated without onmessage handler it acts as a dumb\n * repeater, re-emitting a messages on all wires.\n * When onmessage handler is provided all incoming traffic will\n * be forwarded to the master handler.\n */\nclass PicoHub {\n  constructor (onmessage, onclose) {\n    this._nodes = new Set()\n    this._tap = null\n    if (typeof onmessage === 'function') this._tap = onmessage\n    if (typeof onclose === 'function') this._afterRemove = onclose\n  }\n\n  /**\n   * Repeater.createWire() spawns a new 'connect' function\n   * that can be used as such:\n   *\n   * const publish = connect(function onread (msg, reply, disconnect) {\n   *   if (msg === 'Hello') publish('Hey!!')\n   *   else if (msg === 'Bye') disconnect()\n   *   else if (msg === 'Hello tony!' && this.name === 'tony') reply('Bob, is that you?')\n   * })\n   */\n  createWire (externalOnOpen, opts = {}) {\n    const [hubEnd, looseEnd] = picoWire(opts)\n    hubEnd.onmessage = ([msg, reply]) => {\n      if (this._tap) {\n        this._tap(hubEnd, msg, reply)\n          .catch(err => console.error('_tap failed:', err))\n      } else {\n        return this.broadcast(msg, reply, hubEnd)\n          .catch(err => console.error('_broadcast failed:', err))\n      }\n    }\n    const antiLeakTimer = setTimeout(\n      () => hubEnd.close(new Error('NodeTimedout')),\n      30 * 1000\n    )\n    hubEnd.opened.then(open => {\n      if (!open) return console.warn('wire.opened resolved false?', open)\n      clearTimeout(antiLeakTimer)\n      this._nodes.add(hubEnd)\n      if (typeof externalOnOpen === 'function') externalOnOpen(hubEnd)\n    }).catch(err => this.disconnect(hubEnd, err))\n\n    hubEnd.closed.then(err => this.disconnect(hubEnd, err))\n    return looseEnd\n  }\n\n  disconnect (sink, err) {\n    if (!sink) return false\n    if (this._nodes.delete(sink)) {\n      if (typeof this._afterRemove === 'function') this._afterRemove(sink, err)\n      else if (err) console.warn('NodeDisconnected', err)\n      return true\n    }\n    // Attempt to delete by id equality\n    for (const sink of this._nodes) {\n      if (sink.id === sink && this._nodes.delete(sink)) {\n        if (typeof this._afterRemove === 'function') this._afterRemove(sink, err)\n        else if (err) console.warn('NodeDisconnected', err)\n        return true\n      }\n    }\n  }\n\n  get count () { return this._nodes.size }\n\n  /**\n   * A special broadcast that supports bi-directional channels\n   * */\n  async * survey (message, flags, filter) {\n    let abort = false\n    const pending = new Set()\n    // Broadcast message to all wires, push returned promise to pending\n    for (const sink of this._filterNodes(filter)) {\n      const p = sink.postMessage(message, flags)\n      pending.add(p)\n      p.catch(err => {\n        pending.delete(p)\n        console.warn('Survey node ignored:', err)\n      })\n    }\n    // race all promises and remove them from pending list as they resolve or timeout.\n    while (!abort && pending.size) {\n      const res = await Promise.race(\n        Array.from(pending)\n          .map(p => p.then(val => ({ val, p })))\n      )\n      if (!res) continue\n      pending.delete(res.p)\n      const abortSurvey = () => { abort = true }\n      yield [...res.val, abortSurvey]\n    }\n  }\n\n  /*\n   * A simplier interface for survey iterator\n   * that waits for all messages to be transmited\n   * before returning. Use survey directly if you want\n   * fast asynchroneous behaviour.\n   */\n  async broadcast (message, flags, filter) {\n    const iterator = this.survey(message, flags, filter)\n    const responses = []\n    let res = await iterator.next()\n    while (!res.done) {\n      responses.push(res.value)\n      res = await iterator.next()\n    }\n    return responses\n  }\n\n  _filterNodes (filter) {\n    if (!filter) return this._nodes\n    if (!Array.isArray(filter)) filter = [filter]\n    return Array.from(this._nodes).filter(sink =>\n      sink.isActive &&\n      !filter.find(t => isPlug(t) ? t === sink : t === sink.id)\n    )\n  }\n}\n\n/**\n * HyperWire: PicoWire <-> Stream adapter\n * Encodes callstack into vector clocks (inspired by TCP/IP sequence numbers)\n * Or maybe more like ports.\n * TODO: convert into binaryEncoderAdapter(plug) for compatibility with\n * any type of serial socket.\n */\nconst NETWORK_TIMEOUT = 30 * 1000\nfunction hyperWire (plug, hyperStream, key, extensionId = 125) {\n  if (!isPlug(plug)) throw new Error('Wire end expected')\n  const routingTable = new Map()\n  let seq = 1\n  const channel = hyperStream.open(key, {\n    onextension: onStreamReceive,\n    onclose: plug.close\n  })\n  const closeStream = () => {\n    channel.close()\n  }\n  // TODO: consider changing onmessage api to (scope: Array)\n  // to avoid unwrap/rewrap issues\n  plug.onmessage = scope => sendExt(0, scope)\n  plug.closed\n    .then(() => !channel.closed && closeStream())\n    .catch(err => hyperStream.delete(err))\n  return closeStream\n\n  function onStreamReceive (id, chunk) {\n    if (id !== extensionId) {\n      return console.warn('Message dropped! multiple extensions on this channel??', extensionId, id)\n    }\n    const dstPort = chunk.readUInt16BE(0)\n    const srcPort = chunk.readUInt16BE(2)\n    const flags = chunk[4]\n    const replyExpected = !!(flags & REPLY_EXPECTED)\n    if (routingTable.has(dstPort)) {\n      const { replyTo, timer } = routingTable.get(dstPort)\n      routingTable.delete(dstPort)\n      clearTimeout(timer)\n      replyTo(chunk.slice(5), flags)\n        .then(replyExpected && sendExt.bind(null, srcPort))\n        .catch(error => console.error('Hyperwire writeerror', error))\n    } else if (dstPort === 0) { // broadcast\n      plug.postMessage(chunk.slice(5), flags)\n        .then(replyExpected && sendExt.bind(null, srcPort))\n        .catch(error => console.error('Hyperwire writeerror', error))\n    } else {\n      console.warn('Hyperwire message dropped! unknown port', dstPort, srcPort)\n    }\n  }\n\n  function sendExt (dstPort, scope) {\n    const [message, replyTo] = scope\n    if (!Buffer.isBuffer(message)) throw new Error('Binary message expected')\n    let srcPort = 0\n    let flags = 0\n    if (typeof replyTo === 'function') {\n      srcPort = seq++\n      registerCallback(srcPort, replyTo)\n      flags = flags | REPLY_EXPECTED\n    }\n    const txBuffer = Buffer.alloc(message.length + 5)\n    txBuffer.writeUInt16BE(dstPort) // In reply to\n    txBuffer.writeUInt16BE(srcPort, 2) // this packet id\n    txBuffer[4] = flags\n    message.copy(txBuffer, 5)\n    channel.extension(extensionId, txBuffer)\n  }\n\n  function registerCallback (srcPort, replyTo) {\n    const timer = setTimeout(() => {\n      if (!routingTable.has(srcPort)) return\n      routingTable.delete(srcPort)\n      closeStream(new Error('ResponseTimeout'))\n    }, NETWORK_TIMEOUT)\n    routingTable.set(srcPort, { replyTo, timer })\n  }\n}\n\nconst MTU = 256 << 10 // 256kB\nfunction streamWire (plug, duplexStream) {\n  const routingTable = new Map()\n  let seq = 1\n  let txBuffer = Buffer.alloc(256)\n  const broadcast = plug(streamSend.bind(null, 0))\n  duplexStream.on('data', onStreamReceive)\n  duplexStream.once('close', onclose)\n  duplexStream.once('error', onclose)\n\n  const closeStream = err => err ? duplexStream.end() : duplexStream.destroy(err)\n  return closeStream\n\n  function onclose (err) {\n    duplexStream.off('data', onStreamReceive)\n    duplexStream.off('error', onclose)\n    duplexStream.off('close', onclose)\n    broadcast.close(err)\n  }\n\n  function onStreamReceive (chunk) {\n    const dstPort = chunk.readUInt16BE(0)\n    const srcPort = chunk.readUInt16BE(2)\n    // const size = chunk.readUInt16BE(4)\n    // TODO: streamWire does not support fragmentation ATM\n    // if (chunk.length < size) debugger\n\n    if (routingTable.has(dstPort)) {\n      const { replyTo, timer } = routingTable.get(dstPort)\n      routingTable.delete(dstPort)\n      clearTimeout(timer)\n      replyTo(chunk.slice(6), (msg, replyTo) => streamSend(srcPort, msg, replyTo))\n    } else if (dstPort === 0) { // broadcast\n      broadcast(chunk.slice(6), (msg, replyTo) => streamSend(srcPort, msg, replyTo))\n    } else {\n      console.warn('WARN: streamWire Message dropped', chunk[6])\n    }\n  }\n\n  function streamSend (dstPort, msg, replyTo) {\n    let srcPort = 0\n    if (typeof replyTo === 'function') {\n      srcPort = seq++\n      registerCallback(srcPort, replyTo)\n    }\n    const packetSize = msg.length + 6 // seq\n    if (packetSize > txBuffer.length) {\n      if (packetSize >= MTU) throw new Error('Message exceeds MTU')\n      txBuffer = Buffer.alloc(packetSize)\n    }\n    txBuffer.writeUInt16BE(dstPort) // In reply to\n    txBuffer.writeUInt16BE(srcPort, 2) // this packet id\n    txBuffer.writeUInt16BE(packetSize, 4) // Packet size\n    msg.copy(txBuffer, 6)\n    duplexStream.write(txBuffer.slice(0, packetSize))\n  }\n\n  function registerCallback (srcPort, replyTo) {\n    const timer = setTimeout(() => {\n      if (!routingTable.has(srcPort)) return\n      // get replyTo from table to allow GC clear up replyTo reference\n      routingTable.delete(srcPort)\n      closeStream(new Error('ResponseTimeout'))\n    }, NETWORK_TIMEOUT)\n    routingTable.set(srcPort, { replyTo, timer })\n  }\n}\n\nasync function * messageIterator (wire) {\n  const pBuffer = []\n  const rBuffer = []\n  let done = false\n  pBuffer.push(new Promise(resolve => rBuffer.push(resolve)))\n\n  const send = wire((message, reply) => {\n    pBuffer.push(new Promise(resolve => rBuffer.push(resolve)))\n    rBuffer.shift()([\n      message,\n      reply,\n      function stopGeneratorAndCloseWire () {\n        send.close()\n        done = true\n      }\n    ])\n  })\n  while (!done) yield await pBuffer.shift() // eslint-disable-line no-unmodified-loop-condition\n}\n\n// Recursivly binds JSON codec without plugging in\n// wire.\nfunction jsonTransformer (plug) {\n  return encodingTransformer(plug, {\n    encode: obj => Buffer.from(JSON.stringify(obj)),\n    decode: msg => JSON.parse(msg)\n  })\n}\n\n// Recursivly binds abstract encoding codec without plugging in\n// wire.\nfunction encodingTransformer (plug, encoder) {\n  const encode = (forward, obj, r, c) => forward(\n    encoder.encode(obj),\n    r && decode.bind(null, r, c)\n  )\n  const decode = (forward, msg, r, c) => forward(\n    encoder.decode(msg),\n    r && encode.bind(null, r, c)\n  )\n\n  return down => {\n    const up = plug(decode.bind(null, down))\n    return encode.bind(null, up)\n  }\n}\n\n// Practical starting point\nmodule.exports = PicoHub\nmodule.exports.V = 0 // verbosity level 'debug' lib is good but need conditional execution.\n// Main pipe/wire spawners\nmodule.exports.picoWire = picoWire\nmodule.exports.simpleWire = _picoWire\n\n// Adapters\nmodule.exports.streamWire = streamWire\nmodule.exports.hyperWire = hyperWire\nmodule.exports.spliceWires = spliceWires\n\n// Transformers\nmodule.exports.jsonTransformer = jsonTransformer\nmodule.exports.encodingTransformer = encodingTransformer\n\n// misc\nmodule.exports.messageIterator = messageIterator\nmodule.exports.unpromise = unpromise\n","/*\n * Contains minimal rpc, and it's message definitions.\n * actual logic resides in kernel.js\n */\nconst Hub = require('piconet')\nconst Feed = require('picofeed')\nconst D = require('debug')('pico-rpc')\nconst { bufferReplacer } = require('./util')\n// Messages over kernel-wire\nconst K_BLOCKS = 1 // Synonymous with K_REQUEST_MERGE / publish\n// const K_BLOCKS_ACK = 6 // blocking feed transfer/stream, expecting K_OK as response.\nconst K_REQUEST_BLOCK = 2\nconst K_REQUEST_HEAD = 4\nconst K_REQUEST_TAIL = 5\nconst K_NODE_ID = 40\n// Responses\nconst K_OK = 80\nconst K_ERR = 81\nconst K_SIG = 82\nconst K_EMPTY = 84\n\n// Experimental\nconst K_JSON = 201\nconst K_ERR_MSG = 202\nconst K_QUERY = 203\n\nfunction kTypeToString (type) {\n  switch (type) {\n    case K_BLOCKS: return 'K_BLOCKS'\n    // case K_BLOCKS_ACK: return 'K_BLOCKS_ACK'\n    case K_REQUEST_BLOCK: return 'K_REQUEST_BLOCK'\n    case K_REQUEST_HEAD: return 'K_REQUEST_HEAD'\n    case K_REQUEST_TAIL: return 'K_REQUEST_TAIL'\n    case K_OK: return 'K_OK'\n    case K_ERR: return 'K_ERR'\n    case K_SIG: return 'K_SIG'\n    case K_JSON: return 'K_JSON'\n    case K_ERR_MSG: return 'K_ERR_MSG'\n    case K_QUERY: return 'K_QUERY'\n    case K_NODE_ID: return 'K_NODE_ID'\n    default: return `UNKNOWN_TYPE:${type}`\n  }\n}\n\nclass RPC {\n  constructor (nodeId, handlers) {\n    this._controller = this._controller.bind(this)\n    this.hub = new Hub(this._controller, this._ondisconnect.bind(this))\n    this.handlers = handlers\n    this.nodeIds = {}\n    this.nodeId = nodeId\n  }\n\n  _ondisconnect (node, err) {\n    if (err && err.message !== 'DuplicatePeer') console.warn('NodeDisconnected', node.id, err)\n    D('NodeDisconnected', node.id, err?.message)\n    if (this.handlers.ondisconnect) this.handlers.ondisconnect(node, err)\n    if (!node.id) return\n    this.nodeIds[node.id] = 0\n  }\n\n  // TO BE DEFINED\n  async query (node, params = {}) {\n    const send = node.postMessage\n    D('Sent K_QUERY', params)\n    const [msg, reply] = await send(encodeMsg(K_QUERY, params), true)\n    this._controller(node, msg, reply) // redirect to controller\n  }\n\n  async shareBlocks (feeds, filter) {\n    if (Feed.isFeed(feeds)) feeds = [feeds]\n    feeds = [...feeds]\n    const first = feeds.shift()\n    const iterator = this.hub.survey(encodeMsg(K_BLOCKS, first), !!feeds.length, filter)\n    for await (const [msg, sink] of iterator) {\n      D('Sent K_BLOCKS', first.length)\n      if (!feeds.length) continue // one feed sent, that's it.\n      if (typeOfMsg(msg) !== K_OK) { // TODO: could be replaced with an piconet ACK flag\n        D('Remote rejected additional blocks with code', kTypeToString[typeOfMsg(msg)])\n        continue\n      }\n      if (!sink) continue\n      this._uploadFeeds(sink, feeds)\n        .catch(err => console.error('Failed sending subsequent feeds', err))\n    }\n  }\n\n  _uploadFeeds (sink, feeds) {\n    if (!feeds || !feeds.length) {\n      return sink(encodeMsg(K_EMPTY))\n    }\n\n    const remaining = [...feeds]\n    const current = remaining.shift()\n    return sink(encodeMsg(K_BLOCKS, current), !!remaining.length)\n      .then(([msg, next]) => {\n        D('Sent K_BLOCKS', current.length)\n        if (!remaining.length) return // that's it.\n        if (!msg) return console.warn('Empty scope')\n        if (typeOfMsg(msg) !== K_OK) return console.warn('Peer rejected consequtive blocks', typeOfMsg(msg))\n        return this._uploadFeeds(next, remaining)\n      })\n  }\n\n  async * _downloadFeeds (msg, sink) {\n    let done = false\n    while (!done) {\n      done = true\n      const { type, data } = decodeMsg(msg)\n      if (type === K_BLOCKS) yield data\n      else if (sink) {\n        await sink(encodeMsg(K_ERR), false)\n        continue\n      }\n      if (!sink) continue\n      const scope = await sink(encodeMsg(K_OK), true)\n      msg = scope[0]\n      sink = scope[1]\n      done = false\n    }\n  }\n\n  createWire () {\n    const plug = this.hub.createWire(hubEnd => {\n      /* This is handled by picohub\n        hubEnd.closed\n          .then(this._ondisconnect.bind(this, hubEnd))\n          .catch(this._ondisconnect.bind(this, hubEnd))\n      */\n      hubEnd.postMessage(encodeMsg(K_NODE_ID, this.nodeId))\n        .catch(err => console.error('Failed sending nodeId', err))\n    })\n    return plug\n  }\n\n  async _controller (node, msg, replyTo) {\n    try {\n      const { type, data } = decodeMsg(msg)\n      D(`Received ${kTypeToString(type)}`, msg.length > 1 ? msg.slice(1, Math.min(msg.length, 12)).toString() : '[NO DATA]')\n      switch (type) {\n        case K_NODE_ID:\n          node.id = data\n          if (this.nodeIds[data]) {\n            this.nodeIds[data]++ // attempt counter\n            return node.close(new Error('DuplicatePeer')) // dedupe peers\n          }\n          this.nodeIds[data] = 1\n          D('NodeConnected %s', node.id)\n          if (this.handlers.onhandshake) this.handlers.onhandshake(node)\n          break\n\n        case K_QUERY: {\n          const feeds = await this.handlers.onquery(data)\n          await this._uploadFeeds(replyTo, feeds)\n        } break\n\n        case K_BLOCKS: // Download feeds\n          for await (const blocks of this._downloadFeeds(msg, replyTo)) {\n            const forward = await this.handlers.onblocks(blocks)\n            D('Forwarding %d blocks ', forward)\n            if (forward) {\n              this.shareBlocks(blocks, node) // Gossip\n                .catch(err => console.error('Gossip failed', err))\n            }\n          }\n          break\n\n        case K_EMPTY:\n          // NOOP\n          break\n\n        default:\n          debugger\n          throw new Error(`UnknownMessageType: ${type} - ${kTypeToString(type)}`)\n      }\n    } catch (err) {\n      console.error('RPC:internal error', err)\n    }\n  }\n}\n\nfunction encodeMsg (type, obj) {\n  let buffer = null\n  switch (type) {\n    // case K_BLOCKS_ACK:\n    case K_BLOCKS:\n      // TODO: Extend picofeed with official binary pickle support.\n      if (!obj) throw new Error('Feed expected')\n      obj = Feed.from(obj)\n      buffer = Buffer.alloc(obj.tail + 1)\n      obj.buf.copy(buffer, 1, 0, obj.tail)\n      break\n\n    // Serialize 64byte signatures\n    case K_SIG:\n    case K_REQUEST_BLOCK:\n      buffer = Buffer.alloc(Feed.SIGNATURE_SIZE + 1)\n      obj.copy(buffer, 1)\n      break\n\n    // Serialize 32byte keys\n    case K_REQUEST_HEAD:\n    case K_REQUEST_TAIL:\n      buffer = Buffer.alloc(32 + 1) // TODO: export Feed.KEY_SIZE\n      obj.copy(buffer, 1)\n      break\n\n    // Serialize signals\n    case K_ERR:\n    case K_EMPTY:\n    case K_OK:\n      buffer = Buffer.alloc(1)\n      break\n\n    // Serialize json messages\n    case K_QUERY:\n    case K_JSON: {\n      const data = Buffer.from(JSON.stringify(obj))\n      buffer = Buffer.alloc(data.length + 1)\n      data.copy(buffer, 1)\n    } break\n\n    case K_NODE_ID:\n      buffer = Buffer.alloc(8 + 1)\n      obj.copy(buffer, 1)\n      break\n\n    default:\n      throw new Error('UnknownMessageType: ' + type)\n  }\n  buffer[0] = type\n  return buffer\n}\nfunction typeOfMsg (buffer) {\n  if (!Buffer.isBuffer(buffer)) throw new Error('BufferExpected')\n  return buffer[0]\n}\nfunction decodeMsg (buffer) {\n  if (!Buffer.isBuffer(buffer)) throw new Error('BufferExpected')\n  const type = typeOfMsg(buffer)\n  let data = null\n  switch (type) {\n    // case K_BLOCKS_ACK:\n    case K_BLOCKS:\n      // TODO: Feed.from(buffer) in picofeed\n      data = new Feed()\n      data.buf = buffer.slice(1)\n      data.tail = buffer.length - 1\n      break\n\n    // deserialize 64byte signatures\n    case K_SIG:\n    case K_REQUEST_BLOCK:\n      data = buffer.slice(1) // TODO: limit 64\n      break\n\n    // deserialize 32byte keys\n    case K_REQUEST_HEAD:\n    case K_REQUEST_TAIL:\n      data = buffer.slice(1) // TODO: limit 32\n      break\n\n    // deserialize signals\n    case K_OK:\n    case K_ERR:\n    case K_EMPTY:\n      break\n\n    // deserialize json messages\n    case K_QUERY:\n    case K_JSON:\n      data = JSON.parse(buffer.slice(1), bufferReplacer)\n      break\n\n    case K_NODE_ID:\n      data = buffer.slice(1).toString('hex') // TODO: limit 8\n      break\n\n    default:\n      debugger\n      throw new Error('UnknownMessageType: ' + type)\n  }\n  return { type, data }\n}\n\nmodule.exports = {\n  RPC,\n  decodeKRPCMessage: decodeMsg,\n  encodeKRPCMessage: encodeMsg,\n  kTypeToString,\n  K_BLOCKS,\n  K_REQUEST_BLOCK,\n  K_REQUEST_HEAD,\n  K_REQUEST_TAIL,\n  K_OK,\n  K_ERR,\n  K_EMPTY,\n  K_SIG,\n  K_JSON,\n  K_ERR_MSG\n}\n","const D = require('debug')('picochat:mod:net')\nconst { RPC } = require('../rpc')\nconst { writable } = require('../nuro')\n// const { randomBytes } = require('crypto')\nconst randomBytes = n => Buffer.from(\n  Array.from(new Array(n))\n    // Not very random, used to generate a node-id\n    .map(_ => Math.floor(Math.random() * 256))\n)\nmodule.exports = function NetworkModule (k) {\n  const ctx = {\n    // Workaround for WebRTC missing peer-dedupelicaiton.\n    nodeId: randomBytes(8),\n    store: k.store,\n    spawnWire: null,\n    rpc: null,\n    name: null\n  }\n  // k._net = ctx // Expose current connection context for test/debugging\n  const [connections, _setConnections] = writable([])\n  const setConnections = c => {\n    // console.info('Active Connections', c.length)\n    _setConnections(c)\n  }\n  return {\n    $connections () { return connections },\n    async enter (name) {\n      if (ctx.spawnWire) return ctx.spawnWire\n      D('Net connecting to swarm %s as nodeId: %H', name, ctx.nodeId)\n      ctx.name = name\n      // TODO: Make disposable scoped store\n      // this.pub.store = new Store(makeDatabase(name))\n      // await this.pub.store.load()\n      const store = ctx.store\n      const repo = store.repo\n      let opN = 0\n      const rpc = new RPC(ctx.nodeId, {\n        onblocks: async feed => {\n          try {\n            opN++\n            D('%d %s received blocks %d %h', opN, this.store.state.peer.name, feed.length, feed.last.sig)\n            D(feed.inspect(true))\n            const mut = await store.dispatch(feed, false)\n            D(opN, this.store.state.peer.name, 'Stores mutated', mut)\n            return mut.length\n          } catch (err) {\n            console.warn('Remote block ignored', err)\n          }\n          return 0\n        },\n        // Lookups and read hit the permanent store first and then secondaries\n        queryHead: async key => await repo.headOf(key),\n        queryTail: async key => await repo.tailOf(key),\n        onquery: async params => {\n          const keys = Object.values(store.state.peers)\n          // experimental\n          // .filter(peer => peer.date > new Date().getTime() - 1000 * 60 * 60) // Only peers active last hour\n            .filter(peer => peer.state !== 'expired')\n            .sort((a, b) => a.date - b.date) // Newest first or something\n            .map(peer => peer.pk)\n          const feeds = []\n          for (const key of keys) {\n            const f = await repo.loadHead(key)\n            // Tradeoff performance to reduce traffic\n            if (f && !feeds.find(a => a.merge(f))) feeds.push(f)\n          }\n          const nBlocks = feeds.reduce((s, f) => f.length + s, 0)\n          const nBytes = feeds.reduce((s, f) => f.tail + s, 0)\n          D(\n            '%s onquery: replying with %d-feeds containing %d-blocks, total: %dBytes',\n            this.store.state.peer.name,\n            feeds.length,\n            nBlocks,\n            nBytes\n          )\n          return feeds\n        },\n        onhandshake (node) {\n          setConnections(Array.from(rpc.hub._nodes))\n          D('PeerConnected', node.id)\n          rpc.query(node, {})\n            .catch(err => console.warn('Query Failed', err))\n        },\n        ondisconnect () {\n          setConnections(Array.from(rpc.hub._nodes))\n        }\n      })\n      ctx.rpc = rpc\n\n      this._badCreateBlockHook = block => {\n        D(this.store.state.peer.name, 'Created block, publishing')\n        D(block.inspect(true))\n        rpc.shareBlocks(block)\n          .catch(err => console.log('shareBlocks failed:', err))\n      }\n\n      ctx.spawnWire = (details = {}) => {\n        // if (blocklist.contains(details.prop)) return\n        // if (details.client)\n        const plug = rpc.createWire()\n        D('Wire spawned', details)\n        return plug\n      }\n      return ctx.spawnWire\n    }\n  }\n}\n","const { SIGNATURE_SIZE } = require('picofeed')\nconst { toBuffer } = require('../util')\n\nmodule.exports = function BufferedRegistry () {\n  const timeout = 5000\n  const pending = {}\n  return {\n    // - Buffered versions of write and read registry\n    async _writeReg (key, value) {\n      await this.repo.writeReg(key, value)\n      if (!pending[key.toString()]) return\n      const { set, timerId } = pending[key.toString()]\n      delete pending[key.toString()]\n      clearTimeout(timerId)\n      set(value)\n    },\n\n    async _readReg (key) {\n      const value = await this.repo.readReg(key)\n      if (value) return value\n      if (pending[key.toString()]) return pending[key.toString()].promise\n      let set = null\n      let timerId = null\n      const promise = new Promise((resolve, reject) => {\n        set = resolve\n        timerId = setTimeout(() => {\n          delete pending[key.toString()]\n          reject(new Error('BufferedReadTimedOut'))\n        }, timeout)\n      })\n      if (!set) throw new Error('ConcurrencyError')\n      pending[key.toString()] = { promise, set, timerId }\n      return promise\n    },\n\n    // -- Conversation encryption-key management\n    async _storeLocalChatKey (chatId, msgBox) {\n      const CONVERSATION_PREFIX = 67 // Ascii 'C'\n      // const CONVERSATION_PREFIX = 99 // Ascii 'c'\n      const vLength = msgBox.sk.length + msgBox.pk.length\n      if (vLength !== 64) throw new Error(`Expected box keypair to be 32bytes each, did algorithm change?: ${vLength}`)\n      chatId = toBuffer(chatId)\n      if (chatId.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n\n      const value = Buffer.allocUnsafe(msgBox.sk.length + msgBox.pk.length)\n      msgBox.sk.copy(value)\n      msgBox.pk.copy(value, msgBox.sk.length)\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      return await this._writeReg(key, value)\n    },\n\n    async _getLocalChatKey (chatId) {\n      const CONVERSATION_PREFIX = 67 // Ascii 'C'\n      if (typeof chatId === 'string') chatId = Buffer.from(chatId, 'hex') // Attempt normalize to buffer\n      chatId = toBuffer(chatId)\n      if (chatId.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      const value = await this._readReg(key)\n      if (!value) throw new Error('BoxPairNotFound')\n      const box = {\n        pk: value.slice(32),\n        sk: value.slice(0, 32)\n      }\n      return box\n    },\n\n    async _getRemoteChatKey (chatId) {\n      const key = chatId.toString('hex')\n      const vibe = this.store.state.vibes.matches[key]\n      if (!vibe) throw new Error('ConversationNotFound')\n      if (!vibe.remoteBox) throw new Error('BoxPublicKeyNotAvailable')\n      return vibe.remoteBox\n    },\n\n    // -- Encrypted messages can only be decrypted by receiver\n    // hence we need to store a copy of each message locally (might add some local encryption to it later)\n    async _setMessageBody (sig, message) {\n      const CONVERSATION_PREFIX = 77 // Ascii 'M'\n      sig = toBuffer(sig)\n      if (!Buffer.isBuffer(sig) || sig.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      sig.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      return await this._writeReg(key, toBuffer(message))\n    },\n\n    async _getMessageBody (sig) {\n      const CONVERSATION_PREFIX = 77 // Ascii 'M'\n      sig = toBuffer(sig)\n      if (!Buffer.isBuffer(sig) || sig.length !== SIGNATURE_SIZE) throw new Error('Expected chatId to be a block signature')\n      const key = Buffer.allocUnsafe(SIGNATURE_SIZE + 1)\n      sig.copy(key, 1)\n      key[0] = CONVERSATION_PREFIX\n      const msg = await this._readReg(key)\n      if (!msg) throw new Error('MessageNotFound')\n      return msg.toString()\n    }\n  }\n}\n","const D = require('debug')('picochat:mod:gc')\nconst REG_TIMER = 116 // 't'\n\nmodule.exports = function GarbageCollectModule (store) {\n  const repo = store.repo\n  let timerId = null\n  function schedule (type, id, date) {\n    const key = mkKey(date)\n    // console.info('Scheduing removal', type, new Date(date))\n    repo._db.put(key, packValue(type, id))\n      .catch(error => console.error('Failed queing GC: ', error))\n  }\n\n  // Guerilla-patch store reducers to include the gc function.\n  for (const slice of store._stores) {\n    slice._originalReducer = slice.reducer\n    slice.reducer = ctx => slice._originalReducer({\n      ...ctx,\n      schedule\n    })\n  }\n\n  return {\n    async _collectGarbage (now) {\n      D('Locking store')\n      const unlock = await store._waitLock()\n      try {\n        const res = await collectGarbage.bind(this)(now)\n        unlock()\n        return res\n      } catch (err) {\n        unlock()\n        throw err\n      }\n    },\n\n    startGC (inteval = 3 * 1000) {\n      if (!this.ready || timerId) return\n      timerId = setInterval(this._collectGarbage.bind(this), inteval)\n    },\n\n    stopGC () {\n      if (!timerId) return\n      clearInterval(timerId)\n      timerId = null\n    }\n  }\n\n  async function collectGarbage (now = Date.now()) {\n    D('Starting collecting garbage...')\n    const pending = await tickQuery(repo._db, now)\n    D('Fetched pending from store:', pending.length)\n    let mutated = new Set()\n    const segments = []\n    for (const p of pending) {\n      const { type, id } = unpackValue(p.value)\n      if (!type) throw new Error('GC OP missing')\n      await sweep({ // TOO PHAT CONTEXT\n        now,\n        id,\n        gcType: type,\n        rootState: store.state,\n        didMutate: n => mutated.add(n),\n        drop: head => segments.push([head, type === 'chat' ? id : null])\n      })\n    }\n    const evicted = []\n    for (const [ptr, segmentId] of segments) {\n      // const owner = await this.repo._traceOwnerOf(ptr) // repo.ownerOf(ptr)\n      try {\n        const s = await this._tracePath(ptr)\n        if (segmentId) { // Delete a chat/vibe off a user-profile\n          if (!segmentId.equals(s.chatId)) throw new Error('InternalError: Attempted to evict wrong segment')\n          const d = await this.repo.rollback(s.keys[0], s.heads[0])\n          evicted.push(d)\n        } else { // Clear out stale profiles\n          evicted.push(await this.repo.rollback(s.keys[0]))\n        }\n      } catch (err) {\n        console.warn('Rollback failed, already gone?', err)\n      }\n    }\n    // notify all affected stores\n    mutated = Array.from(mutated)\n    store._notifyObservers(mutated)\n    D('Stores mutated', mutated, 'segments evicted', evicted.length)\n    /// D(evicted.map(f => f.inspect(true)))\n    return { mutated, evicted }\n  }\n\n  // TODO: if this hack works, move the time-based GarbageCollector functionality to PicoStore\n  // and allow store.register() to include a sweep function, `expiresAt` prop becomes a first citizen.\n  function sweep ({ now, rootState, drop, gcType, id, didMutate }) {\n    if (gcType === 'chat') {\n      const match = rootState.vibes.matches[id.toString('hex')]\n      const chat = rootState.chats.chats[id.toString('hex')]\n      const head = chat?.head || match?.response || match?.chatId\n      let del = false\n      if (!head) return // nothing to do\n      const expiresAt = (chat?.expiresAt || match?.expiresAt || 0)\n      const hasExpired = expiresAt < now\n      D('Chat[%h] expired: %s, timeLeft: %d', id, hasExpired, expiresAt - now)\n      if (!hasExpired) return // not yet\n\n      // Clear chat registry\n      if (chat) {\n        const { chats, heads, own } = rootState.chats\n        delete chats[id.toString('hex')]\n        delete heads[head.toString('hex')]\n        const idx = own.findIndex(b => b.equals(id))\n        if (~idx) own.splice(idx, 1)\n        didMutate('chats')\n        del = true\n      }\n\n      // Clear vibes registry\n      if (match) {\n        // Restore state\n        const { seen, matches, own } = rootState.vibes\n        if (match.a && seen[match.a.toString('hex')]?.equals(id)) delete seen[match.a.toString('hex')]\n        if (match.b && seen[match.b.toString('hex')]?.equals(id)) delete seen[match.b.toString('hex')] // redundant?\n        delete matches[id.toString('hex')]\n        const idx = own.findIndex(b => b.equals(id))\n        if (~idx) own.splice(idx, 1)\n        didMutate('vibes')\n        del = true\n      }\n      if (del) drop(head, id) // id: chatId, head: lastBlock on chat\n    } else if (gcType === 'peer') {\n      const { peers } = rootState\n      const isSelf = rootState.peer.pk.equals(id)\n      if (isSelf && rootState.peer.expiresAt < now) {\n        rootState.peer.state = 'expired' // Not sure if should delete.\n        didMutate('peer')\n      }\n      const peer = peers[id.toString('hex')]\n      if (peer && peer.expiresAt < now) {\n        peer.state = 'expired'\n        didMutate('peers')\n        if (!isSelf) {\n          delete peers[id.toString('hex')]\n          drop(peer.sig)\n        }\n      }\n    } else throw new Error(`Garbage collection for \"${gcType}\" not supported!`)\n  }\n}\n\n// TODO; Accuracy of browser might overwrite previous index,\n// add couple bytes of signature to end and maybe slice name\nfunction mkKey (date) {\n  const b = Buffer.alloc(9)\n  b.writeBigUInt64BE(BigInt(date), 1)\n  b[0] = REG_TIMER\n  return b\n}\n\nfunction packValue (sliceName, id) {\n  sliceName = Buffer.from(sliceName)\n  const sz = id.length\n  const b = Buffer.alloc(1 + sz + sliceName.length)\n  id.copy(b, 1)\n  sliceName.copy(b, sz + 1)\n  b[0] = sz\n  return b\n}\n\nfunction unpackValue (b) {\n  const len = b[0]\n  return {\n    type: b.slice(len + 1).toString(),\n    id: b.slice(1, len + 1)\n  }\n}\n\nasync function tickQuery (db, now) {\n  const query = {\n    gt: mkKey(0),\n    lt: mkKey(now)\n  }\n\n  const iter = db.iterator(query)\n  const result = []\n  while (true) {\n    try {\n      const [key, value] = await new Promise((resolve, reject) => {\n        iter.next((err, key, value) => {\n          if (err) reject(err)\n          else resolve([key, value])\n        })\n      })\n      if (!key) break\n      result.push({ key, value })\n    } catch (err) {\n      console.warn('Iterator died with an error', err)\n      break\n    }\n  }\n  await new Promise((resolve, reject) => {\n    iter.end(err => err ? reject(err) : resolve())\n  })\n  return result\n}\n","const D = require('debug')('picochat:mod:peers')\nconst Feed = require('picofeed')\nconst {\n  toBuffer,\n  boxPair,\n  TYPE_PROFILE,\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK\n} = require('../util')\nconst { mute, combine, init, gate, when } = require('../nuro')\n\nconst ERR_PEER_NOT_FOUND = Object.freeze({ state: 'error', errorMessage: 'PeerNotFound' })\nconst PEER_PLACEHOLDER = Object.freeze({ state: 'loading' })\n\nmodule.exports = function PeersModule () {\n  let setHasProfile = null\n  const hasProfile = new Promise(resolve => { setHasProfile = resolve })\n  return {\n    __setHasProfile: setHasProfile, // Used by kernel.load()\n    hasProfile,\n    /**\n     * Publishes a profile block.\n     */\n    async register (profile, sk) {\n      sk = sk || Feed.signPair().sk\n      // Signing identity\n      this._sk = sk\n\n      // A box for love-letters\n      const box = boxPair()\n      this._vibeBox = box\n      this._vibeController.setKeys(this.pk, this._vibeBox)\n\n      await this.updateProfile(profile)\n      await this.repo.writeReg(KEY_SK, sk)\n      await this.repo.writeReg(KEY_BOX_LIKES_PK, box.pk)\n      await this.repo.writeReg(KEY_BOX_LIKES_SK, box.sk)\n      setHasProfile(true)\n    },\n\n    async profileOf (key) {\n      /*\n    const tail = await this.repo.tailOf(key)\n    const block = await this.repo.readBlock(tail)\n    if (!block) throw new Error('Profile not found, error due to profileOf is WIP; Need multihead resolve + network query')\n    if (!key.equals(block.key)) throw new Error('Wrong profile encountered')\n    const profile = decodeBlock(block.body)\n    if (profile.type !== TYPE_PROFILE) throw new Error('Tail is not a profile: ' + profile.type)\n    */\n      key = toPublicKey(key)\n      const profile = this.store.state.peers[key.toString('hex')]\n      if (!profile) {\n        D('Peer does not exist in registry %h', key)\n        // throw new Error('ProfileNotFound')\n        return ERR_PEER_NOT_FOUND\n      }\n      return profile\n    },\n\n    /**\n     * Creates a new profile-block\n     */\n    async updateProfile (profile) {\n      return await this._createBlock(TYPE_PROFILE, {\n        ...profile,\n        box: this._vibeBox.pk\n      })\n    },\n\n    /**\n     * Peer by id\n     * same as _peer but introduces gate and default placeholder\n     */\n    $peer (id) {\n      return gate(init(PEER_PLACEHOLDER, this._peer(id)))\n    },\n\n    _peer (id) { // raw neuron\n      try {\n        id = toPublicKey(id)\n      } catch (err) {\n        return init({\n          ...ERR_PEER_NOT_FOUND,\n          errorMessage: err.message\n        })\n      }\n\n      if (this.pk.equals(id)) return this.$profile()\n\n      const $peer = mute(\n        s => this.store.on('peers', s),\n        peers => peers[id.toString('hex')] || ERR_PEER_NOT_FOUND\n      )\n      const _chats = s => this.store.on('chats', s)\n      return mute(\n        combine($peer, _chats),\n        computeProfile\n      )\n    },\n\n    /**\n     * List of known and active peers\n     */\n    $peers () {\n      // TODO: make LRU-backed $profiles singleton-neuron\n      const $peers = mute( // filter own profile.\n        this.store.on.bind(this.store, 'peers'),\n        peerMap => this.pk\n          ? Object.values(peerMap).filter(p => !this.pk.equals(p.pk))\n          : Object.values(peerMap)\n      )\n      const $chats = this.store.on.bind(this.store, 'chats')\n\n      // Higher level profiles neuron\n      const $profiles = gate(init([],\n        mute(\n          combine($peers, $chats),\n          ([peers, chats]) => peers\n            .map(peer => computeProfile([peer, chats]))\n            .filter(p => p.state !== 'expired')\n        )\n      ))\n      return $profiles\n    },\n\n    /**\n     * Local peer/-profile\n     */\n    $profile () {\n      const $chats = s => this.store.on('chats', s)\n      const $loaded = when(this.load())\n      return gate(init(PEER_PLACEHOLDER,\n        mute(\n          combine(\n            mute(\n              s => this.store.on('peer', s),\n              async peer => {\n                await hasProfile\n                return peer\n              }\n            ),\n            $chats,\n            $loaded\n          ),\n          computeProfile\n        )\n      ))\n    }\n  }\n}\n\nfunction computeProfile ([peer, chats]) {\n  if (!peer) return ERR_PEER_NOT_FOUND // TODO: most likely redundant\n  if (peer.date === null) return PEER_PLACEHOLDER // when neuron invoked pre-kernel load.\n  if (peer.state === 'error') return peer\n  if (!peer.pk) throw new Error('kernel.$peers invoked before kernel.load() finished?')\n  const stats = chats.stats[peer.pk.toString('hex')] || {\n    nEnded: 0,\n    nStarted: 0,\n    nMessages: 0,\n    nPassed: 0,\n    nExhausted: 0\n  }\n  const extraTime = !stats ? 0 : stats.nEnded * (7 * 60 * 1000)\n  const expiresAt = peer.expiresAt + extraTime\n  let score = Math.floor((expiresAt - peer.date) / 60000)\n  score += stats.nMessages * 2\n  return {\n    ...peer,\n    stats,\n    expiresAt,\n    score,\n    state: expiresAt < Date.now() ? 'expired' : peer.state\n  }\n}\n\nfunction toPublicKey (key) {\n  if (!key ||\n    !(\n      (Buffer.isBuffer(key) && key.length === 32) ||\n      (typeof key !== 'string' && key.length === 64)\n    )\n  ) {\n    throw new Error(`PublicKey expected got \"${key}\"`)\n  }\n  return toBuffer(key)\n}\n\nmodule.exports.PEER_PLACEHOLDER = PEER_PLACEHOLDER\nmodule.exports.ERR_PEER_NOT_FOUND = ERR_PEER_NOT_FOUND\n","const Feed = require('picofeed')\nconst {\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  VIBE_REJECTED,\n  toBuffer,\n  seal,\n  boxPair\n} = require('../util')\nconst { mute, combine, gate, init } = require('../nuro')\nconst { PEER_PLACEHOLDER } = require('./peers.mod')\nconst D = require('debug')('picochat:mod:vibes')\n\nmodule.exports = function VibesModule () {\n  return {\n    /**\n     * Sends a vibe to a peer giving initiating a private\n     * channel for communication.\n     * params:\n     * - peerId {SignaturePublicKey} a peer's signing key\n     */\n    async sendVibe (peerId) {\n      peerId = toBuffer(peerId)\n      if (this.pk.equals(peerId)) throw new Error('SelfVibeNotAllowed')\n      // Don't sendVibes to peers waiting for your response.\n      const { matches, own } = this.store.state.vibes\n      for (const ckey of own) {\n        const match = matches[ckey.toString('hex')]\n        // Send response to received vibes\n        if (match.state === 'wait' && peerId.equals(match.a)) {\n          return this.respondVibe(match.chatId)\n        }\n      }\n      const msgBox = boxPair()\n      const peer = await this.profileOf(peerId)\n      const sealedMessage = seal(msgBox.pk, peer.box)\n      const convo = await this._createBlock(TYPE_VIBE, {\n        box: sealedMessage\n      })\n      const chatId = convo.last.sig\n      await this._storeLocalChatKey(chatId, msgBox)\n      // Store target ref\n      const key = Buffer.allocUnsafe(Feed.SIGNATURE_SIZE + 1)\n      chatId.copy(key, 1)\n      key[0] = 84 // ASCII: 'T'\n      await this._writeReg(key, peer.pk)\n      return chatId\n    },\n\n    /**\n     * Responds to a vibe by generating the second box pair\n     * params:\n     * - chatId {BlockSignature} id of the initial vibe-block.\n     */\n    async respondVibe (chatId, like = true) {\n      chatId = toBuffer(chatId)\n      const msgBox = boxPair()\n      const { own, matches } = this.store.state.vibes\n      if (!own.find(v => v.equals(chatId))) throw new Error('NotYourVibe')\n\n      const vibe = matches[chatId.toString('hex')]\n      if (!vibe) throw new Error('VibeNotFound')\n      if (vibe.state !== 'wait') throw new Error('VibeResponseNotApplicable')\n      const peer = await this.profileOf(vibe.a)\n\n      if (!peer) throw new Error('PeerNotFound')\n      const sealedMessage = seal(msgBox.pk, peer.box)\n\n      const block = await this.repo.readBlock(chatId)\n      if (!block) throw new Error('Vibe no longer exists')\n      const convo = await this._createBlock(Feed.from(block), TYPE_VIBE_RESP, {\n        box: !like ? VIBE_REJECTED : sealedMessage,\n        link: this.store.state.peer.sig // Weak-ref to own checkpoint\n      })\n      if (!convo) throw new Error('Failed creating block')\n      if (like) await this._storeLocalChatKey(vibe.chatId, msgBox)\n      return chatId\n    },\n\n    $vibe (chatId) {\n      return gate(init({ state: 'loading', type: 'vibe' }, this._vibe(chatId)))\n    },\n    _vibe (chatId) { // ungated/inited raw\n      try {\n        chatId = toChatId(chatId)\n      } catch (err) {\n        return init({\n          state: 'error',\n          errorMessage: err.message\n        })\n      }\n      return mute(\n        combine(\n          s => this.store.on('chats', s),\n          s => this.store.on('vibes', s)\n        ),\n        ([chats, { matches }]) => {\n          const match = matches[chatId.toString('hex')]\n          const chat = chats.chats[chatId.toString('hex')]\n          if (!match) return { state: 'error', errorMessage: 'VibeNotFound' }\n          const initiator = this.pk.equals(match.a)\n          const vibe = computeVibe(chatId, match, initiator, chat)\n          return joinPeer.bind(this)(vibe)\n        }\n      )\n    },\n\n    $vibes () {\n      const joinPeers = async vibes => {\n        // INNER JOIN profile of 'other' on vibe\n        const out = []\n        for (let i = 0; i < vibes.length; i++) {\n          const vibe = { ...vibes[i] }\n          await joinPeer.bind(this)(vibe)\n          out.push(vibe)\n        }\n        D('emit $vibes async')\n        return out\n      }\n      return gate(init([], mute(this._vibes(), joinPeers)))\n    },\n    // Lower-level alternative without\n    // Vibe.peer joined in which requires readReg lookup\n    _vibes () {\n      return mute(\n        combine(\n          s => this.store.on('chats', s),\n          s => this.store.on('vibes', s)\n        ),\n        ([chats, { sent, received, own, matches }], set) => {\n          const vibes = []\n          for (const chatId of own) {\n            const match = matches[chatId.toString('hex')]\n            const chat = chats.chats[chatId.toString('hex')]\n            const initiator = this.pk.equals(match.a)\n            const vibe = computeVibe(chatId, match, initiator, chat)\n            if (vibe.state === 'expired') continue // let GC handle the rest\n            if (chat && chat.state === 'end') continue\n            vibes.push(vibe)\n          }\n          D('emit _vibes')\n          return vibes\n        }\n      )\n    }\n  }\n}\n\nasync function joinPeer (vibe) {\n  try {\n    if (!vibe.peerId && vibe.initiator) {\n      // Attempt to remember who we sent what to.\n      const key = Buffer.allocUnsafe(Feed.SIGNATURE_SIZE + 1)\n      vibe.id.copy(key, 1)\n      key[0] = 84 // ASCII: 'T'\n      const pk = await this._readReg(key)\n      vibe.peerId = pk\n    }\n\n    if (vibe.peer.state === 'loading') {\n      vibe.peer = await this.profileOf(vibe.peerId)\n    }\n  } catch (err) {\n    console.warn('Failed resolving vibe.peer', err)\n    vibe.peer = { state: 'error', errorMessage: err.message }\n  }\n  return vibe\n}\n\nfunction computeVibe (chatId, match, initiator, chat) {\n  const out = {\n    ...initVibe(chatId),\n    updatedAt: match.updatedAt,\n    createdAt: match.createdAt,\n    expiresAt: chat?.expiresAt || match.expiresAt,\n    box: match.remoteBox,\n    initiator, // : initiator ? 'local' : 'remote',\n    localRejected: initiator && match.state === 'rejected',\n    remoteRejected: !initiator && match.state === 'rejected',\n    a: match.a,\n    b: match.b,\n    head: match.response\n  }\n  if (!initiator) out.peerId = out.a\n  else if (match.b) out.peerId = out.b\n  // else gotta lookup using _readReg(chatId), handled higher up\n\n  if (match.state === 'rejected') out.state = 'rejected'\n  else if (match.a && match.b) out.state = 'match'\n  else if (!initiator && !match.b) out.state = 'waiting_local'\n  else if (initiator && !match.b) out.state = 'waiting_remote'\n  else out.state = 'mental_error'\n\n  out.myTurn = out.state === 'match'\n    ? !chat\n        ? initiator\n        : !((chat.mLength % 2) ^ (initiator ? 0 : 1))\n    : out.state === 'waiting_local'\n  if (chat?.state === 'end') out.myTurn = false\n\n  out.health = !chat\n    ? 3\n    : Math.floor(chat.hp)\n\n  if (\n    ~['waiting_remote', 'waiting_local'].indexOf(out.state) &&\n    out.expiresAt < Date.now()\n  ) out.state = 'expired'\n  return out\n\n  function initVibe (id) {\n    return {\n      id,\n      head: null,\n      peer: PEER_PLACEHOLDER,\n      peerId: null,\n      box: null,\n      state: 'waiting',\n      updatedAt: 0,\n      createdAt: Infinity,\n      expiresAt: 0,\n      remoteRejected: false,\n      localRejected: false,\n      a: null,\n      b: null,\n      myTurn: false,\n      health: -1\n    }\n  }\n}\n\nfunction toChatId (key) {\n  if (!key ||\n    !(\n      (Buffer.isBuffer(key) && key.length === 64) ||\n      (typeof key !== 'string' && key.length === 128)\n    )\n  ) {\n    throw new Error(`ChatID expected got \"${key}\"`)\n  }\n  return toBuffer(key)\n}\n","const Repo = require('picorepo')\nconst Store = require('@telamon/picostore')\nconst Feed = require('picofeed')\n// Lowlevel registers that hold block-state\nconst PeerCtrl = require('./slices/peers.reg')\nconst VibeCtrl = require('./slices/vibes.reg')\nconst ConversationCtrl = require('./slices/chats.reg')\n// const StatsCtrl = require('./slices/stats')\n// Kernel Modules (simply mixins)\nconst ChatModule = require('./mod/chat.mod')\nconst Network = require('./mod/net.mod')\nconst BufferedRegistry = require('./mod/buffered-registry.mod')\nconst GarbageCollector = require('./mod/gc.mod')\nconst PeersModule = require('./mod/peers.mod')\nconst VibesModule = require('./mod/vibes.mod')\n\n// Util\nconst {\n  KEY_SK,\n  KEY_BOX_LIKES_PK,\n  KEY_BOX_LIKES_SK,\n  TYPE_VIBE,\n  TYPE_VIBE_RESP,\n  TYPE_MESSAGE,\n  TYPE_PROFILE,\n  TYPE_BYE,\n  TYPE_BYE_RESP,\n  VIBE_REJECTED,\n  decodeBlock,\n  encodeBlock,\n  typeOfBlock\n} = require('./util')\nconst debug = require('debug')\nconst D = debug('picochat:kernel')\nconst { writable, combine, get } = require('./nuro')\n// debug.enable('pico*')\n\nfunction initialState () {\n  const [loaded, setLoaded] = writable(false)\n  // Passive nodes participate in the network\n  // but do not publish blocks of their own. (upgraded simply by injecting sk)\n  // ( NOT YET SUPPORTED!! )\n  const [passive, setPassive] = writable(true)\n  const [connected, setConnected] = writable(false)\n  const [entered, setEntered] = writable(false)\n  return [\n    combine({ loaded, passive, connected, entered }),\n    { setLoaded, setPassive, setConnected, setEntered }\n  ]\n}\n\nclass Kernel {\n  constructor (db, opts = {}) {\n    this.db = db\n    this.repo = new Repo(db)\n    this.store = new Store(this.repo, mergeStrategy)\n    this._state = initialState()\n    // Process opts\n    this._now = opts.now || (() => Date.now())\n    this._sk = null // Signing secret + public key\n    this._vibeBox = null // Vibe box-pair\n\n    // Setup slices\n    this.store.register(PeerCtrl.ProfileCtrl(() => this.pk))\n    this.store.register(PeerCtrl()) // Register PeerStore that holds user profiles\n    this._vibeController = new VibeCtrl() // TODO: return { resolveKeys: fn, controller: fn }\n    this.store.register(this._vibeController)\n    this.store.register(ConversationCtrl())\n    // this.store.register(StatsCtrl())\n\n    // Load Mixins\n    Object.assign(this, PeersModule())\n    Object.assign(this, VibesModule())\n    Object.assign(this, ChatModule())\n    Object.assign(this, BufferedRegistry())\n    Object.assign(this, Network(this))\n    Object.assign(this, GarbageCollector(this.store))\n  }\n\n  get state () { return get(this._state[0]) }\n  get $state () { return this._state[0] }\n\n  /**\n   * Restores session/data from store\n   * returns {boolean} true if user exists\n   */\n  load () {\n    // Experimental anti-pattern\n    const deferredLoad = async () => {\n      try {\n        this._sk = await this.repo.readReg(KEY_SK)\n      } catch (err) {\n        if (!err.notFound) throw err\n        else return false // short-circuit empty store / no identity\n      }\n      if (this._sk) {\n        this._vibeBox = {\n          sk: await this.repo.readReg(KEY_BOX_LIKES_SK),\n          pk: await this.repo.readReg(KEY_BOX_LIKES_PK)\n        }\n        this._vibeController.setKeys(this.pk, this._vibeBox)\n      }\n      await this.store.load() // returns notification\n      if (this._sk && this.store.state.peer) this.__setHasProfile(true)\n      return !!this._sk\n    }\n    if (!this.__loading) this.__loading = deferredLoad()\n    return this.__loading\n  }\n\n  /**\n   * Returns user's public key (same thing as userId)\n   */\n  get pk () {\n    return this._sk?.slice(32)\n  }\n\n  /**\n   * Returns user's personal feed\n   * - *optional* limit {number} limit amount of blocks fetched.\n   */\n  async feed (limit = undefined) {\n    this._checkReady()\n    return this.repo.loadHead(this.pk)\n  }\n\n  async _tracePath (head) {\n    const keys = []\n    const heads = []\n    let chatId = null\n    let nLoaded = 0\n    const feed = await this.repo.loadFeed(head, (block, abort) => {\n      const type = typeOfBlock(block.body)\n      switch (type) {\n        case TYPE_VIBE_RESP:\n          keys[1] = block.key\n          heads[1] = decodeBlock(block.body).link\n          break\n\n        case TYPE_PROFILE:\n        case TYPE_BYE_RESP:\n          keys[0] = block.key\n          heads[0] = block.sig\n          // If this is not the first block encountered\n          // and we reached a bye or profile, then we've reached\n          // end of segment and should not load further.\n          // to load that next segment rerun tracepath with exported\n          // head[0]\n          if (nLoaded) abort()\n          // abort(!nLoaded && type !== TYPE_BYE_RESP)\n          break\n        case TYPE_VIBE:\n          chatId = block.sig\n          break\n      }\n      nLoaded++\n    })\n    if (!feed) throw new Error('FeedNotFound')\n    return { keys, heads, feed, chatId }\n  }\n\n  /**\n   * Returns boolean if kernel has a user\n   * e.g. isLoggedIn\n   */\n  get ready () {\n    return !!this._sk\n  }\n\n  /**\n   * Helper that throws error if kernel is not ready\n   */\n  _checkReady () {\n    if (!this.ready) throw new Error('Kernel is not ready, still loading or user is not registerd')\n  }\n\n  /**\n   * Returns the last block number of user\n   * Block sequence starts from 0 and increments by 1 for each new user-block\n   */\n  async seq () {\n    const feed = await this.feed(1)\n    if (!feed) return -1\n    return decodeBlock(feed.last.body).seq\n  }\n\n  /**\n   * Mutates store and reduced state\n   * returns {string[]} names of stores that were modified by this action\n   */\n  async dispatch (patch, loudFail = false) {\n    this._checkReady()\n    return await this.store.dispatch(patch, loudFail)\n  }\n\n  /**\n   * Creates a new block on parent feed and dispatches it to store\n   *\n   * - branch {Feed} the parent feed, OPTIONAL! defaults to user's private feed.\n   * - type {string} (block-type: 'profile' | 'box' | 'message')\n   * - payload {object} The data contents\n   * returns list of modified stores\n   */\n  async _createBlock (branch, type, payload) {\n    if (typeof branch === 'string') return this._createBlock(null, branch, type)\n    this._checkReady() // Abort if not ready\n\n    // Use provided branch or fetch user's feed\n    // if that also fails then initialize a new empty Feed.\n    branch = branch || (await this.feed()) || new Feed()\n\n    const seq = (await this.seq()) + 1 // Increment block sequence\n    const data = encodeBlock(type, seq, payload) // Pack data into string/buffer\n    branch.append(data, this._sk) // Append data on selected branch\n\n    const mut = await this.dispatch(branch, true) // Dispatch last block to store\n    if (!mut.length) throw new Error('CreateBlock failed: rejected by store')\n    if (this._badCreateBlockHook) this._badCreateBlockHook(branch.slice(-1))\n    return branch\n  }\n}\n\n// The idea of merge strategy needs to be reworked a bit.\n// besides passing block here, pico-repo should pass an array\n// of keys that are already encountered in the feed.\n//\n// Strategy attempts to answer the question:\n//  \"When block with foreign identity encountered,\n//  should the block be allowed to bump the peer's head?\"\n//\n// Vibe is an invitation to participate so: yes. (if it was adressed to you)\n// Message? \"yes\" if you were the one that was adressed.\n// Same thing with bye. There's identity checks in store-filters but\n// maybe should be handled on strategy level.\nasync function mergeStrategy (block, repo) { // TODO: expose loudFail flag? mergStr(b, r, !dryMerge && loud)\n  const content = decodeBlock(block.body)\n  const { type } = content\n  const pBlock = await repo.readBlock(block.parentSig)\n  const parentType = typeOfBlock(pBlock.body)\n\n  // Allow VibeResponses to be merged onto foreign vibes\n  if (type === TYPE_VIBE_RESP) {\n    const pBlock = await repo.readBlock(block.parentSig)\n    if (parentType !== TYPE_VIBE) return false\n    if (!VIBE_REJECTED.equals(content.box)) {\n      D('Match detected: %h <3 %h', block.key, pBlock.key)\n    } else {\n      D('Rejection detected: %h </3 %h', block.key, pBlock.key)\n    }\n    return true // All good, merge permitted\n  }\n\n  // Allow Messages onto foreign VibeResponses or Messages\n  if (type === TYPE_MESSAGE) {\n    if (parentType === TYPE_MESSAGE) return true\n  }\n  if (type === TYPE_BYE && parentType === TYPE_MESSAGE) return true\n  if (type === TYPE_BYE_RESP && parentType === TYPE_BYE) return true\n\n  console.warn('MergeStrategy rejected', parentType, '<--', type)\n  return false // disallow by default\n}\n\nmodule.exports = Kernel\n\n","// const { randomBytes } = require('crypto')\n\n/*\n * const randomBytes = (n) => {\n  const buf = new Uint8Array(n)\n  window.crypto.getRandomValues(buf)\n  return buf\n} */\n\n// Exports\nmodule.exports = {\n  // functions\n  binstr,\n  roundByte,\n  shift,\n  unshift,\n  countTrailingZeroes,\n  countOnes,\n  proximityOf,\n  mapOverlap,\n  packGeo,\n  unpackGeo,\n  gammaShift,\n  gammaUnshift,\n  dGapEncode,\n  decodeSL,\n  bitAt,\n  setBit\n}\n\n/*\nfunction countLeadingZeroes (p, SIZE = DEF_SIZE) {\n  let n = 0\n  for (let i = 0; i < SIZE; i++) {\n    let b = p[i]\n    for (let j = 0; j < 8; j++) {\n      if (b & 1) return n\n      n++\n      b >>= 1\n    }\n  }\n}\n*/\n\n// Round bits upwards to closet byte\nfunction roundByte (b) { return (b >> 3) + (b % 8 ? 1 : 0) }\n\n/*\n * Treats buffer as a series of latched 8bit shift-registers\n * shifts all bits 1 step from low to high.\n *             _____________\n *   input -> | 0 1 0 1 1 1 | -> return overflow\n *             -------------\n *           Low            High\n */\nfunction shift (x, inp = 0) {\n  let c = inp ? 1 : 0\n  for (let i = 0; i < x.length; i++) {\n    const nc = (x[i] >> 7) & 1\n    x[i] = (x[i] << 1) | c\n    c = nc\n  }\n  return c\n}\n\n/*\n * Opposite of shift, shifts all bits\n * 1 step towards low.\n *              _____________\n *   output <- | 0 1 0 1 1 1 | <- input\n *              -------------\n *           Low            High\n */\nfunction unshift (x, inp = 0) {\n  let i = x.length\n  let c = (inp ? 1 : 0) << 7\n  while (i--) {\n    const nc = (x[i] & 1) << 7\n    x[i] = c | x[i] >> 1\n    c = nc\n  }\n  return c ? 1 : 0\n}\n/*\nfunction roll (bits) {\n  const size = roundByte(bits)\n  const o = randomBytes(size)\n  const r = bits % 8 ? bits % 8 : 8\n  o[size - 1] = o[size - 1] & // Fix last byte\n    ((1 << r) - 1) | // Mask after LIFE marker\n    (1 << (r - 1)) // Insert LIFE marker\n  return o\n}\n*/\n\nfunction countTrailingZeroes (x) {\n  let i = x.length\n  let n = 0 // vBits - (x.length << 3)\n  while (i--) {\n    for (let j = 7; j >= 0; j--) {\n      if (x[i] & (1 << j)) return n\n      n++\n    }\n  }\n  return n\n}\n\nfunction countOnes (p) {\n  let out = 0\n  for (let i = 0; i < p.length; i++) {\n    let b = p[i]\n    while (b) {\n      if (b & 1) out++\n      b >>= 1\n    }\n  }\n  return out\n}\n\n// Higher order function to align multiple registers\n// and iterate the bits within the overlap.\n//\n//                  Operational zone\n//     Start bit    _____\n//               * | | | |\n// A:    0 0 0 0 1 1 0 1 0 1 1\n// B:        0 0 1 0 1 1 1 1 1 1 0\n// C:      0 0 0 1 0 0 1 0\n//       HI        ^            LOW\n//            idx: 0 1 2 3\n//\nfunction mapOverlap (registers, process) {\n  process = process || (() => {})\n  const o = registers.map(() => 0)\n  const found = registers.map(() => 0)\n  const outputs = registers.map(() => 0)\n  let sync = false\n  const result = []\n  let cancel = false\n  while (!cancel) {\n    for (let r = 0; r < registers.length; r++) {\n      if (!sync && found[r]) continue // wait-state reached\n      const reg = registers[r]\n      const bitIdx = o[r]++\n      const byteIdx = reg.length - 1 - (bitIdx >> 3)\n      // return function as soon as first buffer end is reached.\n      if (byteIdx < 0) return result\n\n      const bit = (reg[byteIdx] >> (7 - (bitIdx % 8))) & 1\n      if (!found[r]) {\n        if (bit) found[r] = true\n        continue\n      }\n      outputs[r] = bit\n    }\n\n    if (!sync) {\n      sync = found.reduce((c, n) => c && n, true)\n      continue\n    }\n    const z = process(outputs, () => { cancel = true })\n    if (shift(result, z)) result[result.length] = 1\n  }\n  return result\n}\n\nfunction binstr (x, cap) {\n  cap = cap || x.length * 8\n  let str = ''\n  for (let i = 0; i < x.length; i++) {\n    for (let j = 0; j < 8; j++) {\n      if (cap === i * 8 + j) str += '|'\n      str += x[i] & (1 << j) ? '1' : '0'\n    }\n  }\n  return str\n}\n\nconst GHSMAP = '0123456789bcdefghjkmnpqrstuvwxyz' // (geohash-specific) Base32 map\nconst GHSUNMAP = GHSMAP.split('').reduce((h, l, i) => { h[l] = i; return h }, {})\n/**\n * Bitpacks a geohash string containing quintets to arbitrary bit-precision:\n *\n *  'u120fw' <-- contains 6*5 bits accurate to ~1.2 Kilometers\n * MSB    LSB\n *\n *  'u' being is the most significant coordinate,\n *  'w' is the least significant coordinate.\n *\n *  References:\n *  Format specification:  https://en.m.wikipedia.org/wiki/Geohash\n *  Bitdepthchart: https://www.ibm.com/docs/en/streams/4.3.0?topic=334-geohashes\n *\n */\nfunction packGeo (str, nBits, buf) {\n  if (!nBits) nBits = str.length * 5\n  // if (nBits > 64) throw new Error('unsupported precision')\n  if (nBits < 5) throw new Error('precision has to be at least 5')\n\n  // const nQuints = (nBits >> 2) + (nBits % 5 ? 1 : 0)\n  const nBytes = roundByte(nBits)\n  // This is horribly inefficient and ugly but i'm tired. have mercy.\n  if (!buf) buf = Buffer.alloc(nBytes) // Array.from(new Array(nBytes).map(() => 0)\n  // buf[0] = 1\n  const val = str\n    .split('')\n    .reverse()\n    .reduce((sum, c, b) => sum + (GHSUNMAP[c] * (32 ** b)), 0)\n  const bits = val.toString(2).slice(0, nBits).split('').reverse() // lsb\n  for (const bit of bits) { // buf.writeUInt32BE(bits)\n    shift(buf, bit === '0' ? 0 : 1) // msb\n  }\n  return buf\n}\n\n/**\n * Unpacks bitarray back into base32 string\n */\nfunction unpackGeo (buf, nBits = 16) {\n  const nBytes = roundByte(nBits)\n  if (buf.length < nBytes) throw new Error('BufferUnderflow, dst buffer too small')\n  const cpy = []\n  for (let i = 0; i < nBytes; i++) cpy[i] = buf[i]\n  let str = ''\n  let tmp = 0\n  for (let n = 0; n < nBits; n++) {\n    const bit = unshift(cpy)\n    tmp = tmp | bit << (4 - (n % 5))\n    if (n && !(n % 5)) {\n      str += GHSMAP.charAt(tmp)\n      tmp = 0\n    }\n  }\n  str += GHSMAP.charAt(tmp)\n  return str.replace(/0+$/, '') // Truncate trailing zero-fields\n}\n\n// Elias gamma encoding\n// https://en.wikipedia.org/wiki/Elias_gamma_coding\n// http://bitmagic.io/dGap-gamma.html\nfunction gammaShift (buf, x) {\n  // x++ // 0support\n  const N = Math.ceil(Math.log2(x))\n  for (let n = 0; n < N; n++) unshift(buf, 0)\n  unshift(buf, 1)\n  for (let n = 0; n < N; n++) unshift(buf, (x >> n) & 1)\n}\n\nfunction gammaUnshift (buf) {\n  let N = 0\n  const cap = buf.length * 8\n  for (; N < cap; N++) {\n    const b = unshift(buf)\n    if (b) break\n    if (N === cap - 1 && !b) throw new Error('NBitNotFound: end of buffer reached')\n  }\n  let x = 1 << N\n  while (N--) x = x | (unshift(buf) << N)\n  return x\n  // return --x // 0support\n}\n\nfunction bitAt (buf, idx) {\n  return (buf[idx >> 3] >> (idx % 8)) & 1\n}\n\nfunction setBit (buf, idx, v = 1) {\n  if (v) buf[idx >> 3] = (buf[idx >> 3] || 0) | (1 << (idx % 8)) // set\n  else buf[idx >> 3] = (buf[idx >> 3] || 0) & (~(1 << (idx % 8))) // clear\n  return buf\n}\n\nfunction dGapEncode (buf, cap) {\n  if (!cap) cap = buf.length * 8\n  const out = [bitAt(buf, 0)]\n  let n = 0\n  let seek = out[0]\n  let i = 0\n  while (i < cap) {\n    const b = bitAt(buf, i)\n    if (b !== seek) {\n      seek = b\n      out.push(n)\n      n = 0\n    } n++\n    i++\n  }\n  out.push(n)\n  return out\n}\n\nfunction decodeSL (buf, geoPrecision = 16) {\n  const nBits = geoPrecision + 1\n  const tmp = []\n  for (let i = 0; i < roundByte(nBits); i++) tmp[i] = buf[i]\n  const sex = unshift(tmp) // (unshift(tmp) << 1) | unshift(tmp)\n  const geohash = unpackGeo(tmp, geoPrecision)\n  return { sex, geohash }\n}\n\nfunction proximityOf (a, b) {\n  let n = 0\n  for (;n < a.length; n++) {\n    if (bitAt(a, n) !== bitAt(b, n)) break\n  }\n  return n\n}\n","/* eslint-disable camelcase */\nconst {\n  crypto_sign_SECRETKEYBYTES: SIGN_SKBYTES,\n  crypto_sign_PUBLICKEYBYTES: SIGN_PKBYTES,\n  crypto_sign_keypair\n} = require('sodium-universal')\n/* eslint-enable camelcase */\nconst { packGeo, shift, binstr, roundByte, decodeSL } = require('./bits')\nconst { GEO_BITS } = require('./util')\nconst { pack, unpack } = require('msgpackr')\nconst DEFAULT_SIGN = 'default_signpair'\nconst DEFAULT_PROFILE = 'default_profile'\n\nclass Keychain {\n  constructor (db) {\n    this.db = db\n  }\n\n  /*\n   * TODO:\n   * async addFriend (alias, pk)\n   * async removeFriend (alias)\n   * async listFriends ()\n   */\n\n  async readIdentity (alias = DEFAULT_SIGN) {\n    return this.db.get(alias)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n  }\n\n  async writeIdentity (sk, alias = DEFAULT_SIGN) {\n    if (!Buffer.isBuffer(sk) || sk.length !== SIGN_SKBYTES) throw new Error('Expected SigningSecret')\n    return this.db.put(alias, sk)\n  }\n\n  async writeProfile (profile, alias = DEFAULT_PROFILE) {\n    return this.db.put(alias, pack(profile))\n  }\n\n  async readProfile (alias = DEFAULT_PROFILE) {\n    const p = await this.db.get(alias)\n      .catch(err => {\n        if (!err.notFound) throw err\n      })\n    if (p) return unpack(p)\n  }\n\n  static generateAnonymous () {\n    const sk = Buffer.allocUnsafe(SIGN_SKBYTES)\n    const pk = Buffer.allocUnsafe(SIGN_PKBYTES)\n    crypto_sign_keypair(pk, sk)\n    return { pk, sk }\n  }\n\n  static generate (gender, geohash, maxTries) {\n    gender = gender ?? 666\n    if (gender === 666 && !geohash) return Keychain.generateAnonymous()\n    if (!geohash) return prayFor(Buffer.from(gender), 1, maxTries)\n\n    const nBits = GEO_BITS + 1\n    const buf = Buffer.allocUnsafe(roundByte(nBits))\n    const prefix = packGeo(geohash, GEO_BITS, buf)\n    shift(prefix, gender & 1)\n    // shift(prefix, (gender >> 1) & 1) // TODO: Move this flag to profile block?\n    const mask = nBits % 8\n      ? (1 << (nBits % 8)) - 1\n      : 0xff\n    console.info('Searching for', nBits, prefix.toString('hex'), binstr(prefix).length, 'mask', mask.toString(2))\n    return prayFor(prefix, mask, maxTries)\n  }\n\n  static decodePk (pk) {\n    return decodeSL(pk, GEO_BITS)\n  }\n}\n\nconst MAX_SEARCH = 500000 // ~10second on my laptop\nfunction prayFor (b, mask = 0xff, max = MAX_SEARCH) {\n  if (!Buffer.isBuffer(b) && !Array.isArray(b)) throw new Error('Array or Buffer Expected')\n  const pk = Buffer.allocUnsafe(SIGN_PKBYTES)\n  const sk = Buffer.allocUnsafe(SIGN_SKBYTES)\n  const nBytes = b.length\n\n  for (let i = 0; i < max; i++) {\n    crypto_sign_keypair(pk, sk)\n    let v = true\n    for (let n = 0; v && n < nBytes; n++) {\n      v = (n + 1 === nBytes)\n        ? (pk[n] & mask) === (b[n] & mask)\n        : v = pk[n] === b[n]\n    }\n    if (v) return { pk, sk }\n  }\n}\n\nmodule.exports = Keychain\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.3' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import levelup from 'levelup'\nimport leveljs from 'level-js'\nimport Geohash from 'latlon-geohash'\nimport Kernel from '../blockend/'\nimport Keychain from '../blockend/keychain'\nimport { readable } from 'svelte/store'\nimport { mute, gate, init, write, combine, get, nfo } from '../blockend/nuro'\nimport { navigate } from './router'\nconst Modem56 = window.Modem56\n\n/**\n * Pico::N(e)uro -> svelte adapter\n * */\nexport function svlt (neuron, dbg) {\n  return readable(null, set =>\n    !dbg\n      ? neuron(set)\n      : nfo(neuron, dbg)(set)\n  )\n}\nconst DB = levelup(leveljs('picochat')) // Open IndexedDB\nconst personalBucket = levelup(leveljs('keychain')) // Open IndexedDB\nexport const kernel = new Kernel(DB)\nexport const keychain = new Keychain(personalBucket)\n\nexport const keygen = (gender, geo, attempts) => {\n  return Keychain.generate(gender, geo, attempts)\n}\n\nexport function decodePk (pk) {\n  const info = Keychain.decodePk(pk)\n  const ll = Geohash.decode(info.geohash)\n  return { ...info, ...ll }\n}\n\n// Helpers hooks for quick register access\nexport function Profile (dbg) {\n  return svlt(kernel.$profile(), dbg)\n}\n\nexport function Peers (dbg) {\n  return svlt(kernel.$peers(), dbg)\n}\n\nexport function Peer (id, dbg) {\n  return svlt(kernel.$peer(id), dbg)\n}\n\nexport function Vibes (dbg) {\n  return svlt(\n    kernel.$vibes(), dbg\n  )\n}\n\nexport function NotificationsCount () {\n  return svlt(\n    mute(\n      combine(kernel.$vibes(), $chats),\n      ([vibes, chats]) => vibes.reduce(\n        (sum, v) => v.state === 'waiting_local' ? sum + 1 : sum,\n        0\n      ) +\n      chats.reduce( // Dosen't work cause chats are actually vibe-objects.\n        (sum, c) => c.myTurn ? sum + 1 : sum,\n        0\n      )\n    )\n  )\n}\n\n// TODO: kernel.$chats() neuron\nconst $chats = mute(\n  kernel.$vibes(),\n  vibes => vibes.filter(\n    v => v.state === 'match'\n  )\n)\nexport function Chats () {\n  return svlt($chats)\n}\n\nexport function Cooldowns () {\n  return svlt(\n    init({ vibe: 0 })\n  )\n}\n\nexport function Connections () {\n  return svlt(\n    gate(init(0, mute(kernel.$connections(), cnns => cnns.length)))\n  )\n}\n\nexport function GameOver () {\n  return svlt(\n    mute(\n      kernel.$profile(), p => p.state === 'expired'\n    )\n  )\n}\n\n// Boot up\nlet tryBoot = null\nexport let lastError = null\n\nconst [$kstate, setKstate] = write('loading')\nconst [$error, setError] = write()\nconst [$entered, setEntered] = write(false) // block published/ participating\nconst [$swarming, setSwarming] = write(false) // are the m56 lights blinking?\nconst [$hasKey, setHasKey] = write(false)\nconst [$hasProfile, setHasProfile] = write(false)\nconst [$profilePicture, setProfilePicture] = write(null)\n\nconst $state = combine({\n  state: $kstate,\n  error: $error,\n  hasKey: $hasKey,\n  hasProfile: $hasProfile,\n  entered: $entered,\n  swarming: $swarming\n})\n\nexport const state = svlt($state)\nexport const profilePicture = svlt($profilePicture)\n\nexport function boot () {\n  if (!tryBoot) {\n    tryBoot = keychain.readIdentity()\n      .then(sk => {\n        setHasKey(!!sk)\n        return keychain.readProfile()\n      })\n      .then(pTemplate => {\n        setHasProfile(!!pTemplate)\n        if (pTemplate?.picture) setProfilePicture(pTemplate.picture)\n        return kernel.load()\n      })\n      .then(entered => {\n        setEntered(entered)\n        kernel.startGC()\n      })\n      .catch(err => {\n        console.error('kernel boot failure', err)\n        lastError = err\n        setError(err)\n        setKstate('error')\n        throw err\n      })\n      .then(entered => { // Auto-redirect if needed\n        setKstate('running')\n        const s = get($state)\n        console.info('Final state', s)\n        const autoSwarm = JSON.parse(window.localStorage.getItem('auto_swarm'))\n        if (s.error) window.location.hash = '/error?message=' + s.error.message\n        else if (!s.hasKey) navigate('/keygen')\n        else if (!s.hasProfile) navigate('/profile')\n        else return autoSwarm && connectSwarm()\n      })\n  }\n  // tryBoot.then(do something everytime boot is invoked)\n  return tryBoot\n}\n\n/*\n * subscribes your component to a specific conversation.\n * returns a high-level object containing both stats and actions\n *\n * usage example:\n * const {\n *   // Props\n *   myTurn, // boolean, actions can only be invoked when true.\n *   updatedAt, // Last activity of chat\n *   status, // string '|active|timeout|exhausted|ended'\n *   messages // Array of messages.\n *\n *   // Actions\n *   send, // async function, send(message: string)\n *   pass, // async function, passes turn to opponent\n *   bye,  // async function, bye(mood)\n * } = useChat(id) // <-- same id as vibeId\n */\nexport function Chat (chatId, d) {\n  return svlt(kernel.$chat(chatId), d)\n}\n\n/**\n *  It's **beep** time!\n *      ¤\n *   ___|_\n *  /____/|  ~ Modem 56 ~\n * |_o_=_|/\n *\n */\nlet modem = null // hardware is expensive, we can only afford a single modem for now.\n// Helper to wire up modem56 to kernel and enter a pub in a single action.\nexport async function connectSwarm () {\n  const name = 'HardCode'\n  if (!Modem56) throw new Error('Modem not available, did you load it?')\n  const devOpts = {\n    // Attempted to debug: https://github.com/RangerMauve/hyperswarm-web/issues/20\n    // announceLocalAddress: true,\n    // webrtcBootstrap: ['ws://localhost:4977/signal']\n  }\n  if (!modem) modem = new Modem56(null, devOpts)\n  else return // already connected\n  // else modem.leave()\n\n  const spawnWire = await kernel.enter(name) // TODO, kernel.leave()\n  modem.join(name, spawnWire)\n  setSwarming(true)\n}\n\nexport function encodeImage (url) {\n  const regex = /^data:([^;]+);base64,/\n  const m = url.match(regex)\n  if (m[1] !== 'image/jpeg') throw new Error('CanvasExportedUnexpectedFiletype: ' + m[1])\n  return Buffer.from(url.replace(regex, ''), 'base64')\n}\n\nexport function decodeImage (buf) {\n  return 'data:image/jpeg;base64,' + buf.toString('base64')\n}\n\nexport async function updateProfile (profile) {\n  await keychain.writeProfile(profile)\n  setHasProfile(true)\n  if (profile.picture) setProfilePicture(profile.picture)\n  if (get($hasKey) && !get($swarming)) {\n    await connectSwarm()\n    navigate('/pub')\n  }\n}\n\nexport async function storeIdentity (sk) {\n  await keychain.writeIdentity(sk)\n  setHasKey(true)\n}\n\nexport async function enter () {\n  if (!get($hasKey)) return navigate('/keygen')\n  if (!get($hasProfile)) return navigate('/profile')\n  // TODO: in this contexted $entered refers to if profile-block is published or not\n  // need to refactor kernel states for clarity\n  if (!get($entered)) {\n    const sk = await keychain.readIdentity()\n    const profile = await keychain.readProfile()\n    await kernel.register(profile, sk)\n    setEntered(true)\n  }\n  return connectSwarm()\n}\n\nexport async function purge (purgeKeychain = false) {\n  const msg = purgeKeychain\n    ? 'You are about to burn your passport and everything with it... you sure about this?'\n    : 'Permanently wipe ALL data, you sure?'\n  if (!window.confirm(msg)) return\n  if (purgeKeychain) await keychain.db.clear()\n  await kernel.db.clear()\n  window.location.reload()\n}\n\nexport async function saveBackup () {\n  const File = window.File\n  const secret = await keychain.readIdentity()\n  const b = new File(\n    [secret.toString('hex')],\n    'idsqr-insecure-backup.txt',\n    { type: 'application/text' }\n  )\n  const u = URL.createObjectURL(b)\n  window.open(u, '_blank')\n  // TODO: revokeObjectURL\n}\n","<script>\nimport { createEventDispatcher } from 'svelte'\n// Silly workaround for svelte props clashing with custom attrs.\nexport let open = false\nconst dispatch = createEventDispatcher()\nlet elem\nfunction updateAttribute(node, name, value) {\n  if (value === null || value === false) {\n    node.removeAttribute(name);\n  }\n  else node.setAttribute(name, value+\"\")\n}\nfunction attr(node, entry) {\n  if(entry) {\n     updateAttribute(node, entry[0], entry[1])\n   }\n  return {\n    update(updated) {\n      if(!updated) return\n      updateAttribute(node, updated[0], updated[1])\n    }\n  }\n}\nfunction onClick (ev) {\n  if (ev.target !== elem) return\n  dispatch('fade')\n}\n\n</script>\n<dialog  use:attr={[\"open\", !!open]} on:click={onClick} bind:this={elem}>\n  <slot>Empty Modal</slot>\n</dialog>\n","<script>\nexport let id = ''\nexport let tag = ''\nexport let nofill = false\nconst SPRITE_URL = 'build/sprites.svg'\nconst ref = `${SPRITE_URL}#${id}`\nconst classes = `icon ${tag}`.trim()\n</script>\n<svg class={classes} class:nofill={nofill}>\n  <use xlink:href={ref} href={ref}></use>\n</svg>\n<style>\n.icon { fill: unset; }\n.nofill { fill: none; }\n</style>\n","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '██': '█',\n        '█ ': '▀',\n        ' █': '▄',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '██': '▀',\n        '█ ': '▀',\n        ' █': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '█';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '█';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('▀');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('██');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","<script>\nimport QR from 'qrcode-generator'\nimport { onMount } from 'svelte'\nexport let data = null\nexport let size = 2\nexport let margin = 0\nexport let level = 'L'\n// export let colorDark = '#000' // '#253900'\n// export let colorLight = '#808000'\nlet imgElem\nfunction paint (bin) {\n  if (!bin) return\n  if (Buffer.isBuffer(bin)) bin = bin.toString('base64')\n  // TODO: hack to modify colors,\n  // maybe use qr.drawToContext() + canvas instead of img.\n  const qr = new QR(0, level)\n  qr.addData(bin)\n  qr.make()\n  const url = qr.createDataURL(size, margin)\n  imgElem.src = url\n}\nonMount(() => {\n  if (typeof data?.subscribe === 'function') return data.subscribe(paint)\n  else data && paint(data)\n})\n</script>\n<pico-qr>\n  <img bind:this=\"{imgElem}\"/>\n</pico-qr>\n<style>\n  pico-qr { display: block; }\n</style>\n","<script>\nimport { navigate } from '../router'\nimport { keychain, keygen, decodePk, storeIdentity, purge, saveBackup } from '../api'\nimport { writable } from 'svelte/store'\nimport Geohash from 'latlon-geohash'\nimport Dialog from '../components/Dialog.svelte'\nimport Icon from '../components/Icon.svelte'\nimport QRCode from '../components/QRCode.svelte'\n\nconst progress = writable(100)\nconst idsqr = writable()\nconst secret = writable()\nconst geohash = writable(null) // Geohash.encode(52.20, 0.12, 6))\nconst gender = writable(0)\nconst unlucky = writable(false)\nconst fails = writable(0)\nconst showImportDialog = writable(false)\nconst importInput = writable('')\nconst showAboutDialog = writable(false)\n\nasync function loadKeychain () {\n  try {\n    const sk = await keychain.readIdentity()\n    if (!sk) return\n    $secret = sk\n    const res = decodePk(sk.slice(32))\n    $gender = res.sex\n    $geohash = res.geohash\n  } catch (err) {\n    console.error('loadKeychain() failed:', err)\n    throw err\n  }\n}\n\nasync function roll (mode = 0) {\n  if ($secret) return // Refuse to roll while secret exists\n  $progress = 0\n  $unlucky = false\n  let pair = null\n  for (let i = 0; i < 100; i++) {\n    $progress++\n    pair = keygen(\n      mode < 2 ? $gender : null,\n      mode < 1 ? $geohash : null,\n      500\n    )\n    if (pair) break\n    await new Promise(resolve => setTimeout(resolve, 100)) // give browser some breathing space\n  }\n\n  if (pair) {\n    await storeIdentity(pair.sk)\n    $secret = pair.sk\n  } else {\n    $unlucky = true\n    $fails++\n  }\n  $progress = 100\n}\n\nfunction fetchPosition (options) {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) reject(new Error('Browser does not support geolocation APIs'))\n    else navigator.geolocation.getCurrentPosition(resolve, reject, options)\n  })\n}\nasync function autoGeohash () {\n  const res = await fetchPosition()\n  console.log(res)\n  const { latitude: lat, longitude: lng } = res.coords\n  $geohash = Geohash.encode(lat, lng, 6)\n}\nasync function validateImport () {\n  console.error('TODO: not yet implemented')\n}\n\n</script>\n<keygen-view>\n  <h1 on:click={() => $showAboutDialog = true}>\n    Sign up\n    <Icon id=\"icon-info\" />\n  </h1>\n  <h5>Gender</h5>\n  <fieldset>\n    <input type=\"radio\" value={1} bind:group={$gender} id=\"M\" name=\"gender\"/>\n    <label for=\"M\">M</label>\n    <input type=\"radio\" value={0} bind:group={$gender} id=\"F\" name=\"gender\"/>\n    <label for=\"F\">F</label>\n    <input type=\"radio\" value={2} bind:group={$gender} id=\"NB\" name=\"gender\"/>\n    <label for=\"NB\">NB</label>\n  </fieldset>\n  <br/>\n  <h5>Location</h5>\n  <div class=\"flex row\">\n    <div>\n      <a role=\"button\" on:click={autoGeohash}><Icon id=\"icon-location\" /></a>\n    </div>\n    <div>\n      <input type=\"text\"\n        placeholder=\"Geohash\"\n        readonly\n        on:click={autoGeohash}\n        bind:value={$geohash} >\n    </div>\n  </div>\n  <h5>\n    IDSQR\n  </h5>\n\n  <div class=\"flex column xcenter\">\n    <idsqr data-theme=\"dark\" class=\"flex column space-between\">\n      {#await loadKeychain()}\n        <h1 aria-busy=\"true\">%nbsp;</h1>\n      {:then}\n        {#if !$secret}\n        <h5 class=\"text-center\">Mining OP</h5>\n        <div>\n          <progress min=\"0\" max=\"100\" value={$progress}/>\n          <p>Finding a key might take a while, but you only have to do it once.</p>\n        </div>\n        <div>\n          <div class=\"row space-between xcenter\">\n            {#if $fails > 1}\n              <button on:click={() => roll(1)} disabled={$progress !== 100}>Give up</button>\n            {/if}\n            <button on:click={() => roll(0)} disabled={$progress !== 100 || $secret}>Generate</button>\n          </div>\n          {#if $unlucky}\n            <danger>Sorry.. RNG0D ignored your prayers, please try again</danger>\n          {/if}\n        </div>\n        {:else}\n          <QRCode data={$secret.slice(32)} size={10}/>\n        {/if}\n      {:catch error}\n        <div>\n          <h5>Error:</h5>\n          <danger>{error.message}</danger>\n        </div>\n      {/await}\n    </idsqr>\n  </div>\n  <div class=\"row end hpad\">\n    <small>\n      {#if $secret}\n        <a on:click={() => purge(true)}>Destroy</a> |\n        <a on:click={saveBackup}>Backup</a>\n      {:else}\n        <a on:click={() => roll(2)}>Anonkey</a> |\n        <a on:click={() => $showImportDialog = true}>Import</a>\n      {/if}\n    </small>\n  </div>\n  <br/>\n  <button disabled={!$secret} on:click={() => navigate('/profile')}>next</button>\n\n  {#if $showImportDialog}\n    <Dialog open={true} on:fade={() => $showImportDialog = false}>\n      <article>\n        <header><h5>Import Secret</h5></header>\n        <p>Paste the secret as a hex-string</p>\n        <textarea bind:value={$importInput}></textarea>\n        <footer>\n          <div class=\"row space-between\">\n            <a role=\"button\" on:click={() => $showImportDialog = false}>Cancel</a>\n            <a role=\"button\" on:click={validateImport}>Import</a>\n          </div>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n\n  {#if $showAboutDialog}\n    <Dialog open={true} on:fade={() => $showAboutDialog = false}>\n      <article>\n        <h3>Welcome to True Decentralization</h3>\n        <div class=\"about\">\n          <p>\n            Picochat is a <strong>coinless blockchain</strong>, there\n            are no super-nodes and everything is slightly different from\n            what you're used to.<br/>\n            But don't worry, it's all good.\n          </p>\n          <p>\n            First of all, you have to generate your own key.<br/>\n            It takes about a minute or two on a handheld device.<br/>\n            Once you've found a one, keep it safe, it's your passport to hyperspace.\n            ✨\n          </p>\n          <p>\n            If you don't care about location nor gender, then\n            feel free to use an <i>anonymous</i> key.<br/>\n            Trees say \"Thanks!\" 🌱\n          </p>\n          <p>\n            Please don't generate more keys than you need, mining of any form is a pointless waste of world-resources.\n            Hate to say it; but don't ever trade a key, it is <strong>insecure and dangerous</strong>.\n          </p>\n          <p><i>\n            The hyperspace is vast.<br/>\n            It's real-estate, just like air -\n            worth nothing while there's enough for everyone.<br/>\n            Let's keep it that way\n          </i> 🙂</p>\n        </div>\n        <footer>\n          <button on:click={() => $showAboutDialog = false}>gotcha</button>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n</keygen-view>\n<style>\ndanger { color: var(--blood); }\n.about {\n  max-height: 50vh;\n  overflow-y: scroll;\n}\n</style>\n\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",$=\"Invalid Date\",l=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},D=\"en\",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if(\"string\"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+\"Hours\",0);case u:return l(g+\"Minutes\",1);case s:return l(g+\"Seconds\",2);case i:return l(g+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),$=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));","<script>\nimport dayjs from 'dayjs'\nimport { onMount, afterUpdate } from 'svelte'\nimport { writable } from 'svelte/store'\nexport let expiresAt\nexport let format = 'HH:mm'\nlet intervalId = null\nconst timeLeft = writable(expiresAt - Date.now())\n/*\nlet classes = 'count-down'\nif (timeLeft < 10 * 1000) classes += ' danger'\nelse if (timeLeft < 60 * 1000) classes += ' warning'\nelse if (timeLeft <= 0) classes += ' expired'\n*/\nonMount(() => {\n  if (intervalId) {\n    clearInterval(intervalId)\n    intervalId = null\n  }\n  intervalId = setInterval(() => {\n    $timeLeft = expiresAt - Date.now()\n    if ($timeLeft <= 0) clearInterval(intervalId)\n  }, 200)\n\n  return () => {\n    clearInterval(intervalId)\n  }\n})\n</script>\n<timer>\n{dayjs.duration($timeLeft > 0 ? $timeLeft : 0).format(format)}\n</timer>\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.areaConversion=exports.timeConversion=exports.distanceConversion=exports.altitudeKeys=exports.latitudeKeys=exports.longitudeKeys=exports.MAXLON=exports.MINLON=exports.MAXLAT=exports.MINLAT=exports.earthRadius=exports.sexagesimalPattern=void 0;var sexagesimalPattern=/^([0-9]{1,3})°\\s*([0-9]{1,3}(?:\\.(?:[0-9]{1,}))?)['′]\\s*(([0-9]{1,3}(\\.([0-9]{1,}))?)[\"″]\\s*)?([NEOSW]?)$/;exports.sexagesimalPattern=sexagesimalPattern;var earthRadius=6378137;exports.earthRadius=earthRadius;var MINLAT=-90;exports.MINLAT=MINLAT;var MAXLAT=90;exports.MAXLAT=MAXLAT;var MINLON=-180;exports.MINLON=MINLON;var MAXLON=180;exports.MAXLON=MAXLON;var longitudeKeys=[\"lng\",\"lon\",\"longitude\",0];exports.longitudeKeys=longitudeKeys;var latitudeKeys=[\"lat\",\"latitude\",1];exports.latitudeKeys=latitudeKeys;var altitudeKeys=[\"alt\",\"altitude\",\"elevation\",\"elev\",2];exports.altitudeKeys=altitudeKeys;var distanceConversion={m:1,km:0.001,cm:100,mm:1000,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/0.9144};exports.distanceConversion=distanceConversion;var timeConversion={m:60,h:3600,d:86400};exports.timeConversion=timeConversion;var areaConversion={m2:1,km2:0.000001,ha:0.0001,a:0.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};exports.areaConversion=areaConversion;areaConversion.sqm=areaConversion.m2;areaConversion.sqkm=areaConversion.km2;areaConversion.sqft=areaConversion.ft2;areaConversion.sqyd=areaConversion.yd2;areaConversion.sqin=areaConversion.in2;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var getCoordinateKey=function getCoordinateKey(point,keysToLookup){return keysToLookup.reduce(function(foundKey,key){if(typeof point===\"undefined\"||point===null){throw new Error(\"'\".concat(point,\"' is no valid coordinate.\"))}if(Object.prototype.hasOwnProperty.call(point,key)&&typeof key!==\"undefined\"&&typeof foundKey===\"undefined\"){foundKey=key;return key}return foundKey},undefined)};var _default=getCoordinateKey;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var isDecimal=function isDecimal(value){var checkedValue=value.toString().trim();if(isNaN(parseFloat(checkedValue))){return false}return parseFloat(checkedValue)===Number(checkedValue)};var _default=isDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var isSexagesimal=function isSexagesimal(value){return _constants.sexagesimalPattern.test(value.toString().trim())};var _default=isSexagesimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var sexagesimalToDecimal=function sexagesimalToDecimal(sexagesimal){var data=new RegExp(_constants.sexagesimalPattern).exec(sexagesimal.toString().trim());if(typeof data===\"undefined\"||data===null){throw new Error(\"Given value is not in sexagesimal format\")}var min=Number(data[2])/60||0;var sec=Number(data[4])/3600||0;var decimal=parseFloat(data[1])+min+sec;return[\"S\",\"W\"].includes(data[7])?-decimal:decimal};var _default=sexagesimalToDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getCoordinateKeys=function getCoordinateKeys(point){var keysToLookup=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{longitude:_constants.longitudeKeys,latitude:_constants.latitudeKeys,altitude:_constants.altitudeKeys};var longitude=(0,_getCoordinateKey.default)(point,keysToLookup.longitude);var latitude=(0,_getCoordinateKey.default)(point,keysToLookup.latitude);var altitude=(0,_getCoordinateKey.default)(point,keysToLookup.altitude);return _objectSpread({latitude:latitude,longitude:longitude},altitude?{altitude:altitude}:{})};var _default=getCoordinateKeys;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidLatitude=function isValidLatitude(value){if((0,_isDecimal.default)(value)){if(parseFloat(value)>_constants.MAXLAT||value<_constants.MINLAT){return false}return true}if((0,_isSexagesimal.default)(value)){return isValidLatitude((0,_sexagesimalToDecimal.default)(value))}return false};var _default=isValidLatitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidLongitude=function isValidLongitude(value){if((0,_isDecimal.default)(value)){if(parseFloat(value)>_constants.MAXLON||value<_constants.MINLON){return false}return true}if((0,_isSexagesimal.default)(value)){return isValidLongitude((0,_sexagesimalToDecimal.default)(value))}return false};var _default=isValidLongitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getCoordinateKeys2=_interopRequireDefault(require(\"./getCoordinateKeys\"));var _isValidLatitude=_interopRequireDefault(require(\"./isValidLatitude\"));var _isValidLongitude=_interopRequireDefault(require(\"./isValidLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isValidCoordinate=function isValidCoordinate(point){var _getCoordinateKeys=(0,_getCoordinateKeys2.default)(point),latitude=_getCoordinateKeys.latitude,longitude=_getCoordinateKeys.longitude;if(Array.isArray(point)&&point.length>=2){return(0,_isValidLongitude.default)(point[0])&&(0,_isValidLatitude.default)(point[1])}if(typeof latitude===\"undefined\"||typeof longitude===\"undefined\"){return false}var lon=point[longitude];var lat=point[latitude];if(typeof lat===\"undefined\"||typeof lon===\"undefined\"){return false}if((0,_isValidLatitude.default)(lat)===false||(0,_isValidLongitude.default)(lon)===false){return false}return true};var _default=isValidCoordinate;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _isValidCoordinate=_interopRequireDefault(require(\"./isValidCoordinate\"));var _getCoordinateKeys=_interopRequireDefault(require(\"./getCoordinateKeys\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var toDecimal=function toDecimal(value){if((0,_isDecimal.default)(value)){return Number(value)}if((0,_isSexagesimal.default)(value)){return(0,_sexagesimalToDecimal.default)(value)}if((0,_isValidCoordinate.default)(value)){var keys=(0,_getCoordinateKeys.default)(value);if(Array.isArray(value)){return value.map(function(v,index){return[0,1].includes(index)?toDecimal(v):v})}return _objectSpread(_objectSpread(_objectSpread({},value),keys.latitude&&_defineProperty({},keys.latitude,toDecimal(value[keys.latitude]))),keys.longitude&&_defineProperty({},keys.longitude,toDecimal(value[keys.longitude])))}if(Array.isArray(value)){return value.map(function(point){return(0,_isValidCoordinate.default)(point)?toDecimal(point):point})}return value};var _default=toDecimal;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getLatitude=function getLatitude(point,raw){var latKey=(0,_getCoordinateKey.default)(point,_constants.latitudeKeys);if(typeof latKey===\"undefined\"||latKey===null){return}var value=point[latKey];return raw===true?value:(0,_toDecimal.default)(value)};var _default=getLatitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getLongitude=function getLongitude(point,raw){var latKey=(0,_getCoordinateKey.default)(point,_constants.longitudeKeys);if(typeof latKey===\"undefined\"||latKey===null){return}var value=point[latKey];return raw===true?value:(0,_toDecimal.default)(value)};var _default=getLongitude;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var toRad=function toRad(value){return value*Math.PI/180};var _default=toRad;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var toDeg=function toDeg(value){return value*180/Math.PI};var _default=toDeg;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var computeDestinationPoint=function computeDestinationPoint(start,distance,bearing){var radius=arguments.length>3&&arguments[3]!==undefined?arguments[3]:6371000;var lat=(0,_getLatitude.default)(start);var lng=(0,_getLongitude.default)(start);var delta=distance/radius;var theta=(0,_toRad.default)(bearing);var phi1=(0,_toRad.default)(lat);var lambda1=(0,_toRad.default)(lng);var phi2=Math.asin(Math.sin(phi1)*Math.cos(delta)+Math.cos(phi1)*Math.sin(delta)*Math.cos(theta));var lambda2=lambda1+Math.atan2(Math.sin(theta)*Math.sin(delta)*Math.cos(phi1),Math.cos(delta)-Math.sin(phi1)*Math.sin(phi2));var longitude=(0,_toDeg.default)(lambda2);if(longitude<_constants.MINLON||longitude>_constants.MAXLON){lambda2=(lambda2+3*Math.PI)%(2*Math.PI)-Math.PI;longitude=(0,_toDeg.default)(lambda2)}return{latitude:(0,_toDeg.default)(phi2),longitude:longitude}};var _default=computeDestinationPoint;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertArea=function convertArea(squareMeters){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"m\";var factor=_constants.areaConversion[targetUnit];if(factor){return squareMeters*factor}throw new Error(\"Invalid unit used for area conversion.\")};var _default=convertArea;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertDistance=function convertDistance(meters){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"m\";var factor=_constants.distanceConversion[targetUnit];if(factor){return meters*factor}throw new Error(\"Invalid unit used for distance conversion.\")};var _default=convertDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _constants=require(\"./constants\");var convertSpeed=function convertSpeed(metersPerSecond){var targetUnit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"kmh\";switch(targetUnit){case\"kmh\":return metersPerSecond*_constants.timeConversion.h*_constants.distanceConversion.km;case\"mph\":return metersPerSecond*_constants.timeConversion.h*_constants.distanceConversion.mi;default:return metersPerSecond;}};var _default=convertSpeed;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol===\"undefined\"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var imprecise=function imprecise(number){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var factor=Math.pow(10,decimals);return Math.round(number*factor)/factor};var decimal2sexagesimalNext=function decimal2sexagesimalNext(decimal){var _decimal$toString$spl=decimal.toString().split(\".\"),_decimal$toString$spl2=_slicedToArray(_decimal$toString$spl,2),pre=_decimal$toString$spl2[0],post=_decimal$toString$spl2[1];var deg=Math.abs(Number(pre));var min0=Number(\"0.\"+(post||0))*60;var sec0=min0.toString().split(\".\");var min=Math.floor(min0);var sec=imprecise(Number(\"0.\"+(sec0[1]||0))*60).toString();var _sec$split=sec.split(\".\"),_sec$split2=_slicedToArray(_sec$split,2),secPreDec=_sec$split2[0],_sec$split2$=_sec$split2[1],secDec=_sec$split2$===void 0?\"0\":_sec$split2$;return deg+\"\\xB0 \"+min.toString().padStart(2,\"0\")+\"' \"+secPreDec.padStart(2,\"0\")+\".\"+secDec.padEnd(1,\"0\")+\"\\\"\"};var _default=decimal2sexagesimalNext;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var robustAcos=function robustAcos(value){if(value>1){return 1}if(value<-1){return-1}return value};var _default=robustAcos;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _robustAcos=_interopRequireDefault(require(\"./robustAcos\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistance=function getDistance(from,to){var accuracy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;accuracy=typeof accuracy!==\"undefined\"&&!isNaN(accuracy)?accuracy:1;var fromLat=(0,_getLatitude.default)(from);var fromLon=(0,_getLongitude.default)(from);var toLat=(0,_getLatitude.default)(to);var toLon=(0,_getLongitude.default)(to);var distance=Math.acos((0,_robustAcos.default)(Math.sin((0,_toRad.default)(toLat))*Math.sin((0,_toRad.default)(fromLat))+Math.cos((0,_toRad.default)(toLat))*Math.cos((0,_toRad.default)(fromLat))*Math.cos((0,_toRad.default)(fromLon)-(0,_toRad.default)(toLon))))*_constants.earthRadius;return Math.round(distance/accuracy)*accuracy};var _default=getDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var orderByDistance=function orderByDistance(point,coords){var distanceFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getDistance.default;distanceFn=typeof distanceFn===\"function\"?distanceFn:_getDistance.default;return coords.slice().sort(function(a,b){return distanceFn(point,a)-distanceFn(point,b)})};var _default=orderByDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _orderByDistance=_interopRequireDefault(require(\"./orderByDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var findNearest=function findNearest(point,coords){return(0,_orderByDistance.default)(point,coords)[0]};var _default=findNearest;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _toRad=_interopRequireDefault(require(\"./toRad\"));var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getAreaOfPolygon=function getAreaOfPolygon(points){var area=0;if(points.length>2){var lowerIndex;var middleIndex;var upperIndex;for(var i=0;i<points.length;i++){if(i===points.length-2){lowerIndex=points.length-2;middleIndex=points.length-1;upperIndex=0}else if(i===points.length-1){lowerIndex=points.length-1;middleIndex=0;upperIndex=1}else{lowerIndex=i;middleIndex=i+1;upperIndex=i+2}var p1lon=(0,_getLongitude.default)(points[lowerIndex]);var p2lat=(0,_getLatitude.default)(points[middleIndex]);var p3lon=(0,_getLongitude.default)(points[upperIndex]);area+=((0,_toRad.default)(p3lon)-(0,_toRad.default)(p1lon))*Math.sin((0,_toRad.default)(p2lat))}area=area*_constants.earthRadius*_constants.earthRadius/2}return Math.abs(area)};var _default=getAreaOfPolygon;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getBounds=function getBounds(points){if(Array.isArray(points)===false||points.length===0){throw new Error(\"No points were given.\")}return points.reduce(function(stats,point){var latitude=(0,_getLatitude.default)(point);var longitude=(0,_getLongitude.default)(point);return{maxLat:Math.max(latitude,stats.maxLat),minLat:Math.min(latitude,stats.minLat),maxLng:Math.max(longitude,stats.maxLng),minLng:Math.min(longitude,stats.minLng)}},{maxLat:-Infinity,minLat:Infinity,maxLng:-Infinity,minLng:Infinity})};var _default=getBounds;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getBoundsOfDistance=function getBoundsOfDistance(point,distance){var latitude=(0,_getLatitude.default)(point);var longitude=(0,_getLongitude.default)(point);var radLat=(0,_toRad.default)(latitude);var radLon=(0,_toRad.default)(longitude);var radDist=distance/_constants.earthRadius;var minLat=radLat-radDist;var maxLat=radLat+radDist;var MAX_LAT_RAD=(0,_toRad.default)(_constants.MAXLAT);var MIN_LAT_RAD=(0,_toRad.default)(_constants.MINLAT);var MAX_LON_RAD=(0,_toRad.default)(_constants.MAXLON);var MIN_LON_RAD=(0,_toRad.default)(_constants.MINLON);var minLon;var maxLon;if(minLat>MIN_LAT_RAD&&maxLat<MAX_LAT_RAD){var deltaLon=Math.asin(Math.sin(radDist)/Math.cos(radLat));minLon=radLon-deltaLon;if(minLon<MIN_LON_RAD){minLon+=Math.PI*2}maxLon=radLon+deltaLon;if(maxLon>MAX_LON_RAD){maxLon-=Math.PI*2}}else{minLat=Math.max(minLat,MIN_LAT_RAD);maxLat=Math.min(maxLat,MAX_LAT_RAD);minLon=MIN_LON_RAD;maxLon=MAX_LON_RAD}return[{latitude:(0,_toDeg.default)(minLat),longitude:(0,_toDeg.default)(minLon)},{latitude:(0,_toDeg.default)(maxLat),longitude:(0,_toDeg.default)(maxLon)}]};var _default=getBoundsOfDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCenter=function getCenter(points){if(Array.isArray(points)===false||points.length===0){return false}var numberOfPoints=points.length;var sum=points.reduce(function(acc,point){var pointLat=(0,_toRad.default)((0,_getLatitude.default)(point));var pointLon=(0,_toRad.default)((0,_getLongitude.default)(point));return{X:acc.X+Math.cos(pointLat)*Math.cos(pointLon),Y:acc.Y+Math.cos(pointLat)*Math.sin(pointLon),Z:acc.Z+Math.sin(pointLat)}},{X:0,Y:0,Z:0});var X=sum.X/numberOfPoints;var Y=sum.Y/numberOfPoints;var Z=sum.Z/numberOfPoints;return{longitude:(0,_toDeg.default)(Math.atan2(Y,X)),latitude:(0,_toDeg.default)(Math.atan2(Z,Math.sqrt(X*X+Y*Y)))}};var _default=getCenter;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getBounds=_interopRequireDefault(require(\"./getBounds\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCenterOfBounds=function getCenterOfBounds(coords){var bounds=(0,_getBounds.default)(coords);var latitude=bounds.minLat+(bounds.maxLat-bounds.minLat)/2;var longitude=bounds.minLng+(bounds.maxLng-bounds.minLng)/2;return{latitude:parseFloat(latitude.toFixed(6)),longitude:parseFloat(longitude.toFixed(6))}};var _default=getCenterOfBounds;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getRhumbLineBearing=function getRhumbLineBearing(origin,dest){var diffLon=(0,_toRad.default)((0,_getLongitude.default)(dest))-(0,_toRad.default)((0,_getLongitude.default)(origin));var diffPhi=Math.log(Math.tan((0,_toRad.default)((0,_getLatitude.default)(dest))/2+Math.PI/4)/Math.tan((0,_toRad.default)((0,_getLatitude.default)(origin))/2+Math.PI/4));if(Math.abs(diffLon)>Math.PI){if(diffLon>0){diffLon=(Math.PI*2-diffLon)*-1}else{diffLon=Math.PI*2+diffLon}}return((0,_toDeg.default)(Math.atan2(diffLon,diffPhi))+360)%360};var _default=getRhumbLineBearing;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getRhumbLineBearing=_interopRequireDefault(require(\"./getRhumbLineBearing\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getCompassDirection=function getCompassDirection(origin,dest){var bearingFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getRhumbLineBearing.default;var bearing=typeof bearingFn===\"function\"?bearingFn(origin,dest):(0,_getRhumbLineBearing.default)(origin,dest);if(isNaN(bearing)){throw new Error(\"Could not calculate bearing for given points. Check your bearing function\")}switch(Math.round(bearing/22.5)){case 1:return\"NNE\";case 2:return\"NE\";case 3:return\"ENE\";case 4:return\"E\";case 5:return\"ESE\";case 6:return\"SE\";case 7:return\"SSE\";case 8:return\"S\";case 9:return\"SSW\";case 10:return\"SW\";case 11:return\"WSW\";case 12:return\"W\";case 13:return\"WNW\";case 14:return\"NW\";case 15:return\"NNW\";default:return\"N\";}};var _default=getCompassDirection;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));var _robustAcos=_interopRequireDefault(require(\"./robustAcos\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistanceFromLine=function getDistanceFromLine(point,lineStart,lineEnd){var accuracy=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var d1=(0,_getDistance.default)(lineStart,point,accuracy);var d2=(0,_getDistance.default)(point,lineEnd,accuracy);var d3=(0,_getDistance.default)(lineStart,lineEnd,accuracy);var alpha=Math.acos((0,_robustAcos.default)((d1*d1+d3*d3-d2*d2)/(2*d1*d3)));var beta=Math.acos((0,_robustAcos.default)((d2*d2+d3*d3-d1*d1)/(2*d2*d3)));if(alpha>Math.PI/2){return d1}if(beta>Math.PI/2){return d2}return Math.sin(alpha)*d1};var _default=getDistanceFromLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getGreatCircleBearing=function getGreatCircleBearing(origin,dest){var destLat=(0,_getLatitude.default)(dest);var detLon=(0,_getLongitude.default)(dest);var originLat=(0,_getLatitude.default)(origin);var originLon=(0,_getLongitude.default)(origin);var bearing=((0,_toDeg.default)(Math.atan2(Math.sin((0,_toRad.default)(detLon)-(0,_toRad.default)(originLon))*Math.cos((0,_toRad.default)(destLat)),Math.cos((0,_toRad.default)(originLat))*Math.sin((0,_toRad.default)(destLat))-Math.sin((0,_toRad.default)(originLat))*Math.cos((0,_toRad.default)(destLat))*Math.cos((0,_toRad.default)(detLon)-(0,_toRad.default)(originLon))))+360)%360;return bearing};var _default=getGreatCircleBearing;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}var getPathLength=function getPathLength(points){var distanceFn=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_getDistance.default;return points.reduce(function(acc,point){if(_typeof(acc)===\"object\"&&acc.last!==null){acc.distance+=distanceFn(point,acc.last)}acc.last=point;return acc},{last:null,distance:0}).distance};var _default=getPathLength;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getDistance=function getDistance(start,end){var accuracy=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;accuracy=typeof accuracy!==\"undefined\"&&!isNaN(accuracy)?accuracy:1;var startLat=(0,_getLatitude.default)(start);var startLon=(0,_getLongitude.default)(start);var endLat=(0,_getLatitude.default)(end);var endLon=(0,_getLongitude.default)(end);var b=6356752.314245;var ellipsoidParams=1/298.257223563;var L=(0,_toRad.default)(endLon-startLon);var cosSigma;var sigma;var sinAlpha;var cosSqAlpha;var cos2SigmaM;var sinSigma;var U1=Math.atan((1-ellipsoidParams)*Math.tan((0,_toRad.default)(parseFloat(startLat))));var U2=Math.atan((1-ellipsoidParams)*Math.tan((0,_toRad.default)(parseFloat(endLat))));var sinU1=Math.sin(U1);var cosU1=Math.cos(U1);var sinU2=Math.sin(U2);var cosU2=Math.cos(U2);var lambda=L;var lambdaP;var iterLimit=100;do{var sinLambda=Math.sin(lambda);var cosLambda=Math.cos(lambda);sinSigma=Math.sqrt(cosU2*sinLambda*(cosU2*sinLambda)+(cosU1*sinU2-sinU1*cosU2*cosLambda)*(cosU1*sinU2-sinU1*cosU2*cosLambda));if(sinSigma===0){return 0}cosSigma=sinU1*sinU2+cosU1*cosU2*cosLambda;sigma=Math.atan2(sinSigma,cosSigma);sinAlpha=cosU1*cosU2*sinLambda/sinSigma;cosSqAlpha=1-sinAlpha*sinAlpha;cos2SigmaM=cosSigma-2*sinU1*sinU2/cosSqAlpha;if(isNaN(cos2SigmaM)){cos2SigmaM=0}var C=ellipsoidParams/16*cosSqAlpha*(4+ellipsoidParams*(4-3*cosSqAlpha));lambdaP=lambda;lambda=L+(1-C)*ellipsoidParams*sinAlpha*(sigma+C*sinSigma*(cos2SigmaM+C*cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)))}while(Math.abs(lambda-lambdaP)>1e-12&&--iterLimit>0);if(iterLimit===0){return NaN}var uSq=cosSqAlpha*(_constants.earthRadius*_constants.earthRadius-b*b)/(b*b);var A=1+uSq/16384*(4096+uSq*(-768+uSq*(320-175*uSq)));var B=uSq/1024*(256+uSq*(-128+uSq*(74-47*uSq)));var deltaSigma=B*sinSigma*(cos2SigmaM+B/4*(cosSigma*(-1+2*cos2SigmaM*cos2SigmaM)-B/6*cos2SigmaM*(-3+4*sinSigma*sinSigma)*(-3+4*cos2SigmaM*cos2SigmaM)));var distance=b*A*(sigma-deltaSigma);return Math.round(distance/accuracy)*accuracy};var _default=getDistance;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var getRoughCompassDirection=function getRoughCompassDirection(exact){if(/^NNE|NE|NNW|N$/.test(exact)){return\"N\"}if(/^ENE|E|ESE|SE$/.test(exact)){return\"E\"}if(/^SSE|S|SSW|SW$/.test(exact)){return\"S\"}if(/^WSW|W|WNW|NW$/.test(exact)){return\"W\"}};var _default=getRoughCompassDirection;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getSpeed=function getSpeed(start,end){var distanceFn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_getDistance.default;var distance=distanceFn(start,end);var time=Number(end.time)-Number(start.time);var metersPerSecond=distance/time*1000;return metersPerSecond};var _default=getSpeed;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointInLine=function isPointInLine(point,lineStart,lineEnd){return(0,_getDistance.default)(lineStart,point)+(0,_getDistance.default)(point,lineEnd)===(0,_getDistance.default)(lineStart,lineEnd)};var _default=isPointInLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointInPolygon=function isPointInPolygon(point,polygon){var isInside=false;var totalPolys=polygon.length;for(var i=-1,j=totalPolys-1;++i<totalPolys;j=i){if(((0,_getLongitude.default)(polygon[i])<=(0,_getLongitude.default)(point)&&(0,_getLongitude.default)(point)<(0,_getLongitude.default)(polygon[j])||(0,_getLongitude.default)(polygon[j])<=(0,_getLongitude.default)(point)&&(0,_getLongitude.default)(point)<(0,_getLongitude.default)(polygon[i]))&&(0,_getLatitude.default)(point)<((0,_getLatitude.default)(polygon[j])-(0,_getLatitude.default)(polygon[i]))*((0,_getLongitude.default)(point)-(0,_getLongitude.default)(polygon[i]))/((0,_getLongitude.default)(polygon[j])-(0,_getLongitude.default)(polygon[i]))+(0,_getLatitude.default)(polygon[i])){isInside=!isInside}}return isInside};var _default=isPointInPolygon;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistanceFromLine=_interopRequireDefault(require(\"./getDistanceFromLine\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointNearLine=function isPointNearLine(point,start,end,distance){return(0,_getDistanceFromLine.default)(point,start,end)<distance};var _default=isPointNearLine;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _getDistance=_interopRequireDefault(require(\"./getDistance\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isPointWithinRadius=function isPointWithinRadius(point,center,radius){return(0,_getDistance.default)(point,center)<radius};var _default=isPointWithinRadius;exports.default=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol===\"undefined\"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i[\"return\"]!=null)_i[\"return\"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var wktToPolygon=function wktToPolygon(wkt){if(!wkt.startsWith(\"POLYGON\")){throw new Error(\"Invalid wkt.\")}var coordsText=wkt.slice(wkt.indexOf(\"(\")+2,wkt.indexOf(\")\")).split(\", \");var polygon=coordsText.map(function(coordText){var _coordText$split=coordText.split(\" \"),_coordText$split2=_slicedToArray(_coordText$split,2),longitude=_coordText$split2[0],latitude=_coordText$split2[1];return{longitude:parseFloat(longitude),latitude:parseFloat(latitude)}});return polygon};var _default=wktToPolygon;exports.default=_default;","<script>\nimport { decodeImage } from '../api'\nexport let src = null\nexport let size = null\n/*\n  import { onMount } from 'svelte'\n  const url = ''\n  onMount(() => {\n    return () => URL.revokeObjectURL(url)\n  })\n*/\nconst style = !(size ?? false) ? '' : `width: ${size}; height: ${size}`\n</script>\n<img\n  class=\"bimg\"\n  style={style}\n  src={decodeImage(src)}>\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _exportNames={computeDestinationPoint:true,convertArea:true,convertDistance:true,convertSpeed:true,decimalToSexagesimal:true,findNearest:true,getAreaOfPolygon:true,getBounds:true,getBoundsOfDistance:true,getCenter:true,getCenterOfBounds:true,getCompassDirection:true,getCoordinateKey:true,getCoordinateKeys:true,getDistance:true,getDistanceFromLine:true,getGreatCircleBearing:true,getLatitude:true,getLongitude:true,getPathLength:true,getPreciseDistance:true,getRhumbLineBearing:true,getRoughCompassDirection:true,getSpeed:true,isDecimal:true,isPointInLine:true,isPointInPolygon:true,isPointNearLine:true,isPointWithinRadius:true,isSexagesimal:true,isValidCoordinate:true,isValidLatitude:true,isValidLongitude:true,orderByDistance:true,sexagesimalToDecimal:true,toDecimal:true,toRad:true,toDeg:true,wktToPolygon:true};Object.defineProperty(exports,\"computeDestinationPoint\",{enumerable:true,get:function get(){return _computeDestinationPoint.default}});Object.defineProperty(exports,\"convertArea\",{enumerable:true,get:function get(){return _convertArea.default}});Object.defineProperty(exports,\"convertDistance\",{enumerable:true,get:function get(){return _convertDistance.default}});Object.defineProperty(exports,\"convertSpeed\",{enumerable:true,get:function get(){return _convertSpeed.default}});Object.defineProperty(exports,\"decimalToSexagesimal\",{enumerable:true,get:function get(){return _decimalToSexagesimal.default}});Object.defineProperty(exports,\"findNearest\",{enumerable:true,get:function get(){return _findNearest.default}});Object.defineProperty(exports,\"getAreaOfPolygon\",{enumerable:true,get:function get(){return _getAreaOfPolygon.default}});Object.defineProperty(exports,\"getBounds\",{enumerable:true,get:function get(){return _getBounds.default}});Object.defineProperty(exports,\"getBoundsOfDistance\",{enumerable:true,get:function get(){return _getBoundsOfDistance.default}});Object.defineProperty(exports,\"getCenter\",{enumerable:true,get:function get(){return _getCenter.default}});Object.defineProperty(exports,\"getCenterOfBounds\",{enumerable:true,get:function get(){return _getCenterOfBounds.default}});Object.defineProperty(exports,\"getCompassDirection\",{enumerable:true,get:function get(){return _getCompassDirection.default}});Object.defineProperty(exports,\"getCoordinateKey\",{enumerable:true,get:function get(){return _getCoordinateKey.default}});Object.defineProperty(exports,\"getCoordinateKeys\",{enumerable:true,get:function get(){return _getCoordinateKeys.default}});Object.defineProperty(exports,\"getDistance\",{enumerable:true,get:function get(){return _getDistance.default}});Object.defineProperty(exports,\"getDistanceFromLine\",{enumerable:true,get:function get(){return _getDistanceFromLine.default}});Object.defineProperty(exports,\"getGreatCircleBearing\",{enumerable:true,get:function get(){return _getGreatCircleBearing.default}});Object.defineProperty(exports,\"getLatitude\",{enumerable:true,get:function get(){return _getLatitude.default}});Object.defineProperty(exports,\"getLongitude\",{enumerable:true,get:function get(){return _getLongitude.default}});Object.defineProperty(exports,\"getPathLength\",{enumerable:true,get:function get(){return _getPathLength.default}});Object.defineProperty(exports,\"getPreciseDistance\",{enumerable:true,get:function get(){return _getPreciseDistance.default}});Object.defineProperty(exports,\"getRhumbLineBearing\",{enumerable:true,get:function get(){return _getRhumbLineBearing.default}});Object.defineProperty(exports,\"getRoughCompassDirection\",{enumerable:true,get:function get(){return _getRoughCompassDirection.default}});Object.defineProperty(exports,\"getSpeed\",{enumerable:true,get:function get(){return _getSpeed.default}});Object.defineProperty(exports,\"isDecimal\",{enumerable:true,get:function get(){return _isDecimal.default}});Object.defineProperty(exports,\"isPointInLine\",{enumerable:true,get:function get(){return _isPointInLine.default}});Object.defineProperty(exports,\"isPointInPolygon\",{enumerable:true,get:function get(){return _isPointInPolygon.default}});Object.defineProperty(exports,\"isPointNearLine\",{enumerable:true,get:function get(){return _isPointNearLine.default}});Object.defineProperty(exports,\"isPointWithinRadius\",{enumerable:true,get:function get(){return _isPointWithinRadius.default}});Object.defineProperty(exports,\"isSexagesimal\",{enumerable:true,get:function get(){return _isSexagesimal.default}});Object.defineProperty(exports,\"isValidCoordinate\",{enumerable:true,get:function get(){return _isValidCoordinate.default}});Object.defineProperty(exports,\"isValidLatitude\",{enumerable:true,get:function get(){return _isValidLatitude.default}});Object.defineProperty(exports,\"isValidLongitude\",{enumerable:true,get:function get(){return _isValidLongitude.default}});Object.defineProperty(exports,\"orderByDistance\",{enumerable:true,get:function get(){return _orderByDistance.default}});Object.defineProperty(exports,\"sexagesimalToDecimal\",{enumerable:true,get:function get(){return _sexagesimalToDecimal.default}});Object.defineProperty(exports,\"toDecimal\",{enumerable:true,get:function get(){return _toDecimal.default}});Object.defineProperty(exports,\"toRad\",{enumerable:true,get:function get(){return _toRad.default}});Object.defineProperty(exports,\"toDeg\",{enumerable:true,get:function get(){return _toDeg.default}});Object.defineProperty(exports,\"wktToPolygon\",{enumerable:true,get:function get(){return _wktToPolygon.default}});var _computeDestinationPoint=_interopRequireDefault(require(\"./computeDestinationPoint\"));var _convertArea=_interopRequireDefault(require(\"./convertArea\"));var _convertDistance=_interopRequireDefault(require(\"./convertDistance\"));var _convertSpeed=_interopRequireDefault(require(\"./convertSpeed\"));var _decimalToSexagesimal=_interopRequireDefault(require(\"./decimalToSexagesimal\"));var _findNearest=_interopRequireDefault(require(\"./findNearest\"));var _getAreaOfPolygon=_interopRequireDefault(require(\"./getAreaOfPolygon\"));var _getBounds=_interopRequireDefault(require(\"./getBounds\"));var _getBoundsOfDistance=_interopRequireDefault(require(\"./getBoundsOfDistance\"));var _getCenter=_interopRequireDefault(require(\"./getCenter\"));var _getCenterOfBounds=_interopRequireDefault(require(\"./getCenterOfBounds\"));var _getCompassDirection=_interopRequireDefault(require(\"./getCompassDirection\"));var _getCoordinateKey=_interopRequireDefault(require(\"./getCoordinateKey\"));var _getCoordinateKeys=_interopRequireDefault(require(\"./getCoordinateKeys\"));var _getDistance=_interopRequireDefault(require(\"./getDistance\"));var _getDistanceFromLine=_interopRequireDefault(require(\"./getDistanceFromLine\"));var _getGreatCircleBearing=_interopRequireDefault(require(\"./getGreatCircleBearing\"));var _getLatitude=_interopRequireDefault(require(\"./getLatitude\"));var _getLongitude=_interopRequireDefault(require(\"./getLongitude\"));var _getPathLength=_interopRequireDefault(require(\"./getPathLength\"));var _getPreciseDistance=_interopRequireDefault(require(\"./getPreciseDistance\"));var _getRhumbLineBearing=_interopRequireDefault(require(\"./getRhumbLineBearing\"));var _getRoughCompassDirection=_interopRequireDefault(require(\"./getRoughCompassDirection\"));var _getSpeed=_interopRequireDefault(require(\"./getSpeed\"));var _isDecimal=_interopRequireDefault(require(\"./isDecimal\"));var _isPointInLine=_interopRequireDefault(require(\"./isPointInLine\"));var _isPointInPolygon=_interopRequireDefault(require(\"./isPointInPolygon\"));var _isPointNearLine=_interopRequireDefault(require(\"./isPointNearLine\"));var _isPointWithinRadius=_interopRequireDefault(require(\"./isPointWithinRadius\"));var _isSexagesimal=_interopRequireDefault(require(\"./isSexagesimal\"));var _isValidCoordinate=_interopRequireDefault(require(\"./isValidCoordinate\"));var _isValidLatitude=_interopRequireDefault(require(\"./isValidLatitude\"));var _isValidLongitude=_interopRequireDefault(require(\"./isValidLongitude\"));var _orderByDistance=_interopRequireDefault(require(\"./orderByDistance\"));var _sexagesimalToDecimal=_interopRequireDefault(require(\"./sexagesimalToDecimal\"));var _toDecimal=_interopRequireDefault(require(\"./toDecimal\"));var _toRad=_interopRequireDefault(require(\"./toRad\"));var _toDeg=_interopRequireDefault(require(\"./toDeg\"));var _wktToPolygon=_interopRequireDefault(require(\"./wktToPolygon\"));var _constants=require(\"./constants\");Object.keys(_constants).forEach(function(key){if(key===\"default\"||key===\"__esModule\")return;if(Object.prototype.hasOwnProperty.call(_exportNames,key))return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _constants[key]}})});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}","<script>\nimport { getDistance } from 'geolib'\nimport BinaryImage from './BinaryImage.svelte'\nimport { kernel, decodePk } from '../api'\nexport let peer\nexport let size = 'normal'\nlet distance = null\nif (kernel.pk) {\n  const a = decodePk(kernel.pk)\n  const b = decodePk(peer.pk)\n  distance = getDistance(a, b, 1000)\n}\n</script>\n  <article class=\"peer\">\n    <legend>\n      <overlay>\n        <h3 style=\"grid-area: nw;\"><dot class=\"vibing\">&nbsp;</dot>{peer.score}</h3>\n        <div style=\"grid-area: sw; align-self: end;\">\n          <h2>{peer.name}</h2>\n        </div>\n        <div style=\"grid-area: se; align-self: end; justify-self: end;\" class=\"end\">\n          <h2>[b]</h2>\n        </div>\n      </overlay>\n      <BinaryImage src={peer.picture}/>\n    </legend>\n    <slot name=\"genderloc\">\n      {#if distance !== null}\n        Distance {distance}Km\n      {/if}\n    </slot>\n    <slot></slot>\n  </article>\n<style>\n</style>\n","<script>\nimport { onMount } from 'svelte'\nimport {\n  state,\n  kernel,\n  boot,\n  connectSwarm,\n  Peers,\n  Cooldowns,\n  Vibes,\n} from '../api'\nimport Timer from '../components/Timer.svelte'\nimport Portrait from '../components/PeerPortrait.svelte'\nimport Icon from '../components/Icon.svelte'\nconst cooldowns = Cooldowns()\nconst peers = Peers()\nconst vibes = Vibes()\n// Auto-connect to swarm-topic\nif (!$state.swarming) boot()\n  .catch(console.error.bind(null, 'Auto-connect failed'))\n\nfunction sendVibe (pk) {\n  kernel.sendVibe(pk)\n    .catch(err => console.error('Failed sending vibe', err))\n}\n</script>\n<pub-view>\n  <h1>PubName</h1>\n  <p>\n    Pub description occupying a couple of lines\n  </p>\n  <h6>Peers {$peers.length}</h6>\n  <peers class=\"column xcenter\">\n  {#each $peers as peer}\n    <Portrait peer={peer}>\n      <div class=\"flex row space-between\">\n        <p class=\"hpad\">\n          {peer.tagline}\n        </p>\n        <div>\n          {#if !!$vibes.find(v => v.peerId?.equals(peer.pk)) }\n            <Timer expiresAt={$vibes.find(v => v.peerId?.equals(peer.pk)).expiresAt} format=\"mm:ss\" />\n          {:else}\n            <a role=\"button\" class=\"nofill\" on:click={() => sendVibe(peer.pk)}>\n              <Icon id=\"gfx-vibe\" />\n            </a>\n          {/if}\n        </div>\n      </div>\n    </Portrait>\n  {/each}\n  </peers>\n</pub-view>\n<style>\n</style>\n","/**\n * Compute the dimension of the crop area based on image size and aspect ratio\n * @param {number} imgWidth width of the src image in pixels\n * @param {number} imgHeight height of the src image in pixels\n * @param {number} aspect aspect ratio of the crop\n */\nexport function getCropSize(imgWidth, imgHeight, aspect) {\n  if (imgWidth >= imgHeight * aspect) {\n    return {\n      width: imgHeight * aspect,\n      height: imgHeight,\n    }\n  }\n  return {\n    width: imgWidth,\n    height: imgWidth / aspect,\n  }\n}\n\n/**\n * Ensure a new image position stays in the crop area.\n * @param {{x: number, y: number}} position new x/y position requested for the image\n * @param {{width: number, height: number}} imageSize width/height of the src image\n * @param {{width: number, height: number}} cropSize width/height of the crop area\n * @param {number} zoom zoom value\n * @returns {{x: number, y: number}}\n */\nexport function restrictPosition(position, imageSize, cropSize, zoom) {\n  return {\n    x: restrictPositionCoord(position.x, imageSize.width, cropSize.width, zoom),\n    y: restrictPositionCoord(position.y, imageSize.height, cropSize.height, zoom),\n  }\n}\n\nfunction restrictPositionCoord(position, imageSize, cropSize, zoom) {\n  const maxPosition = (imageSize * zoom) / 2 - cropSize / 2\n  return Math.min(maxPosition, Math.max(position, -maxPosition))\n}\n\nexport function getDistanceBetweenPoints(pointA, pointB) {\n  return Math.sqrt(Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2))\n}\n\n/**\n * Compute the output cropped area of the image in percentages and pixels.\n * x/y are the top-left coordinates on the src image\n * @param {{x: number, y number}} crop x/y position of the current center of the image\n * @param {{width: number, height: number, naturalWidth: number, naturelHeight: number}} imageSize width/height of the src image (default is size on the screen, natural is the original size)\n * @param {{width: number, height: number}} cropSize width/height of the crop area\n * @param {number} aspect aspect value\n * @param {number} zoom zoom value\n * @param {boolean} restrictPosition whether we should limit or not the cropped area\n */\nexport function computeCroppedArea(crop, imgSize, cropSize, aspect, zoom, restrictPosition = true) {\n  const limitAreaFn = restrictPosition ? limitArea : noOp\n  const croppedAreaPercentages = {\n    x: limitAreaFn(\n      100,\n      (((imgSize.width - cropSize.width / zoom) / 2 - crop.x / zoom) / imgSize.width) * 100\n    ),\n    y: limitAreaFn(\n      100,\n      (((imgSize.height - cropSize.height / zoom) / 2 - crop.y / zoom) / imgSize.height) * 100\n    ),\n    width: limitAreaFn(100, ((cropSize.width / imgSize.width) * 100) / zoom),\n    height: limitAreaFn(100, ((cropSize.height / imgSize.height) * 100) / zoom),\n  }\n\n  // we compute the pixels size naively\n  const widthInPixels = limitAreaFn(\n    imgSize.naturalWidth,\n    (croppedAreaPercentages.width * imgSize.naturalWidth) / 100,\n    true\n  )\n  const heightInPixels = limitAreaFn(\n    imgSize.naturalHeight,\n    (croppedAreaPercentages.height * imgSize.naturalHeight) / 100,\n    true\n  )\n  const isImgWiderThanHigh = imgSize.naturalWidth >= imgSize.naturalHeight * aspect\n\n  // then we ensure the width and height exactly match the aspect (to avoid rounding approximations)\n  // if the image is wider than high, when zoom is 0, the crop height will be equals to iamge height\n  // thus we want to compute the width from the height and aspect for accuracy.\n  // Otherwise, we compute the height from width and aspect.\n  const sizePixels = isImgWiderThanHigh\n    ? {\n        width: Math.round(heightInPixels * aspect),\n        height: heightInPixels,\n      }\n    : {\n        width: widthInPixels,\n        height: Math.round(widthInPixels / aspect),\n      }\n  const croppedAreaPixels = {\n    ...sizePixels,\n    x: limitAreaFn(\n      imgSize.naturalWidth - sizePixels.width,\n      (croppedAreaPercentages.x * imgSize.naturalWidth) / 100,\n      true\n    ),\n    y: limitAreaFn(\n      imgSize.naturalHeight - sizePixels.height,\n      (croppedAreaPercentages.y * imgSize.naturalHeight) / 100,\n      true\n    ),\n  }\n  return { croppedAreaPercentages, croppedAreaPixels }\n}\n\n/**\n * Ensure the returned value is between 0 and max\n * @param {number} max\n * @param {number} value\n * @param {boolean} shouldRound\n */\nfunction limitArea(max, value, shouldRound = false) {\n  const v = shouldRound ? Math.round(value) : value\n  return Math.min(max, Math.max(0, v))\n}\n\nfunction noOp(max, value) {\n  return value\n}\n\n/**\n * Return the point that is the center of point a and b\n * @param {{x: number, y: number}} a\n * @param {{x: number, y: number}} b\n */\nexport function getCenter(a, b) {\n  return {\n    x: (b.x + a.x) / 2,\n    y: (b.y + a.y) / 2,\n  }\n}\n","<script>\n  import { onMount, onDestroy, createEventDispatcher } from 'svelte'\n  import * as helpers from './helpers'\n\n  export let image\n  export let crop = { x: 0, y: 0 }\n  export let zoom = 1\n  export let aspect = 4 / 3\n  export let minZoom = 1\n  export let maxZoom = 3\n  export let cropSize = null\n  export let cropShape = 'rect'\n  export let showGrid = true\n  export let zoomSpeed = 1\n  export let crossOrigin = null\n  export let restrictPosition = true\n\n  let cropperSize = null\n  let imageSize = { width: 0, height: 0, naturalWidth: 0, naturalHeight: 0 }\n  let containerEl = null\n  let containerRect = null\n  let imgEl = null\n  let dragStartPosition = { x: 0, y: 0 }\n  let dragStartCrop = { x: 0, y: 0 }\n  let lastPinchDistance = 0\n  let rafDragTimeout = null\n  let rafZoomTimeout = null\n  let isDragging = false\n\n  let dispatch = createEventDispatcher()\n\n  onMount(() => {\n    // when rendered via SSR, the image can already be loaded and its onLoad callback will never be called\n    if (imgEl && imgEl.complete) {\n      onImgLoad()\n    }\n  })\n\n  onDestroy(() => {\n    dispatch = null\n  })\n\n  const onImgLoad = () => {\n    computeSizes()\n    emitCropData()\n  }\n\n  const getAspect = () => {\n    if (cropSize) {\n      return cropSize.width / cropSize.height\n    }\n    return aspect\n  }\n\n  const computeSizes = () => {\n    if (imgEl) {\n      imageSize = {\n        width: imgEl.width,\n        height: imgEl.height,\n        naturalWidth: imgEl.naturalWidth,\n        naturalHeight: imgEl.naturalHeight,\n      }\n      cropperSize = cropSize ? cropSize : helpers.getCropSize(imgEl.width, imgEl.height, aspect)\n    }\n    if (containerEl) {\n      containerRect = containerEl.getBoundingClientRect()\n    }\n  }\n\n  const getMousePoint = e => ({ x: Number(e.clientX), y: Number(e.clientY) })\n\n  const getTouchPoint = touch => ({\n    x: Number(touch.clientX),\n    y: Number(touch.clientY),\n  })\n\n  const onMouseDown = e => {\n    isDragging = true\n    onDragStart(getMousePoint(e))\n  }\n\n  const onMouseMove = e => {\n    if (!isDragging) {\n      return\n    }\n\n    onDrag(getMousePoint(e))\n  }\n\n  const onTouchStart = e => {\n    if (e.touches.length === 2) {\n      onPinchStart(e)\n    } else if (e.touches.length === 1) {\n      onDragStart(getTouchPoint(e.touches[0]))\n    }\n  }\n\n  const onTouchMove = e => {\n    isDragging = true\n    // Prevent whole page from scrolling on iOS.\n    if (e.touches.length === 2) {\n      onPinchMove(e)\n    } else if (e.touches.length === 1) {\n      onDrag(getTouchPoint(e.touches[0]))\n    }\n  }\n\n  const onDragStart = ({ x, y }) => {\n    dragStartPosition = { x, y }\n    dragStartCrop = { x: crop.x, y: crop.y }\n  }\n\n  const onDrag = ({ x, y }) => {\n    if (rafDragTimeout) window.cancelAnimationFrame(rafDragTimeout)\n\n    rafDragTimeout = window.requestAnimationFrame(() => {\n      if (x === undefined || y === undefined) return\n      const offsetX = x - dragStartPosition.x\n      const offsetY = y - dragStartPosition.y\n      const requestedPosition = {\n        x: dragStartCrop.x + offsetX,\n        y: dragStartCrop.y + offsetY,\n      }\n\n      crop = restrictPosition\n        ? helpers.restrictPosition(requestedPosition, imageSize, cropperSize, zoom)\n        : requestedPosition\n    })\n  }\n\n  const onDragStopped = () => {\n    isDragging = false\n    emitCropData()\n  }\n\n  const onPinchStart = e => {\n    const pointA = getTouchPoint(e.touches[0])\n    const pointB = getTouchPoint(e.touches[1])\n    lastPinchDistance = helpers.getDistanceBetweenPoints(pointA, pointB)\n    onDragStart(helpers.getCenter(pointA, pointB))\n  }\n\n  const onPinchMove = e => {\n    const pointA = getTouchPoint(e.touches[0])\n    const pointB = getTouchPoint(e.touches[1])\n    const center = helpers.getCenter(pointA, pointB)\n    onDrag(center)\n\n    if (rafZoomTimeout) window.cancelAnimationFrame(rafZoomTimeout)\n    rafZoomTimeout = window.requestAnimationFrame(() => {\n      const distance = helpers.getDistanceBetweenPoints(pointA, pointB)\n      const newZoom = zoom * (distance / lastPinchDistance)\n      setNewZoom(newZoom, center)\n      lastPinchDistance = distance\n    })\n  }\n\n  const onWheel = e => {\n    const point = getMousePoint(e)\n    const newZoom = zoom - (e.deltaY * zoomSpeed) / 200\n    setNewZoom(newZoom, point)\n  }\n\n  const getPointOnContainer = ({ x, y }) => {\n    if (!containerRect) {\n      throw new Error('The Cropper is not mounted')\n    }\n    return {\n      x: containerRect.width / 2 - (x - containerRect.left),\n      y: containerRect.height / 2 - (y - containerRect.top),\n    }\n  }\n\n  const getPointOnImage = ({ x, y }) => ({\n    x: (x + crop.x) / zoom,\n    y: (y + crop.y) / zoom,\n  })\n\n  const setNewZoom = (newZoom, point) => {\n    const zoomPoint = getPointOnContainer(point)\n    const zoomTarget = getPointOnImage(zoomPoint)\n    zoom = Math.min(maxZoom, Math.max(newZoom, minZoom))\n\n    const requestedPosition = {\n      x: zoomTarget.x * zoom - zoomPoint.x,\n      y: zoomTarget.y * zoom - zoomPoint.y,\n    }\n    crop = restrictPosition\n      ? helpers.restrictPosition(requestedPosition, imageSize, cropperSize, zoom)\n      : requestedPosition\n  }\n\n  const emitCropData = () => {\n    if (!cropperSize || cropperSize.width === 0) return\n    // this is to ensure the crop is correctly restricted after a zoom back (https://github.com/ricardo-ch/svelte-easy-crop/issues/6)\n    const position = restrictPosition\n      ? helpers.restrictPosition(crop, imageSize, cropperSize, zoom)\n      : crop\n    const { croppedAreaPercentages, croppedAreaPixels } = helpers.computeCroppedArea(\n      position,\n      imageSize,\n      cropperSize,\n      getAspect(),\n      zoom,\n      restrictPosition\n    )\n\n    dispatch('cropcomplete', {\n      percent: croppedAreaPercentages,\n      pixels: croppedAreaPixels,\n    })\n  }\n\n  // ------ Reactive statement ------\n  //when aspect changes, we reset the cropperSize\n  $: if (imgEl) {\n    cropperSize = cropSize ? cropSize : helpers.getCropSize(imgEl.width, imgEl.height, aspect)\n  }\n\n  // when zoom changes, we recompute the cropped area\n  $: zoom && emitCropData()\n</script>\n\n<svelte:window\n  on:resize={computeSizes}\n  on:mousemove={onMouseMove}\n  on:mouseup|capture={onDragStopped}\n  on:touchmove|nonpassive|preventDefault={onTouchMove}\n  on:touchend={onDragStopped}\n/>\n<div\n  class=\"container\"\n  bind:this={containerEl}\n  on:mousedown|preventDefault={onMouseDown}\n  on:touchstart|preventDefault={onTouchStart}\n  on:wheel|preventDefault={onWheel}\n  on:gesturestart|preventDefault\n  on:gesturechange|preventDefault\n  data-testid=\"container\"\n>\n  <img\n    bind:this={imgEl}\n    class=\"image\"\n    src={image}\n    on:load={onImgLoad}\n    alt=\"\"\n    style=\"transform: translate({crop.x}px, {crop.y}px) scale({zoom});\"\n    crossorigin={crossOrigin}\n  />\n  {#if cropperSize}\n    <div\n      class=\"cropperArea\"\n      class:round={cropShape === 'round'}\n      class:grid={showGrid}\n      style=\"width: {cropperSize.width}px; height: {cropperSize.height}px;\"\n      data-testid=\"cropper\"\n    />\n  {/if}\n</div>\n\n<style>\n  .container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    user-select: none;\n    touch-action: none;\n    cursor: move;\n  }\n\n  .image {\n    max-width: 100%;\n    max-height: 100%;\n    margin: auto;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    will-change: transform;\n  }\n\n  .cropperArea {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    box-shadow: 0 0 0 9999em;\n    box-sizing: border-box;\n    color: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    overflow: hidden;\n  }\n\n  .grid:before {\n    content: ' ';\n    box-sizing: border-box;\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 33.33%;\n    right: 33.33%;\n    border-top: 0;\n    border-bottom: 0;\n  }\n\n  .grid:after {\n    content: ' ';\n    box-sizing: border-box;\n    border: 1px solid rgba(255, 255, 255, 0.5);\n    position: absolute;\n    top: 33.33%;\n    bottom: 33.33%;\n    left: 0;\n    right: 0;\n    border-left: 0;\n    border-right: 0;\n  }\n\n  .round {\n    border-radius: 50%;\n  }\n</style>\n","<script>\nimport { onMount } from 'svelte'\nimport Cropper from 'svelte-easy-crop' // The guy who wrote this built a hammer without a shaft.\n// Other candidates\n// https://www.npmjs.com/package/svelte-imgcrop\nimport { writable } from 'svelte/store'\nimport { encodeImage, decodeImage } from '../api'\nexport let output\nlet canvasElement, ctx, imgElement\nconst cropURL = writable()\nlet files\nlet crop = { x: 0, y: 0 }\nlet zoom = 1\n$: if (files) {\n  const file = files[0]\n  preprocessFile(file).catch(console.error.bind(null, 'Preprocess failed'))\n}\n\nasync function setImage (url) {\n  return new Promise(resolve => {\n    imgElement.onload = () => {\n      if (imgElement.src === '') return\n      ctx.drawImage(imgElement, 0, 0, 300, 300)\n      imgElement.src = ''\n      resolve()\n    }\n    imgElement.src = url\n  })\n}\n\nasync function preprocessFile(file) {\n  let url\n  try {\n    url = URL.createObjectURL(file)\n    await setImage(url)\n    URL.revokeObjectURL(url)\n\n    const dataUrl = canvasElement.toDataURL('image/jpeg', 0.35)\n    const buf = encodeImage(dataUrl)\n    console.info(`DataURL: ${dataUrl.length}, Binary: ${buf.length}, compression: ${buf.length / dataUrl.length}`)\n    $output = buf\n    /*\n\t\tlet reader = new FileReader()\n\t\treader.onload = e => {\n\t\t\timage = e.target.result\n\t\t}\n\t\treader.readAsDataURL(imageFile)\n    */\n  } catch (e) {\n    // URL.revokeObjectURL(url)\n    throw e\n  }\n}\n\nfunction onCrop (ev) {\n  const { percent, pixels } = ev.detail\n  console.info('CropComplete', percent, pixels)\n  console.info('Crop', crop, 'Zoom', zoom)\n  // transform: translate(11.64px, 21.84px) scale(1.84);\n  // $doCrop = false\n  $output = false\n}\n\nonMount(() => {\n  ctx = canvasElement.getContext('2d')\n  ctx.fillStyle = 'gray'\n  ctx.fillRect(0, 0, 300, 300)\n  const unsub = output?.subscribe(blob => {\n    console.info('Redrawing preview due to change', blob?.length)\n    if (blob) {\n      // gonna have to tweak $profile and $peer neurons to provide object-urls\n      // also have to not load peer.picture blob into register memory.\n      // also have to use an interrupt to catch each incoming image and store\n      // to some separate store that allows createObjectURL api/reference\n      const url = decodeImage($output)\n      setImage(url)\n    }\n  })\n\n  return () => { // Destroy\n    unsub && unsub()\n  }\n})\n</script>\n<image-loader>\n  <input type=\"file\" bind:files accept=\"image/*\" id=\"picture\" name=\"picture\">\n  {#if false}\n    <button>done</button>\n    <Cropper\n      image={$cropURL}\n      aspect={1}\n      bind:crop bind:zoom\n      on:cropcomplete={onCrop}\n      showGrid={false}\n      />\n  {:else}\n    <div class=\"row center\">\n      <canvas bind:this={canvasElement} width=\"300\" height=\"300\"/>\n    </div>\n    <img bind:this={imgElement} alt=\"preview\" id=\"preview\" style=\"display:none\"/>\n  {/if}\n</image-loader>\n<style>\n  #preview {\n    width: 300px;\n    height: 300px;\n  }\n</style>\n","<script>\nimport { kernel, keychain, updateProfile, decodePk, purge, saveBackup } from '../api'\nimport { navigate } from '../router'\nimport { writable } from 'svelte/store'\nimport ImageLoader from '../components/ImageLoader.svelte'\nimport Icon from '../components/Icon.svelte'\nimport Dialog from '../components/Dialog.svelte'\nimport QRCode from '../components/QRCode.svelte'\n\nconst name = writable()\nconst tagline = writable()\nconst picture = writable()\nconst pk = writable()\nconst sk = writable()\nconst showKeyDialog = writable(false)\n\nasync function save () {\n  await updateProfile({\n    name: $name,\n    tagline: $tagline,\n    age: 99,\n    sex: 0,\n    picture: $picture\n  })\n}\n\nasync function load () {\n  const p = await keychain.readProfile()\n  if (!p) return\n  $name = p.name\n  $tagline = p.tagline\n  $picture = p.picture\n  $sk = await keychain.readIdentity()\n  $pk = $sk.slice(32)\n  return p\n}\n\nlet _loading = load()\n</script>\n<profile-view>\n  <div class=\"row space-between xstart\">\n    <h1>Profile</h1>\n    <div class=\"row\">\n      <h2 on:click={() => $showKeyDialog = true}>\n        <Icon id=\"icon-qr\" />\n      </h2>\n      <h2 on:click={() => navigate('/about')}>\n        <Icon id=\"icon-info\" />\n      </h2>\n    </div>\n  </div>\n  <label for=\"name\">\n    <h5>name</h5>\n    <input type=\"text\" bind:value={$name} placeholder=\"You got a street name?\" id=\"name\" name=\"name\">\n  </label>\n\n  <label for=\"file\">\n    <h5>picture</h5>\n    <ImageLoader output={picture} />\n    <small class=\"block text-center\">{$picture?.length} B</small>\n    <!--<img src={$pictureURI} alt=\"profile picture preview\"/>-->\n  </label>\n\n  <label for=\"tagline\">\n    <h5>spark</h5>\n    <input type=\"text\" bind:value={$tagline} placeholder=\"what's on your mind?\" id=\"tagline\" name=\"tagline\">\n  </label>\n  {#await _loading}\n    Loading...\n  {:then}\n  <button on:click={() => _loading = save()}>save</button>\n  {:catch error}\n    <danger>Loading profile failed {error.message}</danger>\n    <pre>{error.stack}</pre>\n  {/await}\n\n  {#if $showKeyDialog}\n    <Dialog open={true} on:fade={() => $showKeyDialog = false}>\n      <article>\n        <header><h5>IDSQR</h5></header>\n        <div class=\"column xcenter\">\n          {#if $pk}\n            <ul>\n              <li>Gender: {['F', 'M', 'NB'][decodePk($pk).sex]}</li>\n              <li>Location: {decodePk($pk).geohash}</li>\n            </ul>\n          {/if}\n          <div class=\"vpad\">\n            <QRCode data={pk} size={6}/>\n          </div>\n          <p>\n            This is your cryptographic identity.\n            <br/>\n            Let your friends scan your code\n            but keep the backed up image safe.\n          </p>\n        </div>\n        <footer>\n          <div class=\"row space-between\">\n            <a role=\"button\" on:click={() => purge(true)}>purge</a>\n            <a role=\"button\" on:click={saveBackup}>backup</a>\n            <a role=\"button\" on:click={() => $showKeyDialog = false}>close</a>\n          </div>\n        </footer>\n      </article>\n    </Dialog>\n  {/if}\n</profile-view>\n","<script>\nimport inventory from '../inventory.yaml'\n</script>\n<shop-view data-theme=\"dark\">\n    <splash class=\"column xcenter\">\n      <img src=\"/gfx/shop.jpg\" alt=\"The Bar\"/>\n    </splash>\n    <h1 class=\"text-center\">Drinks</h1>\n    <drinks>\n      {#each inventory.drinks as drink}\n        <item class=\"drink row xcenter\">\n          <iimage>img</iimage>\n          <description class=\"column xstart grow2 space-between\">\n            <h3>{drink.name}</h3>\n            <h6>\n              {drink.time} min\n              {#if drink.mod}\n                | {drink.mod}\n              {/if}\n            </h6>\n            <short>{drink.short}</short>\n          </description>\n          <buy class=\"column center\">\n            <button>{drink.price}</button>\n          </buy>\n        </item>\n      {/each}\n    </drinks>\n    <h1 class=\"text-center\">Gear</h1>\n</shop-view>\n<style>\n  splash { margin-bottom: -3em; }\n  item {\n    border-bottom: 1px solid var(--slate);\n    margin-bottom: 7px;\n    padding-bottom: 7px;\n  }\n  drinks item:last-child { border-bottom: none; }\n\n  item iimage {\n    display: block;\n    width: 50px;\n    height: 50px;\n    border: 1px solid var(--slate);\n  }\n  item description {\n    line-height: 1em;\n  }\n  item description h3, item description h6, item description short { margin: 3px; }\n  item buy button {\n    margin: 0;\n    padding: 4px 1em;\n  }\n  item description short { color: var(--h6-color); }\n  item description h6 { color: var(--muted-color); }\n</style>\n\n","<script>\n// TODO: rewrite this component using canvas or interactive svg?\nimport { readable } from 'svelte/store'\nimport BinaryImage from '../components/BinaryImage.svelte'\nexport let vibe\nconst VIBE_TTL = vibe.expiresAt - vibe.createdAt // 5mins\n\nconst progress = readable(1, set => {\n  const id = setInterval(() => {\n    const left = vibe.expiresAt - Date.now()\n    if (left <= 0) {\n      set(0)\n      clearInterval(id)\n    } else set(left / VIBE_TTL)\n  }, 1000)\n  return () => clearInterval(id)\n})\n\n</script>\n<vibe>\n  <tint style={`width: ${$progress * 100}px;`}>&nbsp;</tint>\n  <portrait><BinaryImage src={vibe.peer.picture}/></portrait>\n</vibe>\n<style>\nvibe tint {\n  z-index: 3;\n  display: block;\n  position: absolute;\n  background-color: var(--wizardry);\n  opacity: 0.5;\n  height: 100px;\n}\nvibe {\n  --size: 100px;\n  display: inline-block;\n  width: var(--size);\n  height: var(--size);\n  border: 4px solid var(--background-color);\n  border-radius: 100%;\n  overflow: hidden;\n  box-shadow: var(--card-box-shadow);\n}\nvibe portrait {\n  z-index: 2;\n  display: block;\n  position: relative;\n}\n</style>\n","<script>\nimport { writable } from 'svelte/store'\nimport PendingVibe from '../components/PendingVibe.svelte'\nimport PeerPortrait from '../components/PeerPortrait.svelte'\nimport Timer from '../components/Timer.svelte'\nimport Dialog from '../components/Dialog.svelte'\nimport Icon from '../components/Icon.svelte'\nimport BinaryImage from '../components/BinaryImage.svelte'\nimport {\n  kernel,\n  Vibes,\n  Chats\n} from '../api'\nimport { navigate } from '../router'\nconst chats = Chats()\nconst vibes = Vibes()\nconst vibeDetail = writable(null)\nfunction respondVibe (chatId, rejected) {\n  kernel.respondVibe(chatId, rejected)\n    .then(() => { $vibeDetail = null })\n    .catch(err => console.error('Vibe response failed', err))\n}\n</script>\n<messages-view>\n  <h1>Peers</h1>\n  <h5>Vibes</h5>\n  <vibes class=\"row xcenter\">\n  {#each $vibes as vibe}\n    {#if vibe.state !== 'match'}\n    <div on:click={() => $vibeDetail = vibe}>\n      <PendingVibe vibe={vibe}/>\n    </div>\n    {/if}\n  {/each}\n  </vibes>\n  <h5>Conversations</h5>\n  <conversations>\n  {#each $chats as chat}\n    <chat class=\"row space-between\"\n      on:click={() => navigate('/chat/' + chat.id.toString('hex'))}>\n      <div class=\"row xcenter\">\n        <BinaryImage src={chat.peer.picture} size=\"80px\"/>\n        <div class=\"columns space-between gap\">\n          <h3 class=\"no-margin\">{chat.peer.name}</h3>\n          <h6 class=\"no-margin\">{chat.myTurn ? 'your turn' : 'waiting'}</h6>\n        </div>\n      </div>\n      <div class=\"columns xcenter gap\">\n        <health>\n          <Icon id=\"heal_resp\" tag=\"full\" />\n          <Icon id=\"heal_resp\" tag=\"full\" />\n          <Icon id=\"heal_resp\" tag=\"full\" />\n        </health>\n        <h3 class=\"no-margin\"><Timer expiresAt={chat.expiresAt} format=\"mm:ss\" /></h3>\n      </div>\n    </chat>\n  {/each}\n  </conversations>\n  {#if $vibeDetail}\n  <Dialog open={true} on:fade={() => $vibeDetail = null}>\n    <PeerPortrait peer={$vibeDetail.peer}>\n      <p>{$vibeDetail.peer.tagline}</p>\n      <h6 class=\"text-center no-margin\">Vibe Expires in</h6>\n      <h2 class=\"text-center timer\"><Timer expiresAt={$vibeDetail.expiresAt} format=\"mm:ss\"/></h2>\n      <div class=\"text-center\">\n        <a role=\"button\" class=\"reject\" on:click={() => respondVibe($vibeDetail.id, true)}>reject</a>\n        <a role=\"button\" class=\"accept\" on:click={() => respondVibe($vibeDetail.id)}>accept</a>\n      </div>\n      <br/>\n    </PeerPortrait>\n  </Dialog>\n  {/if}\n</messages-view>\n<style>\n.reject { color: var(--blood); }\n.accept { color: var(--wizardry); }\n.timer { margin-top: 0; margin-bottom: 0.5em; }\nchat { border-bottom: 1px solid var(--ash); }\n</style>\n","<script>\nimport { afterUpdate } from 'svelte'\nimport { writable, derived } from 'svelte/store'\nimport { Chat } from '../api'\nimport BinaryImage from '../components/BinaryImage.svelte'\nimport Icon from '../components/Icon.svelte'\nimport Timer from '../components/Timer.svelte'\n\nexport let id\n\nlet messagesElement\nlet inputElement\nconst chat = Chat(id, 'Chat')\nconst showInput = writable(false)\nconst line = writable('')\n\n// Auto-bye\n$: if ($chat.state === 'finalizing' && $chat.myTurn) end()\n\nconst health = derived(chat, c =>\n  Array.from(new Array(3)).map((_, n) => n < c.health)\n)\n\n// Auto-scroll\nafterUpdate(() => {\n  messagesElement.scrollTo({\n    top: messagesElement.scrollHeight,\n    left: 0,\n    behaviour: 'smooth'\n  })\n  if ($showInput) inputElement.focus()\n})\n\nfunction sendMessage () {\n  $chat.send($line.trim())\n    .then(() => {\n      console.info('Message published')\n      $line = ''\n      $showInput = false\n    })\n    .catch(err => console.error('Failed publishing Message', err))\n}\n\nfunction end (gesture = 0) {\n  $chat.bye(gesture)\n    .then(() => console.info('Bye published'))\n    .catch(err => console.error('Failed publishing Bye', err))\n}\n\nfunction pass () {\n  $chat.pass()\n    .then(() => console.info('Pass published'))\n    .catch(err => console.error('Failed publishing Pass', err))\n}\n\nfunction onKeyPress ({ charCode }) {\n  switch (charCode) {\n    case 13:\n      sendMessage()\n      break\n    default:\n      break\n  }\n}\n</script>\n<chat class:player1={$chat.initiator} class:player2={!$chat.initiator}>\n  <header class=\"row space-between nogap\">\n    <div class=\"row\">\n      {#if $chat.peer}\n        <portrait><BinaryImage src={$chat.peer.picture} size=\"70px\" /></portrait>\n        <h1 class=\"hgap\">{$chat.peer.name}</h1>\n      {:else}\n        <placeholder aria-busy=\"true\">&nbsp;</placeholder>\n      {/if}\n    </div>\n    <div class=\"column xend\">\n      <health>\n        {#each $health as heart}\n          {#if heart}\n            <Icon id=\"heal_resp\" tag=\"full\" />\n          {:else}\n            <Icon id=\"heal_resp\" tag=\"empty\" />\n          {/if}\n        {/each}\n      </health>\n      <h3><Timer expiresAt={$chat.expiresAt} format=\"mm:ss\" /></h3>\n    </div>\n  </header>\n  <messages bind:this={messagesElement}\n    class=\"nogap\">\n    {#each $chat.messages as message}\n      <msg\n        class=\"row xcenter\"\n        class:start={message.type === 'received'}\n        class:remote={message.type === 'received'}\n        class:local={message.type === 'sent'}\n        class:end={message.type === 'sent'}>\n        {#if message.pass}\n          <sym class=\"hgap\">\n            {#if ($chat.initiator && message.type === 'sent') ||\n                (!$chat.initiator && message.type === 'received')\n            }\n              <samp>PASS</samp>\n              <Icon id=\"pass_resp\" tag=\"p1\" />\n            {:else}\n              <Icon id=\"pass_resp\" tag=\"p2\" />\n              <samp>PASS</samp>\n            {/if}\n          </sym>\n        {:else}\n          <txt>{message.content}</txt>\n        {/if}\n      </msg>\n    {/each}\n  </messages>\n\n  {#if $chat.state === 'active'}\n    <h2 class=\"text-center nogap\">\n        {#if $chat.myTurn}\n          Your turn\n        {:else}\n          Waiting\n        {/if}\n    </h2>\n    <div class=\"row space-between\">\n      {#if !$showInput}\n      <button class=\"hgap\" disabled={!$chat.myTurn}\n        on:click={end.bind(null, 0)}>end</button>\n\n      <button class=\"hgap\"\n        disabled={!$chat.myTurn}\n        on:click={() => $showInput = true}>\n        msg\n      </button>\n\n      <button class=\"hgap\" disabled={!$chat.myTurn}\n        on:click={pass}>\n        pass\n      </button>\n      {:else}\n        <input bind:this={inputElement}\n          class=\"line\"\n          bind:value={$line}\n          on:keypress={onKeyPress}\n          on:blur={() => $showInput = !!$line.length} />\n      {/if}\n    </div>\n  {:else if $chat.state === 'end'}\n    <h1 class=\"text-center nogap\">\n      {#if $chat.messages % 2} <!-- ended by responder -->\n        <Icon id=\"bye_resp\" tag=\"p2\" /><Icon id=\"bye_res_init\" tag=\"p1\" />\n      {:else} <!-- ended by initator -->\n        <Icon id=\"bye_init\" tag=\"p1\" /><Icon id=\"bye_res_resp\" tag=\"p2\" />\n      {/if}\n    </h1>\n    <h2 class=\"text-center nogap\">Conversion ended</h2>\n  {:else}\n    <h2 class=\"text-center nogap\">{$chat.state}</h2>\n  {/if}\n</chat>\n<style>\nheader h1, header h2, header h3 { margin-bottom: unset; }\nportrait {\n  border-radius: 4px;\n  overflow: hidden;\n  height: 70px;\n  width: 70px;\n  box-shadow: var(--card-box-shadow);\n}\nmessages {\n  display: block;\n  height: 70vh;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n/* Common */\nmsg txt {\n  border-radius: 2em;\n  display: inline-block;\n  padding: 0.2em 1.5em;\n  max-width: 65%;\n  margin-bottom: 0.4em;\n}\n/* White */\n.player1 msg.local txt, .player2 msg.remote txt {\n  color: var(--p2fg);\n  background-color: var(--p1fg);\n  border: 2px solid var(--p2fg);\n}\n/* Black */\n.player1 msg.remote txt, .player2 msg.local txt {\n  color: var(--p1fg);\n  background-color: var(--p2fg);\n  border: 2px solid var(--p1fg);\n}\nmsg sym { font-size: x-large; }\n</style>\n","<script>\nimport Icon from '../components/Icon.svelte'\n</script>\n<about>\n  <div class=\"column xcenter vgap\">\n    <logo>\n      <Icon id=\"dl-logo-red\" />\n    </logo>\n  </div>\n  <h1>Picochat <samp>2.x</samp></h1>\n  <p>\n    Where ever we're going, we'll get there eventually.\n    Meanwhile, come say hi!\n  <ul>\n    <li><a href=\"https://discord.gg/K5XjmZx\">Discord (community chat)</a></li>\n    <li><a href=\"https://github.com/telamon/picochat/issues\">Questions &amp; Support</a></li>\n    <li><a href=\"https://github.com/telamon/picochat\">Source code</a></li>\n  </ul>\n\n  <h5>Legalities</h5>\n  <table>\n    <tdata>\n      <tr><td>Cookies</td><td>none, zilch, zero</td></tr>\n      <tr><td>GDPR</td><td>All blocks are automatically erased when timers hit <code>00:00</code></td></tr>\n      <tr><td>User</td><td>We have absolutley no control over p2p interactions, apply common sense, be polite</td></tr>\n      <tr><td>License</td><td>GNU AGPL version 3</td></tr>\n      <tr><td>Motto</td><td>No servers, no supernodes, liberate humans and machines alike</td></tr>\n    </tdata>\n  </table>\n  <p>\n    <sub>Bottom line</sub><br/>\n    <samp>\n      This software is presented to you as is,\n      Decent Labs AB takes no responsibility for how this software is used or distributed.\n      <br/>\n      Refer to the contents of the aforementioned license for more details.\n    </samp>\n  </p>\n</about>\n<style>\n  ul a { color: var(--pool); }\n  ul li { list-style: circle; }\n</style>\n","import { writable, gate, mute } from '../blockend/nuro'\nimport { svlt } from './api'\n\n// Import Views\nimport Keygen from './views/Keygen.svelte'\nimport Pub from './views/Pub.svelte'\nimport Profile from './views/Profile.svelte'\nimport Shop from './views/Shop.svelte'\nimport Messages from './views/Messages.svelte'\nimport Chat from './views/Chat.svelte'\nimport About from './views/About.svelte'\n\nconst [$name, setName] = writable()\nconst [$id, setId] = writable()\n// map name to component\nconst $view = gate(mute($name, name => {\n  switch (name) {\n    case 'pub': return Pub\n    case 'shop': return Shop\n    case 'msgs': return Messages\n    case 'profile': return Profile\n    case 'chat': return Chat\n    case 'about': return About\n    case 'keygen': default: return Keygen\n  }\n}))\n\n// -----------------------------------------\n// Internal router code\n// (just pretend it's not here)\n// ----------------------------------------\nexport const routeName = svlt($name)\nexport const view = svlt($view)\nexport const id = svlt($id)\n\nlet current = null\nexport function setView (path, id) {\n  if (current && path === current) return false\n  current = path\n  // console.info('Rerouting to path:', path, 'id:', id)\n  setName(path)\n  setId(id)\n}\nfunction apply () {\n  const [path, id] = window.location.hash.replace(/^#\\/?/, '').toLowerCase().split('/')\n  setView(path, id)\n}\nexport function navigate (path) {\n  window.history.pushState(null, null, `/#${path}`.replace(/^#\\/+/, '#/'))\n  apply()\n}\nwindow.addEventListener('popstate', apply)\napply()\n","<script>\nimport { writable } from 'svelte/store'\nimport debug from 'debug'\nimport Dialog from './Dialog.svelte'\nexport let open = null ?? writable(false)\n// patterns.map(name => ({ name, enabled: debug.enabled(name) }))\nconst patterns = [\n  '*',\n  'hyper*',\n  'pico*',\n  'picochat:kernel',\n  'picochat:mod:*',\n  'picochat:mod:net',\n  'picochat:mod:gc',\n  'picochat:mod:reg',\n  'picochat:slice*'\n]\nconst namespaces = writable(debug.namespaces)\n\nfunction set (value) {\n  if (value === '') {\n    debug.disable()\n    $namespaces = ''\n  } else {\n    debug.enable(value)\n    $namespaces = debug.namespaces\n  }\n}\n\n</script>\n<Dialog open={$open} on:fade={() => $open = false}>\n  <article>\n    <h6>namespaces</h6>\n    <input type=\"text\" bind:value={$namespaces} />\n    <h6>quickfilters</h6>\n    <div><a on:click={() => set('')}><code>DEBUG:OFF</code></a></div>\n    {#each patterns as pattern}\n      <div>\n        <a on:click={() => set(pattern)}><code>{pattern}</code></a>\n      </div>\n    {/each}\n    <footer>\n      <!--\n      <a href=\"#cancel\" role=\"button\" class=\"secondary\" on:click={() => $open = false}>Cancel</a>\n      <a href=\"#confirm\" role=\"button\" on:click={() => $open = false}>Confirm</a>\n      -->\n      <button on:click={() => $open = false}>ok</button>\n    </footer>\n  </article>\n</Dialog>\n<style>\n</style>\n","<script>\nimport { onMount } from 'svelte'\nimport { writable, derived } from 'svelte/store'\nimport { view, id, setView, navigate, routeName } from './router'\nimport {\n  boot,\n  enter,\n  state,\n  kernel,\n  Connections,\n  Profile,\n  profilePicture,\n  NotificationsCount,\n  purge\n} from './api'\nimport Icon from './components/Icon.svelte'\nimport Timer from './components/Timer.svelte'\nimport BinaryImage from './components/BinaryImage.svelte'\nimport DebugSelector from './components/DebugSelector.svelte'\nconst _loading = boot()\nconst conn = Connections()\nconst showBar = derived(state, s => s.hasKey)\nconst showDev = writable(true)\nconst showDebugSelector = writable(false)\nconst nCount = NotificationsCount()\nconst profile = Profile()\n\nasync function inspectFeed () {\n  const feed = await kernel.feed()\n  feed.inspect()\n  console.log(`Size: ${(feed.tail / 1024).toFixed(2)} kB`, )\n}\nasync function reloadStores () {\n  await kernel.store.reload()\n  console.info('Internal cache`s cleared')\n}\n\nfunction toggleTheme () {\n  const htmlTag = document.documentElement\n  if(htmlTag.dataset.theme) delete htmlTag.dataset.theme\n  else htmlTag.dataset.theme = 'dark'\n}\n\nfunction enterPub () {\n  enter()\n}\n\nconst autoSwarm = JSON.parse(window.localStorage.getItem('auto_swarm'))\nfunction toggleAutoConnect() {\n  window.localStorage.setItem('auto_swarm', !autoSwarm)\n  window.location.reload()\n}\nfunction globReject (error) {\n  console.error('[Unhandled Rejection]', error)\n}\nfunction globError (error) {\n  console.error('[GlobError]', error)\n}\n\n// Scroll top on route change\nonMount(() =>\n  view.subscribe(() => {\n    window.document.scrollingElement.scrollTo({ top: 0, left: 0})\n  })\n)\n</script>\n\n<root class={'view-' + $routeName}>\n  {#if $showDev}\n  <!-- Developer bar -->\n  <dev-bar class=\"flex row xcenter space-between\">\n    <div >\n      K[{$state?.state[0]}]\n      ID²[{$state.hasKey ? 1 : 0}]\n      P[{$state.hasProfile ? 1 : 0}]\n      m56[{$conn}]\n      E[{$state.entered ? 1 : 0}]\n    </div>\n    <div>\n      <!--\n        sometimes you just need to\n        let yourself have some fun.\n        Say hello to modem-kun!\n      -->\n      <btn on:click={toggleAutoConnect} class={autoSwarm ? 'm56 auto' : 'm56 no-auto'}>\n        {#if !$state.swarming}\n          |=_=|\n        {:else if !$conn}\n          |o_=|\n        {:else if 2 > $conn}\n          |o_o|\n        {:else}\n          |ó_ó|\n        {/if}\n      </btn>\n      <btn on:click={() => $showDebugSelector = true}>D</btn>\n      <btn on:click={toggleTheme}>t</btn>\n      <btn on:click={inspectFeed}>i</btn>\n      <btn class=\"danger\" on:click={() => purge(false)}>X</btn>\n    </div>\n  </dev-bar>\n  <DebugSelector open={showDebugSelector}/>\n  {/if}\n\n  <!-- Main container -->\n  <main class={`container ${$showDev && 'has-dev'} ${$showBar && 'has-bar'}`}>\n    {#await _loading}\n      <div class=\"column center xcenter\" style=\"height: 100%\">\n        <h5 aria-busy=\"true\">Booting up...</h5>\n      </div>\n    {:then}\n      {#if $id}\n        <svelte:component this={$view} id={$id} />\n      {:else}\n        <svelte:component this={$view} />\n      {/if}\n    {:catch err}\n      <h3>KernelPanic! {err.message}</h3>\n      <pre>{err.stack}</pre>\n    {/await}\n  </main>\n  {#if $showBar}\n  <!-- Bottom bar with phat buttons -->\n  <bar class=\"flex row xcenter space-between\">\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('pub')}>\n      <Icon id=\"gfx-vibe\" nofill/>\n    </round>\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('shop')}>\n      <Icon id=\"gfx-shop\" nofill/>\n    </round>\n    {#if !$state.entered}\n      <stat class=\"flex column center xcenter outside noselect\" on:click={enterPub}>\n        <h3 class=\"muted\">--:--</h3>\n        <h6 class=\"primary\">enter</h6>\n      </stat>\n    {:else}\n      <stat class=\"flex column center xcenter inside noselect\">\n        <h3 class=\"primary\"><Timer expiresAt={$profile.expiresAt} /></h3>\n        <h6 class=\"muted\">exit</h6>\n      </stat>\n    {/if}\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('msgs')}>\n      <Icon id=\"gfx-msgs\" nofill/>\n      <samp class=\"notifications-badge\" class:zero={!$nCount}>{$nCount}</samp>\n      <!-- TODO: read/unread messages tracking not yet implemented -->\n    </round>\n    <round class=\"flex column center xcenter noselect\" on:click={() => navigate('profile')}>\n      {#if !$profilePicture}\n        <Icon id=\"gfx-profile\" nofill/>\n      {:else}\n        <BinaryImage src={$profilePicture} />\n      {/if}\n    </round>\n  </bar>\n  {/if}\n</root>\n<svelte:window on:error={globError} on:unhandledrejection={globReject} />\n<style>\n.m56 { padding: 0; }\n.m56.no-auto { background-color: var(--grave); }\n\nstat.outside h3 { color: var(--muted-color); }\nstat.outside h6 { color: var(--ash); }\nstat.inside h3 { color: var(--ash); }\nstat.inside h6 { color: var(--muted-color); }\n</style>\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=s()}(this,(function(){\"use strict\";var t,s,n=1e3,i=6e4,e=36e5,r=864e5,o=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2592e6,a=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:r,hours:e,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof p},f=function(t,s,n){return new p(t,n,s.$l)},m=function(t){return s.p(t)+\"s\"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},y=function(t){return Math.abs(t)},g=function(t,s){return t?l(t)?{negative:!0,format:\"\"+y(t)+s}:{negative:!1,format:\"\"+t+s}:{negative:!1,format:\"\"}},p=function(){function l(t,s,n){var i=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach((function(s){i.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if(\"string\"==typeof t){var e=t.match(a);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var y=l.prototype;return y.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,n){return s+(t.$d[n]||0)*d[n]}),0)},y.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/u),t%=u,this.$d.months=$(t/h),t%=h,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/i),t%=i,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},y.toISOString=function(){var t=g(this.$d.years,\"Y\"),s=g(this.$d.months,\"M\"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=g(n,\"D\"),e=g(this.$d.hours,\"H\"),r=g(this.$d.minutes,\"M\"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,\"S\"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?\"T\":\"\",d=(h?\"-\":\"\")+\"P\"+t.format+s.format+i.format+a+e.format+r.format+u.format;return\"P\"===d||\"-P\"===d?\"P0D\":d},y.toJSON=function(){return this.toISOString()},y.format=function(t){var n=t||\"YYYY-MM-DDTHH:mm:ss\",i={Y:this.$d.years,YY:s.s(this.$d.years,2,\"0\"),YYYY:s.s(this.$d.years,4,\"0\"),M:this.$d.months,MM:s.s(this.$d.months,2,\"0\"),D:this.$d.days,DD:s.s(this.$d.days,2,\"0\"),H:this.$d.hours,HH:s.s(this.$d.hours,2,\"0\"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,\"0\"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,\"0\"),SSS:s.s(this.$d.milliseconds,3,\"0\")};return n.replace(o,(function(t,s){return s||String(i[t])}))},y.as=function(t){return this.$ms/d[m(t)]},y.get=function(t){var s=this.$ms,n=m(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?$(s/d[n]):this.$d[n],0===s?0:s},y.add=function(t,s,n){var i;return i=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},y.subtract=function(t,s){return this.add(t,s,!0)},y.locale=function(t){var s=this.clone();return s.$l=t,s},y.clone=function(){return f(this.$ms,this)},y.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},y.milliseconds=function(){return this.get(\"milliseconds\")},y.asMilliseconds=function(){return this.as(\"milliseconds\")},y.seconds=function(){return this.get(\"seconds\")},y.asSeconds=function(){return this.as(\"seconds\")},y.minutes=function(){return this.get(\"minutes\")},y.asMinutes=function(){return this.as(\"minutes\")},y.hours=function(){return this.get(\"hours\")},y.asHours=function(){return this.as(\"hours\")},y.days=function(){return this.get(\"days\")},y.asDays=function(){return this.as(\"days\")},y.weeks=function(){return this.get(\"weeks\")},y.asWeeks=function(){return this.as(\"weeks\")},y.months=function(){return this.get(\"months\")},y.asMonths=function(){return this.as(\"months\")},y.years=function(){return this.get(\"years\")},y.asYears=function(){return this.as(\"years\")},l}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return f(t,{$l:n},s)},e.isDuration=c;var r=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,s)},i.prototype.subtract=function(t,s){return c(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}));","import '@picocss/pico'\nimport 'picoflex'\nimport './icons'\nimport './router'\nimport App from './App.svelte'\nimport dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\ndayjs.extend(duration)\n\nconst app = new App({\n  target: document.body,\n  props: { }\n})\n\nexport default app\n"],"names":["ERROR","Symbol","for","module","get","neuron","value","v","next","async","n","inspect","nfo","iter","until","condition","timeout","set","setErr","result","Promise","resolve","reject","timerId","setTimeout","Error","unsub","clearTimeout","finally","write","writable","notEqual","notEqualDeep","memo","synapses","Set","disconnect","syn","add","spreadForward","delete","length","mute","fn","prev","input","output","then","catch","err","console","error","init","disconnected","fired","clone","when","promise","combine","neurons","Array","isArray","props","m","prop","push","loaded","values","remaining","i","handler","bind","val","reduce","isSync","ms","aFired","unlock","mutex","tid","_isSync","ii","gate","shallow","check","first","dirty","settle","debounceMs","risingEdge","__nfoCtr","name","exports","V","ni","pn","nlog","info","s","log","p","padStart","o","a","b","find","kA","Object","keys","kBl","subs","notify","subcriber","nValues","rQue","pQue","oneMore","r","shift","from","map","_","bg","fg","b64","lens","getLens","validLen","placeHoldersLen","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","Uint8Array","code","indexOf","start","end","num","buffer","offset","isLE","mLen","nBytes","e","eLen","eMax","eBias","nBits","d","NaN","Infinity","Math","pow","c","rt","abs","isNaN","floor","LN2","base64","require$$0","ieee754","require$$1","customInspectSymbol","Buffer","alloc","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","prototype","arg","encodingOrOffset","TypeError","allocUnsafe","string","encoding","isEncoding","byteLength","actual","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","isBuffer","checked","undefined","numberIsNaN","type","data","fromObject","toPrimitive","assertSize","size","array","toString","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","x","y","concat","list","pos","swap16","swap32","swap64","toLocaleString","equals","max","INSPECT_MAX_BYTES","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","constructor","super","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","split","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","emitter","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","once","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","create","newListener","emit","unshift","warned","w","count","warn","onceWrapper","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","position","originalListener","index","pop","spliceOne","off","removeAllListeners","key","rawListeners","eventNames","cachedSetTimeout","cachedClearTimeout","process","browserModule","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","binding","cwd","chdir","umask","shams","iterator","symObj","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","hasSymbols","toStringTag","origSymbol","hasSymbolSham","ERROR_MESSAGE","toStr","funcType","implementation","bound","binder","boundLength","boundArgs","Empty","functionBind","hasOwnProperty","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","__proto__","needsEval","TypedArray","INTRINSICS","AggregateError","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","JSON","Map","parseFloat","Proxy","ReferenceError","RegExp","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","hasOwn","require$$2","$concat","$spliceApply","splice","$replace","$strSlice","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","getBaseIntrinsic","allowMissing","alias","intrinsicName","getIntrinsic","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","isOwn","part","desc","GetIntrinsic","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","func","applyBind","callBind","$indexOf","callBound","hasToStringTag","$toString","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","GeneratorFunction","isArguments","fnToStr","isFnRegex","isGeneratorFunction","test","generatorFunc","getGeneratorFunc","foreach","ctx","l","k","possibleNames","g","globalThis","global","availableTypedArrays","forEach","require$$3","typedArrays","$slice","toStrTags","gOPD","require$$4","typedArray","superProto","isTypedArray","tag","anyTrue","getter","tryTypedArrays","require$$5","whichTypedArray","foundName","isArgumentsObject","uncurryThis","f","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","SharedArrayBufferCopy","isSharedArrayBufferToString","isSharedArrayBuffer","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","method","isBufferBrowser","inherits_browserModule","ctor","superCtor","super_","TempCtor","getOwnPropertyDescriptors","descriptors","formatRegExp","isString","objects","stringify","isNull","isObject","noDeprecation","deprecate","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","toUpperCase","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","primitive","simple","isNumber","formatPrimitive","visibleKeys","hash","idx","arrayToHash","isError","formatError","isRegExp","isDate","base","braces","toUTCString","formatProperty","formatArray","cur","reduceToSingleString","line","ar","re","objectToString","pad","pid","format","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","date","regexp","types","isNativeError","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","cb","newReason","original","promiseResolve","promiseReject","defineProperties","promisify","custom","callbackified","maybeCb","self","rej","levelSupports","manifests","manifest","acc","assign","bufferKeys","snapshots","permanence","seek","clear","getMany","keyIterator","valueIterator","iteratorNextv","iteratorAll","status","idempotentOpen","passiveOpen","serialize","createIfMissing","errorIfExists","deferredOpen","openCallback","promises","streams","encodings","maybeObject","additionalMethods","queueTick","queueMicrotask","callback","symbol","queueMicrotask_1","window","nextTickBrowser","AbstractIterator","db","_ended","_nexting","_nextTick","_next","rest","_serializeKey","_seek","_end","asyncIterator","kv","abstractIterator","emptyOptions","freeze","AbstractChainedBatch","_operations","_written","_checkWritten","put","options","_checkKey","_checkValue","_serializeValue","_put","del","_del","_clear","_write","_batch","abstractChainedBatch","supports","catering","getCallback","getOptions","rangeOptions","AbstractLevelDOWN","cleanRangeOptions","opt","isRangeOption","open","oldStatus","_open","close","_close","asBuffer","_get","fromCallback","isOperational","maybeError","serialized","_getMany","batch","_chainedBatch","valueErr","reverse","keyAsBuffer","valueAsBuffer","_iterator","_setupIteratorOptions","_isOperational","require$$6","abstractLeveldown","results","inherits","kOptions","kIterator","kOperations","kPromise","DeferredIterator","setDb","op","deferredIterator","DeferredChainedBatch","deferrables","optionalDeferrables","kInnerDb","DeferredLevelDOWN","implement","onopen","operations","streamBrowser","object","enumerableOnly","symbols","filter","_defineProperty","_defineProperties","copyBuffer","buffer_list","BufferList","instance","Constructor","_classCallCheck","head","tail","protoProps","staticProps","entry","hasStrings","_getString","_getBuffer","nb","source","_objectSpread","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","_writableState","emitClose","_readableState","destroy_1","destroy","_this","readableDestroyed","destroyed","writableDestroyed","errorEmitted","_destroy","undestroy","reading","ended","endEmitted","ending","finalCalled","prefinished","finished","errorOrDestroy","stream","rState","wState","autoDestroy","codes","createErrorType","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","oneOf","expected","thing","determiner","search","this_len","substring","endsWith","ERR_INVALID_OPT_VALUE","getHighWaterMark","duplexKey","isDuplex","hwm","highWaterMark","highWaterMarkFrom","objectMode","config","localStorage","Duplex","_stream_writable","Writable","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","Stream","OurUint8Array","realHasInstance","destroyImpl","_require$codes","ERR_METHOD_NOT_IMPLEMENTED","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","require$$7","writableObjectMode","needDrain","noDecode","decodeStrings","defaultEncoding","writing","corked","sync","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","chunk","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","hasInstance","pipe","_uint8ArrayToBuffer","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_undestroy","objectKeys","_stream_duplex","Readable","allowHalfOpen","readable","onend","onEndNT","copyProps","SafeBuffer","SlowBuffer","StringDecoder","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","ERR_STREAM_PREMATURE_CLOSE","_Object$setPrototypeO","endOfStream","eos","called","_len","_key","onlegacyfinish","onfinish","writableEnded","readableEnded","onerror","onclose","onrequest","req","setHeader","abort","isRequest","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","done","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","_this2","async_iterator","_Object$create","fromBrowser","_stream_readable","ReadableState","EElistenerCount","debug","debugUtil","debuglog","createReadableStreamAsyncIterator","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kProxyEvents","require$$9","readableObjectMode","pipes","pipesCount","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","paused","awaitDrain","readingMore","decoder","require$$10","_read","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","addChunk","maybeReadMore","isPaused","setEncoding","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","xs","nOrig","doRead","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondrain","ondata","cleanedUp","pipeOnDrain","pause","event","dests","ev","wrap","require$$11","_fromList","iterable","require$$12","_stream_transform","Transform","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","_transform","flush","_flush","err2","_stream_passthrough","PassThrough","ERR_MISSING_ARGS","destroyer","closed","to","popCallback","pipeline_1","destroys","levelIteratorStream","ReadStream","_options","createError","Proto","Err","cause","captureStackTrace","LevelUPError","InitializationError","OpenError","ReadError","WriteError","NotFoundError","EncodingError","notFound","Batch","levelup","ops","IteratorStream","require$$8","LevelUP","_db","isOpen","_isOpening","isClosed","readStream","createReadStream","keyStream","createKeyStream","valueStream","createValueStream","runParallelLimit_1","tasks","pending","isErrored","each","some","task","isDef","has","hasKey","cmp","lowerBoundKey","lowerBound","def","lowerBoundInclusive","upperBoundInclusive","lowerBoundExclusive","upperBoundExclusive","upperBoundKey","upperBound","id","_range","lower","upper","defaults","lb","ub","gt","gte","lt","lte","contains","ltgt","NONE","keyRange","lowerOpen","upperOpen","IDBKeyRange","ta2str","TextDecoder","decode","ta","ta2buf","ab2str","ab","deserialize","createKeyRange","Iterator","location","_limit","_count","_callback","_cache","_completed","_aborted","_error","_transaction","_keys","_values","_keyAsBuffer","_valueAsBuffer","createIterator","transaction","objectStore","openCursor","onsuccess","cursor","onItem","onabort","onAbort","oncomplete","onComplete","continue","maybeNext","_deserializeKey","_deserializeValue","str2bin","TextEncoder","encoder","encode","impl","levelJs","Level","parallel","support","store","openKeyCursor","direction","DEFAULT_PREFIX","indexedDB","prefix","onupgradeneeded","objectStoreNames","createObjectStore","mode","await","request","stopPropagation","loop","upgrade","it","batchOptions","newKey","newValue","deleteDatabase","base32","Geohash","static","lat","lon","precision","posn","bit","evenBit","geohash","latMin","latMax","lonMin","lonMax","lonMid","latMid","charAt","bounds","sw","ne","toFixed","LN10","chr","bitN","lastCh","parent","adjacent","se","nw","sink","nanoassert","assert","t","AssertionError","sodium_memzero","crypto","randombytes","msCrypto","getRandomValues","require","randomBytes","memory","sodium_malloc","sodium_free","MessageChannel","loadSink","port1","postMessage","vn","xi","yi","crypto_verify_16","crypto_verify_32","crypto_verify_64","helpers","sodium_increment","nlen","sodium_memcmp","sodium_is_zero","ascii","hex","getUint32","getUint8","hexValue","char","bytesNeeded","fromCodePoint","encodeInto","codePointAt","bits","utf16le","utf8","codecFor","codec","fromArray","fromBuffer","arrayBuffer","buffers","totalLength","b4a","sha512","Sha512","BLOCKSIZE","K","hh","hl","finalised","bytesRead","ts64","h","compress","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","HMAC","inner","outer","keyhash","update","digest","inputBuf","formatInput","full","resultBuf","mod","__toBinary","bytes2","i2","c0","c1","c2","c3","exports2","module2","compiled","WebAssembly","Module","wasm","imports","int","log_tee","Instance","freeList","SHA512_BYTES","finalized","digestLength","pointer","_memory","_realloc","grow","ceil","paddingStart","WASM","WASM_SUPPORTED","ready","js","SUPPORTED","sha512UniversalModule","crypto_auth_1","crypto_auth_BYTES","crypto_auth_KEYBYTES","crypto_auth","out0","hmac","crypto_auth_verify","correct","crypto_hash_sha512","crypto_hash_1","crypto_hash_BYTES","gf","_9","gf0","gf1","_121665","D","D2","X","Y","I","M","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","sel25519","q","car25519","ed25519","inv25519","pack25519","unpack25519","A","Z","crypto_scalarmult_1","crypto_scalarmult","crypto_scalarmult_SCALARBYTES","z","x32","x16","require_blake2b","__commonJS","compile","wasmPromise","instantiate","Blake2b","BYTES_MIN","BYTES_MAX","KEYBYTES_MIN","KEYBYTES_MAX","SALTBYTES","PERSONALBYTES","salt","personal","blake2b_init","blake2b_update","blake2b_final","getPartialHash","setPartialHash","ph","b2wasm","ADD64AA","o0","o1","ADD64AC","B2B_GET32","B2B_G","ix","iy","x0","x1","y0","y1","xor0","xor1","BLAKE2B_IV32","SIGMA82","blake2bCompress","parameter_block","outlen","blake2bUpdate","toHex","blake2bFinal","blake2bModule","blake2b","BYTES","KEYBYTES","inputArray","crypto_generichash_BYTES","WASM_LOADED","require_xsalsa20","xsalsa20","SIGMA","top","free","xsalsa20_1","XSalsa20","nonce","_xor","Fallback","_pointer","_nonce","_overflow","_s","_z","core_hsalsa20","core_salsa20","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","NONCEBYTES","finalize","realloc","xsalsa20_xor","mpos","cpos","XOR","_instance","MAX_SAFE_INTEGER","crypto_stream_xor","xor","inp","poly1305","leftover","fin","blocks","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","want","poly1305_1","Poly1305","crypto_onetimeauth_1","crypto_onetimeauth","crypto_onetimeauth_PRIMITIVE","crypto_stream","crypto_onetimeauth_verify","crypto_onetimeauth_BYTES","crypto_onetimeauth_KEYBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_secretbox_1","crypto_secretbox","crypto_secretbox_open","crypto_secretbox_easy","crypto_secretbox_open_easy","crypto_secretbox_MACBYTES","mlen","box","crypto_scalarmult_base","crypto_generichash_batch","crypto_stream_xsalsa20_MESSAGEBYTES_MAX","crypto_secretbox_detached","crypto_secretbox_open_detached","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_MACBYTES","crypto_box_MESSAGEBYTES_MAX","crypto_box","crypto_box_easy","pk","sk","crypto_box_detached","crypto_box_open_easy","crypto_box_open_detached","crypto_box_keypair","crypto_box_seed_keypair","seed","epk","esk","zero","cleanup","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_box_SEEDBYTES","crypto_box_BEFORENMBYTES","crypto_box_beforenm","crypto_box_detached_afternm","crypto_box_open_detached_afternm","Sha256","SHA256_BYTES","expand","words","maj","s0","T1","bswap","round","load","view","setUint32","require_sha256","sha256","sha256UniversalModule","crypto_hash_sha256_1","crypto_hash_sha256","crypto_hash_sha256_BYTES","randombytes_buf","subkey","subkey_id","crypto_kdf_BYTES_MIN","crypto_kdf_CONTEXTBYTES","ctx_padded","STORE64_LE","crypto_kdf_BYTES_MAX","crypto_kdf_KEYBYTES","crypto_generichash","crypto_kx","crypto_kx_keypair","crypto_kx_seed_keypair","crypto_kx_SEEDBYTES","crypto_kx_SECRETKEYBYTES","crypto_kx_PUBLICKEYBYTES","chacha20Universal","Chacha20","constant","counter","chacha20Block","ws","QR","rotl","crypto_stream_chacha20_xor","crypto_stream_chacha20_NONCEBYTES","crypto_stream_chacha20_KEYBYTES","ic","crypto_stream_chacha20_ietf_xor","crypto_stream_chacha20_ietf_NONCEBYTES","crypto_stream_chacha20_ietf_KEYBYTES","crypto_stream_chacha20_ietf","crypto_stream_chacha20_ietf_xor_ic","crypto_aead_chacha20poly1305_ietf_ABYTES","crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX","_pad0","crypto_aead_chacha20poly1305_ietf_encrypt_detached","ad","nsec","npub","block0","slen","poly","write64LE","crypto_aead_chacha20poly1305_ietf_decrypt_detached","computed_mac","crypto_aead","crypto_aead_chacha20poly1305_ietf_encrypt","crypto_aead_chacha20poly1305_ietf_decrypt","crypto_aead_chacha20poly1305_ietf_KEYBYTES","crypto_aead_chacha20poly1305_ietf_NPUBBYTES","crypto_aead_chacha20poly1305_ietf_NSECBYTES","require_siphash24","fallback_1","mi","k0","_get_int","k1","v0","v2","v1","v3","mp","ml","ml7","_compress","_add","rl","a2","_rotl","_rotl32","al","fallback","siphash24_1","siphash24","siphash","crypto_hash","crypto_scalarmult_BYTES","crypto_hash_sha512_BYTES","crypto_sign_BYTES","crypto_sign_1","crypto_sign_keypair","crypto_sign_seed_keypair","crypto_sign","sig","sm","crypto_sign_open","crypto_sign_SEEDBYTES","crypto_sign_ed25519_PUBLICKEYBYTES","crypto_sign_ed25519_SECRETKEYBYTES","crypto_sign_ed25519_SEEDBYTES","crypto_sign_ed25519_BYTES","crypto_sign_ed25519_pk_to_curve25519","x25519_pk","ed25519_pk","one_minus_y","bad_points","isSmallOrder","unpackneg","pl","scalarmult","L","ed25519_mul_l","ed25519_is_on_main_subgroup","crypto_sign_ed25519_sk_to_curve25519","curveSk","edSk","crypto_sign_ed25519_sk_to_pk","pack","set25519","cswap","tx","ty","zi","par25519","scalarbase","seeded","modL","carry","smlen","chk","den","den2","den4","den6","pow2523","neq25519","forward","submodule","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","sodiumUniversal","crypto_sign_SECRETKEYBYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_detached","crypto_sign_verify_detached","inspectSymbol","BLOCK_SYMBOL","FEED_SYMBOL","GENESIS","picofeed","PicoFeed","MAX_FEED_SIZE","INITIAL_FEED_SIZE","PICKLE","KEY","BLOCK","KEY_SIZE","SIGNATURE_SIZE","COUNTER_SIZE","META_SIZE","_hasGenisis","_keychain","_MAX_FEED_SIZE","maxSize","initialSize","partial","_isDirty","mapBlock","_reIndex","force","_index","_appendKey","_ensureMinimumCapacity","_appendBlock","nbuf","_ensureKey","keyId","toArray","block","append","metaSz","pBlock","dataSize","newEnd","requestedSize","bytesOverflow","header","body","parentSig","dat","verify","clearCache","blockIdx","_clearCache","ktok","KEY_SZ","prevSig","keyIdx","findIndex","seq","valid","pickle","kToken","bToken","itr","fact","b2ub","noKeys","_unpack","pToken","pickleOffset","kM","bM","processChunk","ub2b","truncate","toLength","_steal","other","_robbed","__clazz","merge","indexCallback","forceCopy","interactiveMode","userValidate","rebase","blocksIterator","mutated","attemptReverseMerge","_reverseMergeFlag","sanityCheck","_compare","FeedDerivate","counters","iterators","eof","parents","step","chain","fastForward","mkErr","idxA","idxB","noLog","widths","utf","row","isGenesis","trimEnd","lines","cell","padEnd","isFeed","feed","SIG_N","COUNT_N","HDR_N","mapper","safeEnd","Feed","REPO_SYMBOL","mkKey","srcEnd","picorepo","strategy","_strategies","ptr","readBlock","_chainLoad","blocksWritten","owner","_traceOwnerOf","author","_hasBlock","bumpHead","writeBlock","_setHeadPtr","_setLatestPtr","_getHeadPtr","isAncestor","parentBlock","_queryUserStrategy","inlineStrategy","stopCallback","loadFeed","_getLatestPtr","after","abortAfter","stopHit","evicted","loadHead","relocate","latest","headOf","tailOf","_getTailPtr","latestOf","chainload","ownerOf","bkey","query","currentStructures","srcString","referenceMap","dataView","currentUnpackr","srcStringStart","srcStringEnd","currentExtensions","defaultOptions","useRecords","mapsAsObjects","C1Type","C1","sequentialMode","Unpackr","structures","sharedLength","getStructures","uninitialized","unpack","saveState","clearSource","checkedRead","unpackMultiple","lastPosition","defaultUnpackr","_mergeStructures","loadedStructures","existingStructures","structure","isShared","highByte","restoreStructures","trusted","incomplete","startsWith","token","loadStructures","createStructureReader","readKey","shortStringInJS","longStringInJS","readFixedString","readBin","getUint16","readExt","getFloat32","useFloat32","multiplier","mult10","getFloat64","int64AsNumber","getBigUint64","getInt8","getInt16","getInt32","getBigInt64","recordDefinition","extension","noBuffer","readString8","readString16","readString32","readArray","readMap","validName","firstId","readObject","createSecondByteReader","read0","readStringJS","byte1","byte2","byte3","unit","copyBuffers","keyCache","checkPosition","existingStructure","glbl","refEntry","targetProperties","used","savedSrcEnd","savedPosition","savedSrcStringStart","savedSrcStringEnd","savedSrcString","savedReferenceMap","savedSrc","savedStructures","savedStructuresContents","savedPackr","savedSequentialMode","typeCode","typedArrayName","Decoder","FLOAT32_OPTIONS","NEVER","ALWAYS","DECIMAL_ROUND","DECIMAL_FIT","textEncoder","extensions","extensionClasses","f32Array","u8Array","hasNodeBuffer","ByteArrayAllocate","ByteArray","MAX_BUFFER_SIZE","targetView","RECORD_SYMBOL","Packr","sharedStructures","hasSharedUpdate","lastSharedStructuresLength","encodeUtf8","maxBytes","written","packr","isSequential","sequential","hasSharedStructures","saveStructures","maxSharedStructures","maxOwnStructures","useTwoByteRecords","sharedLimitId","maxStructureId","recordIdsToRemove","transitionsCount","serializationsSinceTransitionRebuild","encodeOptions","structuredClone","transitions","nextTransition","transition","nextId","idsToInsert","makeRoom","distanceToMove","lastEnd","sort","insertIds","REUSE_BUFFER_MODE","returnBuffer","headerSize","strLength","strPosition","setInt16","setInt32","xShifted","setFloat32","setFloat64","referee","writeObject","entryValue","currentTarget","currentTargetView","currentPosition","writeExtensionData","setBigInt64","setBigUint64","largeBigIntToFloat","encodeUndefinedAsNil","writeFunction","variableMapSize","safePrototype","objectOffset","newTransitions","recordId","shouldShareStructure","nextOwnId","newSize","newBuffer","useBuffer","writeExtBuffer","allocateForWrite","writeBuffer","seconds","getTime","useTimestamp32","getMilliseconds","onInvalidDate","regex","defaultPackr","Encoder","decodeIter","bufferIterator","unpackr","parser","yields","encodeIter","objectIterator","packIterSync","packIterAsync","Class","unpackAddExtension","float32Number","PicoRepo","STRUCTS","picostore","mergeStrategy","repo","isRepo","_strategy","_stores","_loaded","_mutex","_packr","release","fail","timeoutError","register","initialValue","validator","reducer","trap","observers","_waitLock","readReg","writeReg","_decodeValue","patch","loud","_dispatch","local","diff","modified","root","_first","accepted","validationError","_mutateState","dryMerge","stores","merged","interrupts","signal","_commitHead","payload","_notifyObservers","_encodeValue","peers","listHeads","mods","observer","hotswap","reload","exec","parse","long","msAbs","plural","fmtLong","fmtShort","isPlural","common","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","coerce","formatter","formatters","formatArgs","useColors","color","selectColor","extend","namespaces","delimiter","newDebug","toNamespace","default","disable","names","skips","enable","save","humanize","lastC","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","document","documentElement","WebkitAppearance","firebug","exception","$1","localstorage","crypto_box_seal","crypto_box_seal_open","crypto_box_SEALBYTES","TYPE_PROFILE","TYPE_VIBE","TYPE_VIBE_RESP","TYPE_MESSAGE","TYPE_BYE_RESP","VIBE_REJECTED","PASS_TURN","decodeBlock","typeOfBlock","H","util","G_M","G_F","G_NB","G_R","fixJsonBuffers","graph","TTL","emptyProfile","picture","tagline","sex","expiresAt","validateProfile","containsURL","age","schedule","pubKeyGetter","peerId","exp","EV_CHAT_END","unseal","mkMatch","chatId","response","updatedAt","remoteBox","vibes_reg","vibeTTL","_sk","_pk","_reduceHasRun","ttl","setKeys","_peerId","matches","own","parentType","now","vibe","rejected","peer","createdAt","decrypted","strkey","chat","chats","TYPE_BYE","chats_reg","ChatTimeout","blockReward","BlockReward","health","InitialHealth","regenerate","RegenerateAmount","heads","stats","vibes","nextAuthor","mLength","indexKey","messages","hp","aEnd","bEnd","mkChat","authorId","lastSeen","nMessages","nExhausted","nPassed","nEnded","nStarted","blockSize","hpRegenerated","mkStats","turnPassed","isSent","pass","gesture","aStat","bStat","PEACE","LOVE","UNDERSTANDING","feedToGraph","seal","toBuffer","PLUG_SYMBOL","picoWire","MESSAGE_TIMEOUT","aOpened","bOpened","mkPlug","castA","setCastA","abortCastA","unpromise","castB","setCastB","abortCastB","broadcastsExported","$closed","setClosed","isA","plug","onmessage","opened","cast","isActive","Recurser","scope","isPlug","spliceWires","tearDown","replyExpected","$scope","setScope","abortScope","unpromiseTimeout","reply","stitch","_unpctr","_active","$p","active","unpromiseD","NETWORK_TIMEOUT","encodingTransformer","down","up","_nodes","_tap","_afterRemove","createWire","externalOnOpen","hubEnd","looseEnd","broadcast","antiLeakTimer","_filterNodes","race","abortSurvey","survey","responses","duplexStream","routingTable","txBuffer","streamSend","onStreamReceive","closeStream","dstPort","srcPort","replyTo","timer","registerCallback","packetSize","hyperStream","extensionId","channel","onextension","sendExt","wire","pBuffer","rBuffer","send","Hub","bufferReplacer","K_OK","K_JSON","K_QUERY","kTypeToString","encodeMsg","typeOfMsg","decodeMsg","rpc","nodeId","handlers","_controller","hub","_ondisconnect","nodeIds","node","ondisconnect","params","feeds","_uploadFeeds","onhandshake","onquery","_downloadFeeds","onblocks","shareBlocks","decodeKRPCMessage","encodeKRPCMessage","K_BLOCKS","K_REQUEST_BLOCK","K_REQUEST_HEAD","K_REQUEST_TAIL","K_ERR","K_EMPTY","K_SIG","K_ERR_MSG","RPC","unpackValue","boxPair","KEY_SK","KEY_BOX_LIKES_PK","KEY_BOX_LIKES_SK","ERR_PEER_NOT_FOUND","errorMessage","PEER_PLACEHOLDER","computeProfile","extraTime","score","toPublicKey","setHasProfile","hasProfile","__setHasProfile","profile","signPair","_vibeBox","_vibeController","updateProfile","_createBlock","$peer","_peer","$profile","$peers","peerMap","$chats","$loaded","joinPeer","initiator","_readReg","profileOf","computeVibe","remoteRejected","localRejected","myTurn","initVibe","Repo","Store","PeerCtrl","VibeCtrl","ConversationCtrl","ChatModule","$vibes","$chat","localPair","_send","cache","_getRemoteChatKey","branch","_setMessageBody","bye","_vibe","lChat","_getLocalChatKey","_getMessageBody","_tracePath","dump","loadChat","Network","random","spawnWire","connections","_setConnections","setConnections","$connections","opN","mut","dispatch","queryHead","queryTail","nBlocks","_badCreateBlockHook","details","BufferedRegistry","msgBox","vLength","_writeReg","GarbageCollector","sliceName","sz","packValue","_originalReducer","collectGarbage","startGC","inteval","setInterval","_collectGarbage","stopGC","clearInterval","tickQuery","segments","sweep","gcType","rootState","didMutate","drop","segmentId","rollback","hasExpired","isSelf","PeersModule","VibesModule","ckey","respondVibe","sealedMessage","_storeLocalChatKey","like","link","$vibe","toChatId","_vibes","sent","encodeBlock","blockend","_state","setLoaded","passive","setPassive","connected","setConnected","entered","setEntered","initialState","_now","ProfileCtrl","$state","__loading","deferredLoad","_checkReady","nLoaded","loudFail","cap","roundByte","countTrailingZeroes","countOnes","proximityOf","bitAt","mapOverlap","registers","outputs","cancel","reg","bitIdx","byteIdx","sum","GHSUNMAP","unpackGeo","gammaShift","N","log2","gammaUnshift","dGapEncode","geoPrecision","setBit","nc","GHSMAP","cpy","SIGN_SKBYTES","SIGN_PKBYTES","packGeo","binstr","decodeSL","GEO_BITS","DEFAULT_SIGN","DEFAULT_PROFILE","Keychain","gender","maxTries","generateAnonymous","prayFor","keychain","blank_object","run_all","fns","is_function","safe_not_equal","src_url_equal_anchor","current_component","src_url_equal","element_src","url","createElement","href","subscribe","callbacks","unsubscribe","component_subscribe","component","$$","on_destroy","create_slot","definition","$$scope","slot_ctx","get_slot_context","tar","get_slot_changes","lets","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","null_to_empty","set_store_value","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","element","svg_element","createElementNS","createTextNode","space","empty","listen","prevent_default","preventDefault","attr","attribute","removeAttribute","getAttribute","setAttribute","set_custom_element_data","set_data","wholeText","set_input_value","set_style","important","setProperty","toggle_class","toggle","classList","set_current_component","get_current_component","onMount","on_mount","createEventDispatcher","detail","bubbles","createEvent","initCustomEvent","custom_event","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","add_render_callback","add_flush_callback","seen_callbacks","flushidx","saved_component","fragment","before_update","after_update","outroing","outros","group_outros","check_outros","transition_in","transition_out","handle_promise","resolved","child_ctx","needs_flush","mount","hasCatch","update_await_block_branch","globals","create_component","mount_component","customElement","new_on_destroy","destroy_component","make_dirty","create_fragment","not_equal","append_styles","parent_component","on_disconnect","skip_bound","hydrate","nodes","childNodes","children","intro","SvelteComponent","$destroy","$on","$set","$$props","$$set","subscriber_queue","stop","subscribers","new_value","run_queue","subscriber","invalidate","derived","initial_value","single","stores_array","auto","inited","unsubscribers","Modem56","svlt","dbg","DB","leveljs","personalBucket","kernel","Kernel","keygen","geo","attempts","generate","decodePk","ll","Vibes","Chats","tryBoot","$kstate","setKstate","$error","setError","$entered","$swarming","setSwarming","$hasKey","setHasKey","$hasProfile","$profilePicture","setProfilePicture","swarming","profilePicture","boot","readIdentity","readProfile","pTemplate","autoSwarm","connectSwarm","navigate","modem","enter","decodeImage","purge","purgeKeychain","confirm","saveBackup","File","URL","createObjectURL","action_result","updateAttribute","updated","elem","setAttributeNS","nofill","ref","classes","qrcode","typeNumber","errorCorrectionLevel","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","makeImpl","maskPattern","moduleCount","modules","col","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","QRUtil","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","qrBitBuffer","getMode","getLength","getLengthInBits","totalDataCount","dataCount","putBit","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","createBytes","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","createTableTag","cellSize","margin","qrHtml","createSvgTag","alt","mr","rect","qrSvg","scalable","escapeXml","createDataURL","createImgTag","img","escaped","createASCII","blocksLastLineNoMargin","_createHalfASCII","renderTo2dContext","fillStyle","fillRect","stringToBytes","stringToBytesFuncs","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","unknownChar","PATTERN_POSITION_TABLE","G15","G18","getBCHDigit","QRMode","Q","QRMaskPattern","digit","errorCorrectLength","multiply","QRMath","gexp","sameCount","darkCount","EXP_TABLE","LOG_TABLE","_num","glog","ratio","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","_buffer","_length","bufIndex","_mode","_data","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","_str","_pos","_buflen","width","height","getPixel","gif","_width","_height","pixel","writeString","writeShort","raster","getLZWRaster","writeBytes","lzwMinCodeSize","clearCode","endCode","bitLength","lzwTable","byteOut","bitOut","_out","_bitLength","_bitBuffer","bitOutputStream","dataIndex","_map","_size","gifImage","setPixel","_base64","writeEncoded","padlen","base64EncodeOutputStream","charcode","toUTF8Array","imgElem","level","paint","qr","validateImport","progress","secret","unlucky","fails","showImportDialog","importInput","showAboutDialog","roll","$secret","$progress","$unlucky","pair","$gender","$geohash","writeIdentity","storeIdentity","$fails","geolocation","getCurrentPosition","latitude","longitude","lng","coords","$showAboutDialog","$showImportDialog","$importInput","$","weekdays","utcOffset","year","month","O","locale","$L","utc","$u","$x","$offset","$d","UTC","$y","getFullYear","$M","$D","$W","getDay","$H","$m","$s","$ms","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","unix","toDate","$locale","weekStart","daysInMonth","subtract","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","HH","mm","ss","SSS","getTimezoneOffset","toISOString","$i","isDayjs","en","Ls","dayjs","duration","intervalId","timeLeft","$timeLeft","constants","km","cm","ft","in","yd","areaConversion","m2","km2","ha","ft2","yd2","in2","sqm","sqkm","sqft","sqyd","sqin","getCoordinateKey_1","_default","point","keysToLookup","foundKey","isDecimal_1","checkedValue","isSexagesimal_1","_constants","sexagesimalPattern","sexagesimalToDecimal_1","sexagesimal","sec","decimal","getCoordinateKeys_1","_getCoordinateKey","__esModule","longitudeKeys","latitudeKeys","altitude","altitudeKeys","isValidLatitude_1","_isDecimal","_interopRequireDefault","_isSexagesimal","_sexagesimalToDecimal","isValidLatitude","MAXLAT","MINLAT","isValidLongitude_1","isValidLongitude","MAXLON","MINLON","isValidCoordinate_1","_getCoordinateKeys2","_isValidLatitude","_isValidLongitude","_getCoordinateKeys","toDecimal_1","_isValidCoordinate","toDecimal","getLatitude_1","_toDecimal","raw","latKey","getLongitude_1","toRad_1","PI","toDeg_1","computeDestinationPoint_1","_getLatitude","_getLongitude","_toRad","_toDeg","distance","bearing","radius","delta","theta","phi1","lambda1","phi2","asin","sin","cos","lambda2","atan2","convertArea_1","squareMeters","targetUnit","factor","convertDistance_1","meters","distanceConversion","convertSpeed_1","metersPerSecond","timeConversion","_slicedToArray","_arrayWithHoles","_n","_d","_e","_i","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","arr2","decimalToSexagesimal","_decimal$toString$spl2","pre","post","deg","min0","sec0","decimals","imprecise","_sec$split2","secPreDec","_sec$split2$","secDec","robustAcos_1","getDistance_1","_robustAcos","accuracy","fromLat","fromLon","toLat","toLon","acos","earthRadius","orderByDistance_1","_getDistance","distanceFn","findNearest_1","_orderByDistance","getAreaOfPolygon_1","points","area","lowerIndex","middleIndex","upperIndex","p1lon","p2lat","p3lon","getBounds_1","maxLat","minLat","maxLng","minLng","getBoundsOfDistance_1","minLon","maxLon","radLat","radLon","radDist","MAX_LAT_RAD","MIN_LAT_RAD","MAX_LON_RAD","MIN_LON_RAD","deltaLon","getCenter_1","numberOfPoints","pointLat","pointLon","sqrt","getCenterOfBounds_1","_getBounds","getRhumbLineBearing_1","diffLon","diffPhi","tan","getCompassDirection_1","_getRhumbLineBearing","bearingFn","getDistanceFromLine_1","lineStart","lineEnd","alpha","beta","getGreatCircleBearing_1","destLat","detLon","originLat","originLon","getPathLength_1","_typeof","getPreciseDistance","cosSigma","sigma","sinAlpha","cosSqAlpha","cos2SigmaM","sinSigma","lambdaP","startLat","startLon","endLat","endLon","ellipsoidParams","U1","atan","U2","sinU1","cosU1","sinU2","cosU2","lambda","iterLimit","sinLambda","cosLambda","C","uSq","B","deltaSigma","getRoughCompassDirection_1","exact","getSpeed_1","isPointInLine_1","isPointInPolygon_1","polygon","isInside","totalPolys","isPointNearLine_1","_getDistanceFromLine","isPointWithinRadius_1","center","wktToPolygon_1","wkt","coordText","_coordText$split2","_exportNames","computeDestinationPoint","convertArea","convertDistance","convertSpeed","findNearest","getAreaOfPolygon","getBounds","getBoundsOfDistance","getCenter","getCenterOfBounds","getCompassDirection","getCoordinateKey","getCoordinateKeys","getDistance","getDistanceFromLine","getGreatCircleBearing","getLatitude","getLongitude","getPathLength","getRhumbLineBearing","getRoughCompassDirection","getSpeed","isDecimal","isPointInLine","isPointInPolygon","isPointNearLine","isPointWithinRadius","isSexagesimal","isValidCoordinate","orderByDistance","sexagesimalToDecimal","toRad","toDeg","wktToPolygon","_computeDestinationPoint","_convertArea","_convertDistance","_convertSpeed","_decimalToSexagesimal","_findNearest","_getAreaOfPolygon","_getBoundsOfDistance","_getCenter","_getCenterOfBounds","_getCompassDirection","_getGreatCircleBearing","_getPathLength","_getPreciseDistance","_getRoughCompassDirection","_getSpeed","_isPointInLine","_isPointInPolygon","_isPointNearLine","_isPointWithinRadius","_wktToPolygon","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","require$$31","require$$32","require$$33","require$$34","require$$35","require$$36","require$$37","require$$38","require$$39","sendVibe","getCropSize","imgWidth","imgHeight","aspect","restrictPosition","imageSize","cropSize","zoom","restrictPositionCoord","maxPosition","getDistanceBetweenPoints","pointA","pointB","limitArea","shouldRound","noOp","image","crop","minZoom","maxZoom","cropShape","showGrid","zoomSpeed","crossOrigin","cropperSize","naturalWidth","naturalHeight","containerEl","containerRect","imgEl","dragStartPosition","dragStartCrop","lastPinchDistance","rafDragTimeout","rafZoomTimeout","isDragging","complete","onImgLoad","computeSizes","emitCropData","helpers.getCropSize","getBoundingClientRect","getMousePoint","clientX","clientY","getTouchPoint","touch","onDragStart","onDrag","cancelAnimationFrame","requestAnimationFrame","offsetX","offsetY","requestedPosition","helpers.restrictPosition","onPinchStart","touches","helpers.getDistanceBetweenPoints","helpers.getCenter","onPinchMove","setNewZoom","newZoom","zoomPoint","left","getPointOnContainer","zoomTarget","getPointOnImage","croppedAreaPercentages","croppedAreaPixels","imgSize","limitAreaFn","widthInPixels","heightInPixels","sizePixels","helpers.computeCroppedArea","percent","pixels","deltaY","canvasElement","imgElement","cropURL","files","setImage","onload","drawImage","preprocessFile","file","revokeObjectURL","dataUrl","toDataURL","encodeImage","$output","getContext","blob","showKeyDialog","writeProfile","$name","$tagline","$picture","_loading","$sk","$pk","$showKeyDialog","short","price","inventory","VIBE_TTL","vibeDetail","$vibeDetail","messagesElement","inputElement","Chat","showInput","scrollTo","scrollHeight","behaviour","$showInput","focus","charCode","$line","setName","$id","setId","$view","Pub","Shop","Messages","Profile","About","Keygen","routeName","path","setView","history","pushState","$namespaces","$open","toggleTheme","globError","globReject","htmlTag","dataset","theme","conn","cnns","showBar","showDev","showDebugSelector","nCount","scrollingElement","$showDebugSelector","years","days","hours","minutes","milliseconds","weeks","$l","negative","parseFromMilliseconds","calMilliseconds","as","fromNow","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","isDuration"],"mappings":"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"}